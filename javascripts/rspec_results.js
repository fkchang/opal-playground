!function(){function e(){}function n(){}function t(){}function r(){}function o(){}function a(e,n,t){var r=function(){},o=r.prototype=new e.constructor;n._scope=o,o.base=n,n._base_module=e.base,o.constructor=r,o.constants=[],t&&(n._orig_scope=e,e[t]=e.constructor[t]=n,e.constants.push(t))}function i(e,n){function t(){}var r=function(){};r.prototype=e.constructor.prototype,t.prototype=new r;var o=new t;return o._id=b++,o._alloc=n,o._isClass=!0,o.constructor=t,o._super=e,o._methods=[],o.__inc__=[],o.__parent=e,o._proto=n.prototype,n.prototype._klass=o,o}function s(){function e(){}var n=function(){};n.prototype=p.constructor.prototype,e.prototype=new n;var t=new e;return t._id=b++,t._isClass=!0,t.constructor=e,t._super=p,t._methods=[],t.__inc__=[],t.__parent=p,t._proto={},t.__mod__=!0,t.__dep__=[],t}function l(e,n){var t=i($,n);t._name=e,a(f,t,e),m.push(t);for(var r=_._methods.concat($._methods),o=0,s=r.length;s>o;o++){var l=r[o];n.prototype[l]=$._proto[l]}return t}function c(e,n){function t(){return this.$method_missing._p=t._p,t._p=null,this.$method_missing.apply(this,[n.slice(1)].concat(g.call(arguments)))}t.rb_stub=!0,e[n]=t}function u(e,n){_._methods.push(e);for(var t=0,r=m.length;r>t;t++)m[t]._proto[e]=n}var _,$,p,d,f=this.Opal={},m=[],h=function(){};h.prototype=f,f.constructor=h,f.constants=[],f.global=this;var v=f.hasOwnProperty,g=f.slice=Array.prototype.slice,b=0;f.uid=function(){return b++},f.cvars={},f.gvars={},f.create_scope=a,f.klass=function(e,n,t,r){e._isClass||(e=e._klass),null===n&&(n=$);var o=e._scope[t];if(v.call(e._scope,t)&&o._orig_scope===e._scope){if(!o._isClass)throw f.TypeError.$new(t+" is not a class");if(n!==o._super&&n!==$)throw f.TypeError.$new("superclass mismatch for class "+t)}else{if("function"==typeof n)return l(t,n);o=x(n,r),o._name=t,a(e._scope,o,t),e[t]=e._scope[t]=o,n!==$&&n!==_&&f.donate_constants(n,o),n.$inherited&&n.$inherited(o)}return o};var x=f.boot=function(e,n){var t=function(){};return t.prototype=e._proto,n.prototype=new t,n.prototype.constructor=n,i(e,n)};f.module=function(e,n){var t;if(e._isClass||(e=e._klass),v.call(e._scope,n)){if(t=e._scope[n],!t.__mod__&&t!==$)throw f.TypeError.$new(n+" is not a module")}else t=s(),t._name=n,a(e._scope,t,n),e[n]=e._scope[n]=t;return t};var y=function(e,n,t){if(t){var r=function(){};r.prototype=t.prototype,n.prototype=new r}return n.prototype.constructor=n,n},k=function(e,n,t){function r(){}var o=function(){};o.prototype=t.prototype,r.prototype=new o;var a=new r;return a._id=b++,a._alloc=n,a._isClass=!0,a._name=e,a._super=t,a.constructor=r,a._methods=[],a.__inc__=[],a.__parent=t,a._proto=n.prototype,n.prototype._klass=a,f[e]=a,f.constants.push(e),a};f.casgn=function(e,n,t){var r=e._scope;return t._isClass&&t._name===S&&(t._name=n),t._isClass&&(t._base_module=e),r.constants.push(n),r[n]=t},f.cdecl=function(e,n,t){return e.constants.push(n),e[n]=t},f.cget=function(e,n){null==n&&(n=e,e=f.Object);var t=e;for(n=n.split("::");0!=n.length;)t=t.$const_get(n.shift());return t},f.donate_constants=function(e,n){for(var t=e._scope.constants,r=n._scope,o=r.constants,a=0,i=t.length;i>a;a++)o.push(t[a]),r[t[a]]=e._scope[t[a]]},f.add_stubs=function(n){for(var t=0,r=n.length;r>t;t++){var o=n[t];e.prototype[o]||(e.prototype[o]=!0,c(e.prototype,o))}},f.add_stub_for=c,f.cm=function(e){return this.base.$const_missing(e)},f.ac=function(e,n,t,r){var o=(t._isClass?t._name+".":t._klass._name+"#")+r,a="["+o+"] wrong number of arguments("+e+" for "+n+")";throw f.ArgumentError.$new(a)},f.find_super_dispatcher=function(e,n,t,r,o){var a;return a=o?e._isClass?o._super:e._klass._proto:e._isClass?e._super:E(e,n,t),a=a["$"+n],a._p=r,a},f.find_iter_super_dispatcher=function(e,n,t,r,o){return t._def?f.find_super_dispatcher(e,t._jsid,t,r,o):f.find_super_dispatcher(e,n,t,r,o)};var E=function(e,n,t){for(var r=e.__meta__||e._klass;r&&r._proto["$"+n]!==t;)r=r.__parent;if(!r)throw new Error("could not find current class for super()");for(r=r.__parent;r;){var o=r._proto["$"+n];if(o&&o!==t)break;r=r.__parent}return r._proto};f.$return=function(e){throw f.returner.$v=e,f.returner},f.$yield1=function(e,n){if("function"!=typeof e)throw f.LocalJumpError.$new("no block given");return e.length>1?n._isArray?e.apply(null,n):e(n):e(n)},f.$yieldX=function(e,n){if("function"!=typeof e)throw f.LocalJumpError.$new("no block given");return e.length>1&&1==n.length&&n[0]._isArray?e.apply(null,n[0]):(n._isArray||(n=g.call(n)),e.apply(null,n))},f.is_a=function(e,n){if(e.__meta__===n)return!0;for(var t=e._klass;t;){if(t===n)return!0;t=t._super}return!1},f.to_ary=function(e){return e._isArray?e:e.$to_ary&&!e.$to_ary.rb_stub?e.$to_ary():[e]},f.send=function(e,n){var t=g.call(arguments,2),r=e["$"+n];return r?r.apply(e,t):e.$method_missing.apply(e,[n].concat(t))},f.block_send=function(e,n,t){var r=g.call(arguments,3),o=e["$"+n];return o?(o._p=t,o.apply(e,r)):e.$method_missing.apply(e,[n].concat(r))},f.donate=function(e,n){var t=e._methods,r=e.__dep__;if(e._methods=t.concat(n),r)for(var o=0,a=r.length;a>o;o++){for(var i=r[o],s=i._proto,l=0,c=n.length;c>l;l++){var u=n[l];s[u]=e._proto[u],s[u]._donated=!0}i.__dep__&&f.donate(i,n,!0)}},f.defn=function(e,n,t){return e.__mod__?(e._proto[n]=t,f.donate(e,[n])):e._isClass?(e._proto[n]=t,e===_?u(n,t):e===$&&f.donate(e,[n])):e[n]=t,S},f.defs=function(e,n,t){e._isClass||e.__mod__?e.constructor.prototype[n]=t:e[n]=t},f.hash=function(){if(1==arguments.length&&arguments[0]._klass==f.Hash)return arguments[0];var e=new f.Hash._alloc,n=[],t={};if(e.map=t,e.keys=n,1==arguments.length)if(arguments[0]._isArray)for(var r=arguments[0],o=0,a=r.length;a>o;o++){var i=r[o][0],s=r[o][1];null==t[i]&&n.push(i),t[i]=s}else{var s=arguments[0];for(var i in s)t[i]=s[i],n.push(i)}else for(var o=0,a=arguments.length;a>o;o++){var i=arguments[o],s=arguments[++o];null==t[i]&&n.push(i),t[i]=s}return e},f.hash2=function(e,n){var t=new f.Hash._alloc;return t.keys=e,t.map=n,t},f.range=function(e,n,t){var r=new f.Range._alloc;return r.begin=e,r.end=n,r.exclude=t,r},y("BasicObject",e),y("Object",n,e),y("Module",r,n),y("Class",t,r),_=k("BasicObject",e,t),$=k("Object",n,_.constructor),p=k("Module",r,$.constructor),d=k("Class",t,p.constructor),_._klass=d,$._klass=d,p._klass=d,d._klass=d,_._super=null,$._super=_,p._super=$,d._super=p,$.__dep__=m,f.base=$,_._scope=$._scope=f,_._orig_scope=$._orig_scope=f,f.Kernel=$,p._scope=$._scope,d._scope=$._scope,p._orig_scope=$._orig_scope,d._orig_scope=$._orig_scope,$._proto.toString=function(){return this.$to_s()},f.top=new $._alloc,f.klass($,$,"NilClass",o);var S=f.nil=new o;S.call=S.apply=function(){throw f.LocalJumpError.$new("no block given")},f.breaker=new Error("unexpected break"),f.returner=new Error("unexpected return"),l("Array",Array),l("Boolean",Boolean),l("Numeric",Number),l("String",String),l("Proc",Function),l("Exception",Error),l("Regexp",RegExp),l("Time",Date),TypeError._super=Error}.call(this),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module;return e.add_stubs(["$===","$respond_to?","$raise","$class","$__send__","$coerce_to","$<=>","$name"]),function(n){var a=o(n,"Opal"),i=(a._proto,a._scope);e.defs(a,"$coerce_to",function(n,r,o){var a,s=this;return(a=r["$==="](n))===t||a._isBoolean&&1!=a?(((a=n["$respond_to?"](o))===t||a._isBoolean&&1!=a)&&s.$raise(null==(a=i.TypeError)?e.cm("TypeError"):a,"no implicit conversion of "+n.$class()+" into "+r),n.$__send__(o)):n}),e.defs(a,"$coerce_to!",function(n,r,o){var a,s=this,l=t;return l=s.$coerce_to(n,r,o),((a=r["$==="](l))===t||a._isBoolean&&1!=a)&&s.$raise(null==(a=i.TypeError)?e.cm("TypeError"):a,"can't convert "+n.$class()+" into "+r+" ("+n.$class()+"#"+o+" gives "+l.$class()),l}),e.defs(a,"$try_convert",function(e,n,r){var o;return(o=n["$==="](e))===t||o._isBoolean&&1!=o?(o=e["$respond_to?"](r))===t||o._isBoolean&&1!=o?t:e.$__send__(r):e}),e.defs(a,"$compare",function(n,r){var o,a=this,s=t;return s=n["$<=>"](r),(o=s===t)===t||o._isBoolean&&1!=o||a.$raise(null==(o=i.ArgumentError)?e.cm("ArgumentError"):o,"comparison of "+n.$class().$name()+" with "+r.$class().$name()+" failed"),s}),e.defs(a,"$destructure",function(e){return 1==e.length?e[0]:e._isArray?e:r.call(e)})}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.klass;return e.add_stubs(["$attr_reader","$attr_writer","$=~","$raise","$const_missing","$to_str","$to_proc","$append_features","$included","$name","$new","$to_s"]),function(n,$super){function a(){}var i,s,l,c,u=a=o(n,$super,"Module",a),_=u._proto,$=u._scope;return e.defs(u,"$new",i=function(){function n(){}var r=i._p,o=r||t;i._p=null;var a=Opal.boot(Opal.Module,n);if(a._name=t,a._klass=Opal.Module,a.__dep__=[],a.__mod__=!0,a._proto={},e.create_scope(Opal.Module._scope,a),o!==t){var s=o._s;o._s=null,o.call(a),o._s=s}return a}),_["$==="]=function(n){var r,o=this;return(r=null==n)===t||r._isBoolean&&1!=r?e.is_a(n,o):!1},_["$<"]=function(e){for(var n=this,t=n;t;){if(t===e)return!0;t=t.__parent}return!1},_.$alias_method=function(n,t){var r=this;return r._proto["$"+n]=r._proto["$"+t],r._methods&&e.donate(r,["$"+n]),r},_.$alias_native=function(e,n){var t=this;return null==n&&(n=e),t._proto["$"+e]=t._proto[n]},_.$ancestors=function(){for(var e=this,n=e,t=[];n;)t.push(n),t=t.concat(n.__inc__),n=n._super;return t},_.$append_features=function(n){for(var t=this,r=t,o=n.__inc__,a=0,i=o.length;i>a;a++)if(o[a]===r)return;o.push(r),r.__dep__.push(n);var s={name:r._name,_proto:r._proto,__parent:n.__parent,__iclass:!0};n.__parent=s;for(var l=r._proto,c=n._proto,u=r._methods,a=0,i=u.length;i>a;a++){var _=u[a];c.hasOwnProperty(_)&&!c[_]._donated||(c[_]=l[_],c[_]._donated=!0)}return n.__dep__&&e.donate(n,u.slice(),!0),e.donate_constants(r,n),t},_.$attr_accessor=function(e){var n,t,o=this;return e=r.call(arguments,0),(n=o).$attr_reader.apply(n,[].concat(e)),(t=o).$attr_writer.apply(t,[].concat(e))},_.$attr_reader=function(n){var o=this;n=r.call(arguments,0);for(var a=o._proto,i=o,s=0,l=n.length;l>s;s++)!function(n){a[n]=t;var r=function(){return this[n]};i._isSingleton?a.constructor.prototype["$"+n]=r:(a["$"+n]=r,e.donate(o,["$"+n]))}(n[s]);return t},_.$attr_writer=function(n){var o=this;n=r.call(arguments,0);for(var a=o._proto,i=o,s=0,l=n.length;l>s;s++)!function(n){a[n]=t;var r=function(e){return this[n]=e};i._isSingleton?a.constructor.prototype["$"+n+"="]=r:(a["$"+n+"="]=r,e.donate(o,["$"+n+"="]))}(n[s]);return t},e.defn(u,"$attr",_.$attr_accessor),_.$constants=function(){var e=this;return e._scope.constants},_["$const_defined?"]=function(n,r){var o,a=this;if(null==r&&(r=!0),((o=n["$=~"](/^[A-Z]\w*$/))===t||o._isBoolean&&1!=o)&&a.$raise(null==(o=$.NameError)?e.cm("NameError"):o,"wrong constant name "+n),scopes=[a._scope],r||a===Opal.Object)for(var i=a._super;i!==Opal.BasicObject;)scopes.push(i._scope),i=i._super;for(var s=0,l=scopes.length;l>s;s++)if(scopes[s].hasOwnProperty(n))return!0;return!1},_.$const_get=function(n,r){var o,a=this;null==r&&(r=!0),((o=n["$=~"](/^[A-Z]\w*$/))===t||o._isBoolean&&1!=o)&&a.$raise(null==(o=$.NameError)?e.cm("NameError"):o,"wrong constant name "+n);var i=[a._scope];if(r||a==Opal.Object)for(var s=a._super;s!==Opal.BasicObject;)i.push(s._scope),s=s._super;for(var l=0,c=i.length;c>l;l++)if(i[l].hasOwnProperty(n))return i[l][n];return a.$const_missing(n)},_.$const_missing=function(n){var r,o=this,a=t;return a=o._name,o.$raise(null==(r=$.NameError)?e.cm("NameError"):r,"uninitialized constant "+a+"::"+n)},_.$const_set=function(n,r){var o,a=this;((o=n["$=~"](/^[A-Z]\w*$/))===t||o._isBoolean&&1!=o)&&a.$raise(null==(o=$.NameError)?e.cm("NameError"):o,"wrong constant name "+n);try{n=n.$to_str()}catch(i){a.$raise(null==(o=$.TypeError)?e.cm("TypeError"):o,"conversion with #to_str failed")}return e.casgn(a,n,r),r},_.$define_method=s=function(n,r){var o=this,a=s._p,i=a||t;if(s._p=null,r&&(i=r.$to_proc()),i===t)throw new Error("no block given");var l="$"+n;return i._jsid=n,i._s=null,i._def=i,o._proto[l]=i,e.donate(o,[l]),null},_.$remove_method=function(e){var n=this,t="$"+e;return n._proto[t],delete n._proto[t],n},_.$include=function(e){var n=this;e=r.call(arguments,0);for(var t=e.length-1;t>=0;t--){var o=e[t];o!==n&&(o.$append_features(n),o.$included(n))}return n},_.$instance_method=function(n){var t,r=this,o=r._proto["$"+n];return(!o||o.rb_stub)&&r.$raise(null==(t=$.NameError)?e.cm("NameError"):t,"undefined method `"+n+"' for class `"+r.$name()+"'"),(null==(t=$.UnboundMethod)?e.cm("UnboundMethod"):t).$new(r,o,n)},_.$instance_methods=function(e){var n=this;null==e&&(e=!1);var t=[],r=n._proto;for(var o in n._proto)(e||r.hasOwnProperty(o))&&(e||!r[o]._donated)&&"$"===o.charAt(0)&&t.push(o.substr(1));return t},_.$included=function(){return t},_.$extended=function(){return t},_.$module_eval=l=function(){var e=this,n=l._p,r=n||t;if(l._p=null,r===t)throw new Error("no block given");var o,a=r._s;return r._s=null,o=r.call(e),r._s=a,o},e.defn(u,"$class_eval",_.$module_eval),_.$module_exec=c=function(){var e=this,n=c._p,o=n||t;if(c._p=null,o===t)throw new Error("no block given");var a,i=o._s;return o._s=null,a=o.apply(e,r.call(arguments)),o._s=i,a},e.defn(u,"$class_exec",_.$module_exec),_["$method_defined?"]=function(e){var n=this,t=n._proto["$"+e];return!!t&&!t.rb_stub},_.$module_function=function(e){var n=this;e=r.call(arguments,0);for(var t=0,o=e.length;o>t;t++){var a=e[t],i=n._proto["$"+a];n.constructor.prototype["$"+a]=i}return n},_.$name=function(){var n=this;if(n._full_name)return n._full_name;for(var r=[],o=n;o;){if(o._name===t)return 0===r.length?t:r.join("::");if(r.unshift(o._name),o=o._base_module,o===e.Object)break}return 0===r.length?t:n._full_name=r.join("::")},_.$public=function(){return t},_.$private_class_method=function(e){var n=this;return n["$"+e]||t},e.defn(u,"$private",_.$public),e.defn(u,"$protected",_.$public),_["$private_method_defined?"]=function(){return!1},_.$private_constant=function(){return t},e.defn(u,"$protected_method_defined?",_["$private_method_defined?"]),e.defn(u,"$public_instance_methods",_.$instance_methods),e.defn(u,"$public_method_defined?",_["$method_defined?"]),_.$remove_class_variable=function(){return t},_.$remove_const=function(e){var n=this,t=n._scope[e];return delete n._scope[e],t},_.$to_s=function(){var e=this;return e.$name().$to_s()},_.$undef_method=function(n){var t=this;return e.add_stub_for(t._proto,"$"+n),t},t}(n,null)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.klass;return e.add_stubs(["$raise","$allocate"]),function(n,$super){function a(){}var i,s,l=a=o(n,$super,"Class",a),c=l._proto,u=l._scope;return e.defs(l,"$new",i=function(n){function r(){}var o,a=this,s=i._p,l=s||t;null==n&&(n=null==(o=u.Object)?e.cm("Object"):o),i._p=null,(!n._isClass||n.__mod__)&&a.$raise(null==(o=u.TypeError)?e.cm("TypeError"):o,"superclass must be a Class");var c=Opal.boot(n,r);if(c._name=t,c.__parent=n,e.create_scope(n._scope,c),n.$inherited(c),l!==t){var _=l._s;l._s=null,l.call(c),l._s=_}return c}),c.$allocate=function(){var e=this,n=new e._alloc;return n._id=Opal.uid(),n},c.$inherited=function(){return t},c.$new=s=function(e){var n=this,o=s._p,a=o||t;e=r.call(arguments,0),s._p=null;var i=n.$allocate();return i.$initialize._p=a,i.$initialize.apply(i,e),i},c.$superclass=function(){var e=this;return e._super||t},t}(n,null)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.klass;return e.add_stubs(["$raise"]),function(n,$super){function a(){}var i,s,l,c,u=a=o(n,$super,"BasicObject",a),_=u._proto,$=u._scope;return e.defn(u,"$initialize",function(){return t}),e.defn(u,"$==",function(e){var n=this;return n===e}),e.defn(u,"$__id__",function(){var e=this;return e._id||(e._id=Opal.uid())}),e.defn(u,"$__send__",i=function(e,n){var o=this,a=i._p,s=a||t;n=r.call(arguments,1),i._p=null;var l=o["$"+e];return l?(s!==t&&(l._p=s),l.apply(o,n)):(s!==t&&(o.$method_missing._p=s),o.$method_missing.apply(o,[e].concat(n)))}),e.defn(u,"$!",function(){return!1}),e.defn(u,"$eql?",_["$=="]),e.defn(u,"$equal?",_["$=="]),e.defn(u,"$instance_eval",s=function(){var n,r=this,o=s._p,a=o||t;s._p=null,a!==!1&&a!==t||(null==(n=$.Kernel)?e.cm("Kernel"):n).$raise(null==(n=$.ArgumentError)?e.cm("ArgumentError"):n,"no block given");var i,l=a._s;return a._s=null,i=a.call(r,r),a._s=l,i}),e.defn(u,"$instance_exec",l=function(n){var o,a=this,i=l._p,s=i||t;n=r.call(arguments,0),l._p=null,s!==!1&&s!==t||(null==(o=$.Kernel)?e.cm("Kernel"):o).$raise(null==(o=$.ArgumentError)?e.cm("ArgumentError"):o,"no block given");var c,u=s._s;return s._s=null,c=s.apply(a,n),s._s=u,c}),e.defn(u,"$method_missing",c=function(n,t){var o;return c._p,t=r.call(arguments,1),c._p=null,(null==(o=$.Kernel)?e.cm("Kernel"):o).$raise(null==(o=$.NoMethodError)?e.cm("NoMethodError"):o,"undefined method `"+n+"' for BasicObject instance")}),t}(n,null)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=e.slice,a=e.module,i=e.gvars;return e.add_stubs(["$raise","$inspect","$==","$name","$class","$new","$respond_to?","$to_ary","$to_a","$allocate","$copy_instance_variables","$initialize_clone","$initialize_copy","$singleton_class","$initialize_dup","$for","$to_proc","$append_features","$extended","$to_i","$to_s","$to_f","$*","$===","$empty?","$ArgumentError","$nan?","$infinite?","$to_int","$>","$length","$print","$format","$puts","$each","$<=","$[]","$nil?","$is_a?","$rand","$coerce_to","$respond_to_missing?"]),function(n){var s,l,c,u,_,$,p,d,f=a(n,"Kernel"),m=f._proto,h=f._scope;m.$method_missing=s=function(n,t){var r,a=this;return s._p,t=o.call(arguments,1),s._p=null,a.$raise(null==(r=h.NoMethodError)?e.cm("NoMethodError"):r,"undefined method `"+n+"' for "+a.$inspect())},m["$=~"]=function(){return!1},m["$==="]=function(e){var n=this;return n["$=="](e)},m["$<=>"]=function(e){var n=this;return n["$=="](e)?0:t},m.$method=function(n){var t,r=this,o=r["$"+n];return(!o||o.rb_stub)&&r.$raise(null==(t=h.NameError)?e.cm("NameError"):t,"undefined method `"+n+"' for class `"+r.$class().$name()+"'"),(null==(t=h.Method)?e.cm("Method"):t).$new(r,o,n)},m.$methods=function(n){var r=this;null==n&&(n=!0);var o=[];for(var a in r)if("$"==a[0]&&"function"==typeof r[a]){if((0==n||n===t)&&!e.hasOwnProperty.call(r,a))continue;o.push(a.substr(1))}return o},m.$Array=l=function(e,n){return l._p,n=o.call(arguments,1),l._p=null,null==e||e===t?[]:e["$respond_to?"]("to_ary")?e.$to_ary():e["$respond_to?"]("to_a")?e.$to_a():[e]},m.$caller=function(){return[]},m.$class=function(){var e=this;return e._klass},m.$copy_instance_variables=function(e){var n=this;for(var t in e)"$"!==t.charAt(0)&&"_id"!==t&&"_klass"!==t&&(n[t]=e[t])},m.$clone=function(){var e=this,n=t;return n=e.$class().$allocate(),n.$copy_instance_variables(e),n.$initialize_clone(e),n},m.$initialize_clone=function(e){var n=this;return n.$initialize_copy(e)},m.$define_singleton_method=c=function(n){var r,o=this,a=c._p,i=a||t;c._p=null,i!==!1&&i!==t||o.$raise(null==(r=h.ArgumentError)?e.cm("ArgumentError"):r,"tried to create Proc object without a block");var s="$"+n;return i._jsid=n,i._s=null,i._def=i,o.$singleton_class()._proto[s]=i,o},m.$dup=function(){var e=this,n=t;return n=e.$class().$allocate(),n.$copy_instance_variables(e),n.$initialize_dup(e),n},m.$initialize_dup=function(e){var n=this;return n.$initialize_copy(e)},m.$enum_for=u=function(n,r){var a,i,s,l=this,c=u._p,_=c||t;return r=o.call(arguments,1),null==n&&(n="each"),u._p=null,(a=(i=null==(s=h.Enumerator)?e.cm("Enumerator"):s).$for,a._p=_.$to_proc(),a).apply(i,[l,n].concat(r))},m["$equal?"]=function(e){var n=this;return n===e},m.$extend=function(e){var n=this;e=o.call(arguments,0);for(var t=n.$singleton_class(),r=e.length-1;r>=0;r--){var a=e[r];a.$append_features(t),a.$extended(n)}return n},m.$format=function(e,n){n=o.call(arguments,1);var t=0;return e.replace(/%(\d+\$)?([-+ 0]*)(\d*|\*(\d+\$)?)(?:\.(\d*|\*(\d+\$)?))?([cspdiubBoxXfgeEG])|(%%)/g,function(e,r,o,a,i,s,l,c,u){if(u)return"%";var _,$,p,d=-1!="diubBoxX".indexOf(c),f=-1!="eEfgG".indexOf(c),m="";if(void 0===a)_=void 0;else if("*"==a.charAt(0)){var h=t++;i&&(h=parseInt(i,10)-1),_=n[h].$to_i()}else _=parseInt(a,10);if(s)if("*"==s.charAt(0)){var v=t++;l&&(v=parseInt(l,10)-1),$=n[v].$to_i()}else $=parseInt(s,10);else $=f?6:void 0;switch(r&&(t=parseInt(r,10)-1),c){case"c":p=n[t],e=p._isString?p.charAt(0):String.fromCharCode(p.$to_i());break;case"s":e=n[t].$to_s(),void 0!==$&&(e=e.substr(0,$));break;case"p":e=n[t].$inspect(),void 0!==$&&(e=e.substr(0,$));break;case"d":case"i":case"u":e=n[t].$to_i().toString();break;case"b":case"B":e=n[t].$to_i().toString(2);break;case"o":e=n[t].$to_i().toString(8);break;case"x":case"X":e=n[t].$to_i().toString(16);break;case"e":case"E":e=n[t].$to_f().toExponential($);break;case"f":e=n[t].$to_f().toFixed($);break;case"g":case"G":e=n[t].$to_f().toPrecision($)}t++,(d||f)&&("-"==e.charAt(0)?(m="-",e=e.substr(1)):-1!=o.indexOf("+")?m="+":-1!=o.indexOf(" ")&&(m=" ")),d&&void 0!==$&&e.length<$&&(e="0"["$*"]($-e.length)+e);var g=m.length+e.length;void 0!==_&&_>g&&(-1!=o.indexOf("-")?e+=" "["$*"](_-g):-1!=o.indexOf("0")?e="0"["$*"](_-g)+e:m=" "["$*"](_-g)+m);var b=m+e;return-1!="XEG".indexOf(c)&&(b=b.toUpperCase()),b})},m.$hash=function(){var e=this;return e._id},m.$initialize_copy=function(){return t},m.$inspect=function(){var e=this;return e.$to_s()},m["$instance_of?"]=function(e){var n=this;return n._klass===e},m["$instance_variable_defined?"]=function(e){var n=this;return n.hasOwnProperty(e.substr(1))},m.$instance_variable_get=function(e){var n=this,r=n[e.substr(1)];return null==r?t:r},m.$instance_variable_set=function(e,n){var t=this;return t[e.substr(1)]=n},m.$instance_variables=function(){var e=this,n=[];for(var t in e)"$"!==t.charAt(0)&&"_klass"!==t&&"_id"!==t&&n.push("@"+t);return n},m.$Integer=function(n,r){var o,a,i=this,s=t;return null==r&&(r=t),(o=(null==(a=h.String)?e.cm("String"):a)["$==="](n))===t||o._isBoolean&&1!=o?(r!==!1&&r!==t&&i.$raise(i.$ArgumentError("base is only valid for String values")),function(){return s=n,(null==(o=h.Integer)?e.cm("Integer"):o)["$==="](s)?n:(null==(o=h.Float)?e.cm("Float"):o)["$==="](s)?((o=(a=n["$nan?"]())!==!1&&a!==t?a:n["$infinite?"]())===t||o._isBoolean&&1!=o||i.$raise(null==(o=h.FloatDomainError)?e.cm("FloatDomainError"):o,"unable to coerce "+n+" to Integer"),n.$to_int()):(null==(o=h.NilClass)?e.cm("NilClass"):o)["$==="](s)?i.$raise(null==(o=h.TypeError)?e.cm("TypeError"):o,"can't convert nil into Integer"):(o=n["$respond_to?"]("to_int"))===t||o._isBoolean&&1!=o?(o=n["$respond_to?"]("to_i"))===t||o._isBoolean&&1!=o?i.$raise(null==(o=h.TypeError)?e.cm("TypeError"):o,"can't convert "+n.$class()+" into Integer"):n.$to_i():n.$to_int()}()):((o=n["$empty?"]())===t||o._isBoolean&&1!=o||i.$raise(null==(o=h.ArgumentError)?e.cm("ArgumentError"):o,"invalid value for Integer: (empty string)"),parseInt(n,(o=r)!==!1&&o!==t?o:void 0))},m.$Float=function(n){var r,o,a=this;return(r=(null==(o=h.String)?e.cm("String"):o)["$==="](n))===t||r._isBoolean&&1!=r?(r=n["$respond_to?"]("to_f"))===t||r._isBoolean&&1!=r?a.$raise(null==(r=h.TypeError)?e.cm("TypeError"):r,"can't convert "+n.$class()+" into Float"):n.$to_f():parseFloat(n)},m["$is_a?"]=function(n){var t=this;return e.is_a(t,n)},e.defn(f,"$kind_of?",m["$is_a?"]),m.$lambda=_=function(){var e=_._p,n=e||t;return _._p=null,n.is_lambda=!0,n},m.$loop=$=function(){var e=this,n=$._p,o=n||t;for($._p=null;;)if(o()===r)return r.$v;return e},m["$nil?"]=function(){return!1},e.defn(f,"$object_id",m.$__id__),m.$printf=function(e){var n,r=this;return e=o.call(arguments,0),e.$length()["$>"](0)&&r.$print((n=r).$format.apply(n,[].concat(e))),t},m.$private_methods=function(){return[]},m.$proc=p=function(){var n,r=this,o=p._p,a=o||t;return p._p=null,a!==!1&&a!==t||r.$raise(null==(n=h.ArgumentError)?e.cm("ArgumentError"):n,"tried to create Proc object without a block"),a.is_lambda=!1,a},m.$puts=function(e){var n;return e=o.call(arguments,0),(n=i.stdout).$puts.apply(n,[].concat(e))},m.$p=function(e){var n,r,a,s=this;return e=o.call(arguments,0),(n=(r=e).$each,n._p=(a=function(e){return a._s||this,null==e&&(e=t),i.stdout.$puts(e.$inspect())},a._s=s,a),n).call(r),e.$length()["$<="](1)?e["$[]"](0):e},e.defn(f,"$print",m.$puts),m.$warn=function(e){var n,r;return e=o.call(arguments,0),((n=(r=i.VERBOSE["$nil?"]())!==!1&&r!==t?r:e["$empty?"]())===t||n._isBoolean&&1!=n)&&(n=i.stderr).$puts.apply(n,[].concat(e)),t},m.$raise=function(n,t){var r;throw null==n&&i["!"]?n=i["!"]:n._isString?n=(null==(r=h.RuntimeError)?e.cm("RuntimeError"):r).$new(n):n["$is_a?"](null==(r=h.Exception)?e.cm("Exception"):r)||(n=n.$new(t)),n},e.defn(f,"$fail",m.$raise),m.$rand=function(n){var t,r=this;if(void 0===n)return Math.random();if(n._isRange){var o=n.$to_a();return o[r.$rand(o.length)]}return Math.floor(Math.random()*Math.abs((null==(t=h.Opal)?e.cm("Opal"):t).$coerce_to(n,null==(t=h.Integer)?e.cm("Integer"):t,"to_int")))},e.defn(f,"$srand",m.$rand),m["$respond_to?"]=function(e,n){var r,o=this;if(null==n&&(n=!1),(r=o["$respond_to_missing?"](e))!==t&&(!r._isBoolean||1==r))return!0;var a=o["$"+e];return"function"!=typeof a||a.rb_stub?!1:!0},e.defn(f,"$send",m.$__send__),e.defn(f,"$public_send",m.$__send__),m.$singleton_class=function(){var n=this;if(n._isClass){if(n.__meta__)return n.__meta__;var t=new e.Class._alloc;return t._klass=e.Class,n.__meta__=t,t._proto=n.constructor.prototype,t._isSingleton=!0,t.__inc__=[],t._methods=[],t._scope=n._scope,t}if(n._isClass)return n._klass;if(n.__meta__)return n.__meta__;var r=n._klass,o="#<Class:#<"+r._name+":"+r._id+">>",a=function(){},t=Opal.boot(r,a);return t._name=o,t._proto=n,n.__meta__=t,t._klass=r._klass,t._scope=r._scope,t.__parent=r,t},e.defn(f,"$sprintf",m.$format),m.$String=function(e){return String(e)},m.$tap=d=function(){var n=this,o=d._p,a=o||t;return d._p=null,e.$yield1(a,n)===r?r.$v:n},m.$to_proc=function(){var e=this;return e},m.$to_s=function(){var e=this;return"#<"+e.$class().$name()+":"+e._id+">"},m.$freeze=function(){var e=this;return e.___frozen___=!0,e},m["$frozen?"]=function(){var e,n=this;return null==n.___frozen___&&(n.___frozen___=t),(e=n.___frozen___)!==!1&&e!==t?e:!1},m["$respond_to_missing?"]=function(){return!1},e.donate(f,["$method_missing","$=~","$===","$<=>","$method","$methods","$Array","$caller","$class","$copy_instance_variables","$clone","$initialize_clone","$define_singleton_method","$dup","$initialize_dup","$enum_for","$equal?","$extend","$format","$hash","$initialize_copy","$inspect","$instance_of?","$instance_variable_defined?","$instance_variable_get","$instance_variable_set","$instance_variables","$Integer","$Float","$is_a?","$kind_of?","$lambda","$loop","$nil?","$object_id","$printf","$private_methods","$proc","$puts","$p","$print","$warn","$raise","$fail","$rand","$srand","$respond_to?","$send","$public_send","$singleton_class","$sprintf","$String","$tap","$to_proc","$to_s","$freeze","$frozen?","$respond_to_missing?"])}(n)}(Opal),function(e){var n=e.top,t=e,r=e.nil,o=(e.breaker,e.slice,e.klass);return e.add_stubs(["$raise"]),function(n,$super){function t(){}var a=t=o(n,$super,"NilClass",t),i=a._proto,s=a._scope;return i["$!"]=function(){return!0},i["$&"]=function(){return!1},i["$|"]=function(e){return e!==!1&&e!==r},i["$^"]=function(e){return e!==!1&&e!==r},i["$=="]=function(e){return e===r},i.$dup=function(){var n,t=this;return t.$raise(null==(n=s.TypeError)?e.cm("TypeError"):n)},i.$inspect=function(){return"nil"},i["$nil?"]=function(){return!0},i.$singleton_class=function(){var n;return null==(n=s.NilClass)?e.cm("NilClass"):n},i.$to_a=function(){return[]},i.$to_h=function(){return e.hash()},i.$to_i=function(){return 0},e.defn(a,"$to_f",i.$to_i),i.$to_s=function(){return""},i.$object_id=function(){var n;return(null==(n=s.NilClass)?e.cm("NilClass"):n)._id||((null==(n=s.NilClass)?e.cm("NilClass"):n)._id=e.uid())},e.defn(a,"$hash",i.$object_id)}(n,null),e.cdecl(t,"NIL",r)}(Opal),function(e){var n,t=e.top,r=e,o=e.nil,a=(e.breaker,e.slice,e.klass);return e.add_stubs(["$undef_method"]),function(n,$super){function t(){}var r=t=a(n,$super,"Boolean",t),i=r._proto;return r._scope,i._isBoolean=!0,function(e){return e._scope,e._proto,e.$undef_method("new")}(r.$singleton_class()),i["$!"]=function(){var e=this;return 1!=e},i["$&"]=function(e){var n=this;return 1==n?e!==!1&&e!==o:!1},i["$|"]=function(e){var n=this;return 1==n?!0:e!==!1&&e!==o},i["$^"]=function(e){var n=this;return 1==n?e===!1||e===o:e!==!1&&e!==o},i["$=="]=function(e){var n=this;return 1==n===e.valueOf()},e.defn(r,"$equal?",i["$=="]),e.defn(r,"$singleton_class",i.$class),i.$to_s=function(){var e=this;return 1==e?"true":"false"},o}(t,null),e.cdecl(r,"TrueClass",null==(n=r.Boolean)?e.cm("Boolean"):n),e.cdecl(r,"FalseClass",null==(n=r.Boolean)?e.cm("Boolean"):n),e.cdecl(r,"TRUE",!0),e.cdecl(r,"FALSE",!1)}(Opal),function(e){var n,t=e.top,r=e,o=e.nil,a=(e.breaker,e.slice,e.klass),i=e.module;return e.add_stubs(["$attr_reader","$name","$class"]),function(n,$super){function t(){}var r=t=a(n,$super,"Exception",t),i=r._proto;return r._scope,i.message=o,r.$attr_reader("message"),e.defs(r,"$new",function(e){var n=this;null==e&&(e="");var t=new Error(e);return t._klass=n,t.name=n._name,t}),i.$backtrace=function(){var e=this,n=e.stack;return"string"==typeof n?n.split("\n").slice(0,15):n?n.slice(0,15):[]},i.$inspect=function(){var e=this;return"#<"+e.$class().$name()+": '"+e.message+"'>"},e.defn(r,"$to_s",i.$message)}(t,null),function(e,$super){function n(){}var t=n=a(e,$super,"StandardError",n);return t._proto,t._scope,o}(t,null==(n=r.Exception)?e.cm("Exception"):n),function(e,$super){function n(){}var t=n=a(e,$super,"SystemCallError",n);return t._proto,t._scope,o}(t,null==(n=r.StandardError)?e.cm("StandardError"):n),function(e,$super){function n(){}var t=n=a(e,$super,"NameError",n);return t._proto,t._scope,o}(t,null==(n=r.StandardError)?e.cm("StandardError"):n),function(e,$super){function n(){}var t=n=a(e,$super,"NoMethodError",n);return t._proto,t._scope,o}(t,null==(n=r.NameError)?e.cm("NameError"):n),function(e,$super){function n(){}var t=n=a(e,$super,"RuntimeError",n);return t._proto,t._scope,o}(t,null==(n=r.StandardError)?e.cm("StandardError"):n),function(e,$super){function n(){}var t=n=a(e,$super,"LocalJumpError",n);return t._proto,t._scope,o}(t,null==(n=r.StandardError)?e.cm("StandardError"):n),function(e,$super){function n(){}var t=n=a(e,$super,"TypeError",n);return t._proto,t._scope,o}(t,null==(n=r.StandardError)?e.cm("StandardError"):n),function(e,$super){function n(){}var t=n=a(e,$super,"ArgumentError",n);return t._proto,t._scope,o}(t,null==(n=r.StandardError)?e.cm("StandardError"):n),function(e,$super){function n(){}var t=n=a(e,$super,"IndexError",n);return t._proto,t._scope,o}(t,null==(n=r.StandardError)?e.cm("StandardError"):n),function(e,$super){function n(){}var t=n=a(e,$super,"StopIteration",n);return t._proto,t._scope,o}(t,null==(n=r.IndexError)?e.cm("IndexError"):n),function(e,$super){function n(){}var t=n=a(e,$super,"KeyError",n);return t._proto,t._scope,o}(t,null==(n=r.IndexError)?e.cm("IndexError"):n),function(e,$super){function n(){}var t=n=a(e,$super,"RangeError",n);return t._proto,t._scope,o}(t,null==(n=r.StandardError)?e.cm("StandardError"):n),function(e,$super){function n(){}var t=n=a(e,$super,"FloatDomainError",n);return t._proto,t._scope,o}(t,null==(n=r.RangeError)?e.cm("RangeError"):n),function(e,$super){function n(){}var t=n=a(e,$super,"IOError",n);return t._proto,t._scope,o}(t,null==(n=r.StandardError)?e.cm("StandardError"):n),function(e,$super){function n(){}var t=n=a(e,$super,"ScriptError",n);return t._proto,t._scope,o}(t,null==(n=r.Exception)?e.cm("Exception"):n),function(e,$super){function n(){}var t=n=a(e,$super,"SyntaxError",n);return t._proto,t._scope,o}(t,null==(n=r.ScriptError)?e.cm("ScriptError"):n),function(e,$super){function n(){}var t=n=a(e,$super,"NotImplementedError",n);return t._proto,t._scope,o}(t,null==(n=r.ScriptError)?e.cm("ScriptError"):n),function(e,$super){function n(){}var t=n=a(e,$super,"SystemExit",n);return t._proto,t._scope,o}(t,null==(n=r.Exception)?e.cm("Exception"):n),function(n){var t,r=i(n,"Errno"),s=(r._proto,r._scope);!function(n,$super){function t(){}var r,i=t=a(n,$super,"EINVAL",t);return i._proto,i._scope,e.defs(i,"$new",r=function(){var n=this;return r._p,r._p=null,e.find_super_dispatcher(n,"new",r,null,t).apply(n,["Invalid argument"])}),o}(r,null==(t=s.SystemCallError)?e.cm("SystemCallError"):t)}(t)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.klass,a=e.gvars;return e.add_stubs(["$respond_to?","$to_str","$to_s","$coerce_to","$new","$raise","$class"]),function(n,$super){function i(){}var s=i=o(n,$super,"Regexp",i),l=s._proto,c=s._scope;return l._isRegexp=!0,e.defs(s,"$escape",function(e){return e.replace(/[\-\[\]\/\{\}\)\)\*\+\?\.\\\^\$| ]/g,"\\$&")}),e.defs(s,"$union",function(e){return e=r.call(arguments,0),new RegExp(e.join(""))}),e.defs(s,"$new",function(e,n){return new RegExp(e,n)
}),l["$=="]=function(e){var n=this;return e.constructor==RegExp&&n.toString()===e.toString()},l["$==="]=function(e){var n,r,o=this;return r=null==e._isString,(n=r!==!1&&r!==t?e["$respond_to?"]("to_str"):r)===t||n._isBoolean&&1!=n||(e=e.$to_str()),(n=null==e._isString)===t||n._isBoolean&&1!=n?o.test(e):!1},l["$=~"]=function(n){var r,o=this;if((r=n===t)!==t&&(!r._isBoolean||1==r))return a["~"]=a["`"]=a["'"]=t,t;n=(null==(r=c.Opal)?e.cm("Opal"):r).$coerce_to(n,null==(r=c.String)?e.cm("String"):r,"to_str").$to_s();var i=o;i.global?i.lastIndex=0:i=new RegExp(i.source,"g"+(i.multiline?"m":"")+(i.ignoreCase?"i":""));var s=i.exec(n);return a["~"]=s?(null==(r=c.MatchData)?e.cm("MatchData"):r).$new(i,s):a["`"]=a["'"]=t,s?s.index:t},e.defn(s,"$eql?",l["$=="]),l.$inspect=function(){var e=this;return e.toString()},l.$match=function(n){var r,o=this;if((r=n===t)!==t&&(!r._isBoolean||1==r))return a["~"]=a["`"]=a["'"]=t,t;(r=null==n._isString)===t||r._isBoolean&&1!=r||(((r=n["$respond_to?"]("to_str"))===t||r._isBoolean&&1!=r)&&o.$raise(null==(r=c.TypeError)?e.cm("TypeError"):r,"no implicit conversion of "+n.$class()+" into String"),n=n.$to_str());var i=o;i.global?i.lastIndex=0:i=new RegExp(i.source,"g"+(i.multiline?"m":"")+(i.ignoreCase?"i":""));var s=i.exec(n);return a["~"]=s?(null==(r=c.MatchData)?e.cm("MatchData"):r).$new(i,s):a["`"]=a["'"]=t},l.$source=function(){var e=this;return e.source},e.defn(s,"$to_s",l.$source)}(n,null)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module);return e.add_stubs(["$===","$>","$<","$equal?","$<=>","$==","$normalize","$raise","$class","$>=","$<="]),function(n){var o=r(n,"Comparable"),a=o._proto,i=o._scope;e.defs(o,"$normalize",function(n){var r,o;return(r=(null==(o=i.Integer)?e.cm("Integer"):o)["$==="](n))===t||r._isBoolean&&1!=r?n["$>"](0)?1:n["$<"](0)?-1:0:n}),a["$=="]=function(n){var r,o=this,a=t;try{return(r=o["$equal?"](n))===t||r._isBoolean&&1!=r?(r=a=o["$<=>"](n))===t||r._isBoolean&&1!=r?!1:(null==(r=i.Comparable)?e.cm("Comparable"):r).$normalize(a)["$=="](0):!0}catch(s){if((null==(r=i.StandardError)?e.cm("StandardError"):r)["$==="](s))return!1;throw s}},a["$>"]=function(n){var r,o=this,a=t;return((r=a=o["$<=>"](n))===t||r._isBoolean&&1!=r)&&o.$raise(null==(r=i.ArgumentError)?e.cm("ArgumentError"):r,"comparison of "+o.$class()+" with "+n.$class()+" failed"),(null==(r=i.Comparable)?e.cm("Comparable"):r).$normalize(a)["$>"](0)},a["$>="]=function(n){var r,o=this,a=t;return((r=a=o["$<=>"](n))===t||r._isBoolean&&1!=r)&&o.$raise(null==(r=i.ArgumentError)?e.cm("ArgumentError"):r,"comparison of "+o.$class()+" with "+n.$class()+" failed"),(null==(r=i.Comparable)?e.cm("Comparable"):r).$normalize(a)["$>="](0)},a["$<"]=function(n){var r,o=this,a=t;return((r=a=o["$<=>"](n))===t||r._isBoolean&&1!=r)&&o.$raise(null==(r=i.ArgumentError)?e.cm("ArgumentError"):r,"comparison of "+o.$class()+" with "+n.$class()+" failed"),(null==(r=i.Comparable)?e.cm("Comparable"):r).$normalize(a)["$<"](0)},a["$<="]=function(n){var r,o=this,a=t;return((r=a=o["$<=>"](n))===t||r._isBoolean&&1!=r)&&o.$raise(null==(r=i.ArgumentError)?e.cm("ArgumentError"):r,"comparison of "+o.$class()+" with "+n.$class()+" failed"),(null==(r=i.Comparable)?e.cm("Comparable"):r).$normalize(a)["$<="](0)},a["$between?"]=function(e,n){var t=this;return t["$<"](e)?!1:t["$>"](n)?!1:!0},e.donate(o,["$==","$>","$>=","$<","$<=","$between?"])}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=e.slice,a=e.module;return e.add_stubs(["$raise","$enum_for","$flatten","$map","$==","$destructure","$nil?","$coerce_to!","$coerce_to","$===","$new","$<<","$[]","$[]=","$inspect","$__send__","$yield","$enumerator_size","$respond_to?","$size","$private","$compare","$<=>","$dup","$sort","$call","$first","$zip","$to_a"]),function(n){var i,s,l,c,u,_,$,p,d,f,m,h,v,g,b,x,y,k,E,S,w,R,B,M,O,A,C,I,T,j,N,z,F,D,P,H=a(n,"Enumerable"),L=H._proto,U=H._scope;L["$all?"]=i=function(){var n,o=this,a=i._p,s=a||t;i._p=null;var l=!0;return o.$each._p=s!==t?function(){var o=e.$yieldX(s,arguments);return o===r?(l=r.$v,r):(n=o)===t||n._isBoolean&&0==n?(l=!1,r):void 0}:function(e){return 1==arguments.length&&((n=e)===t||n._isBoolean&&0==n)?(l=!1,r):void 0},o.$each(),l},L["$any?"]=s=function(){var n,o=this,a=s._p,i=a||t;s._p=null;var l=!1;return o.$each._p=i!==t?function(){var o=e.$yieldX(i,arguments);return o===r?(l=r.$v,r):(n=o)===t||n._isBoolean&&1!=n?void 0:(l=!0,r)}:function(e){return 1==arguments.length&&((n=e)===t||n._isBoolean&&1!=n)?void 0:(l=!0,r)},o.$each(),l},L.$chunk=l=function(){var n,t=this;return l._p,l._p=null,t.$raise(null==(n=U.NotImplementedError)?e.cm("NotImplementedError"):n)},L.$collect=c=function(){var n=this,o=c._p,a=o||t;if(c._p=null,a===t)return n.$enum_for("collect");var i=[];return n.$each._p=function(){var n=e.$yieldX(a,arguments);return n===r?(i=r.$v,r):(i.push(n),void 0)},n.$each(),i},L.$collect_concat=u=function(){var n,o,a,i=this,s=u._p,l=s||t;return u._p=null,l===t?i.$enum_for("collect_concat"):(n=(o=i).$map,n._p=(a=function(n){var o;return a._s||this,null==n&&(n=t),o=e.$yield1(l,n),o===r?o:o},a._s=i,a),n).call(o).$flatten(1)},L.$count=_=function(n){var o,a=this,i=_._p,s=i||t;_._p=null;var l=0;return null!=n?s=function(){return(null==(o=U.Opal)?e.cm("Opal"):o).$destructure(arguments)["$=="](n)}:s===t&&(s=function(){return!0}),a.$each._p=function(){var n=e.$yieldX(s,arguments);return n===r?(l=r.$v,r):((o=n)===t||o._isBoolean&&1!=o||l++,void 0)},a.$each(),l},L.$cycle=$=function(n){var o,a=this,i=$._p,s=i||t;if(null==n&&(n=t),$._p=null,s===!1||s===t)return a.$enum_for("cycle",n);if((o=n["$nil?"]())===t||o._isBoolean&&1!=o){if(n=(null==(o=U.Opal)?e.cm("Opal"):o)["$coerce_to!"](n,null==(o=U.Integer)?e.cm("Integer"):o,"to_int"),(o=0>=n)!==t&&(!o._isBoolean||1==o))return t}else;var l,c=[];if(a.$each._p=function(){var n=(null==(o=U.Opal)?e.cm("Opal"):o).$destructure(arguments),t=e.$yield1(s,n);return t===r?(l=r.$v,r):(c.push(n),void 0)},a.$each(),void 0!==l)return l;if(0===c.length)return t;if((o=n["$nil?"]())===t||o._isBoolean&&1!=o)for(;n>1;){for(var u=0,_=c.length;_>u;u++){var p=e.$yield1(s,c[u]);if(p===r)return r.$v}n--}else for(;;)for(var u=0,_=c.length;_>u;u++){var p=e.$yield1(s,c[u]);if(p===r)return r.$v}},L.$detect=p=function(n){var o,a=this,i=p._p,s=i||t;if(p._p=null,s===t)return a.$enum_for("detect",n);var l=void 0;return a.$each._p=function(){var n=(null==(o=U.Opal)?e.cm("Opal"):o).$destructure(arguments),a=e.$yield1(s,n);return a===r?(l=r.$v,r):(o=a)===t||o._isBoolean&&1!=o?void 0:(l=n,r)},a.$each(),void 0===l&&void 0!==n&&(l="function"==typeof n?n():n),void 0===l?t:l},L.$drop=function(n){var r,o=this;n=(null==(r=U.Opal)?e.cm("Opal"):r).$coerce_to(n,null==(r=U.Integer)?e.cm("Integer"):r,"to_int"),(r=0>n)===t||r._isBoolean&&1!=r||o.$raise(null==(r=U.ArgumentError)?e.cm("ArgumentError"):r,"attempt to drop negative size");var a=[],i=0;return o.$each._p=function(){i>=n&&a.push((null==(r=U.Opal)?e.cm("Opal"):r).$destructure(arguments)),i++},o.$each(),a},L.$drop_while=d=function(){var n,o=this,a=d._p,i=a||t;if(d._p=null,i===t)return o.$enum_for("drop_while");var s=[],l=!0;return o.$each._p=function(){var o=(null==(n=U.Opal)?e.cm("Opal"):n).$destructure(arguments);if(l){var a=e.$yield1(i,o);if(a===r)return s=r.$v,r;((n=a)===t||n._isBoolean&&0==n)&&(l=!1,s.push(o))}else s.push(o)},o.$each(),s},L.$each_cons=f=function(){var n,t=this;return f._p,f._p=null,t.$raise(null==(n=U.NotImplementedError)?e.cm("NotImplementedError"):n)},L.$each_entry=m=function(){var n,t=this;return m._p,m._p=null,t.$raise(null==(n=U.NotImplementedError)?e.cm("NotImplementedError"):n)},L.$each_slice=h=function(n){var o,a=this,i=h._p,s=i||t;if(h._p=null,n=(null==(o=U.Opal)?e.cm("Opal"):o).$coerce_to(n,null==(o=U.Integer)?e.cm("Integer"):o,"to_int"),(o=0>=n)===t||o._isBoolean&&1!=o||a.$raise(null==(o=U.ArgumentError)?e.cm("ArgumentError"):o,"invalid slice size"),s===t)return a.$enum_for("each_slice",n);var l,c=[];return a.$each._p=function(){var t=(null==(o=U.Opal)?e.cm("Opal"):o).$destructure(arguments);if(c.push(t),c.length===n){if(s(c)===r)return l=r.$v,r;c=[]}},a.$each(),void 0!==l?l:c.length>0&&s(c)===r?r.$v:t},L.$each_with_index=v=function(n){var a,i,s=this,l=v._p,c=l||t;if(n=o.call(arguments,0),v._p=null,c===t)return(a=s).$enum_for.apply(a,["each_with_index"].concat(n));var u,_=0;return s.$each._p=function(){var n=(null==(i=U.Opal)?e.cm("Opal"):i).$destructure(arguments),t=c(n,_);return t===r?(u=r.$v,r):(_++,void 0)},s.$each.apply(s,n),void 0!==u?u:s},L.$each_with_object=g=function(n){var o,a=this,i=g._p,s=i||t;if(g._p=null,s===t)return a.$enum_for("each_with_object",n);var l;return a.$each._p=function(){var t=(null==(o=U.Opal)?e.cm("Opal"):o).$destructure(arguments),a=s(t,n);return a===r?(l=r.$v,r):void 0},a.$each(),void 0!==l?l:n},L.$entries=function(n){var t,r=this;n=o.call(arguments,0);var a=[];return r.$each._p=function(){a.push((null==(t=U.Opal)?e.cm("Opal"):t).$destructure(arguments))},r.$each.apply(r,n),a},e.defn(H,"$find",L.$detect),L.$find_all=b=function(){var n,o=this,a=b._p,i=a||t;if(b._p=null,i===t)return o.$enum_for("find_all");var s=[];return o.$each._p=function(){var o=(null==(n=U.Opal)?e.cm("Opal"):n).$destructure(arguments),a=e.$yield1(i,o);return a===r?(s=r.$v,r):((n=a)===t||n._isBoolean&&1!=n||s.push(o),void 0)},o.$each(),s},L.$find_index=x=function(n){var o,a=this,i=x._p,s=i||t;if(x._p=null,(o=void 0===n&&s===t)!==t&&(!o._isBoolean||1==o))return a.$enum_for("find_index");var l=t,c=0;return null!=n?a.$each._p=function(){var t=(null==(o=U.Opal)?e.cm("Opal"):o).$destructure(arguments);return t["$=="](n)?(l=c,r):(c+=1,void 0)}:s!==t&&(a.$each._p=function(){var n=e.$yieldX(s,arguments);return n===r?(l=r.$v,r):(o=n)===t||o._isBoolean&&1!=o?(c+=1,void 0):(l=c,r)}),a.$each(),l},L.$first=function(n){var o,a=this,i=t;if((o=void 0===n)===t||o._isBoolean&&1!=o){if(i=[],n=(null==(o=U.Opal)?e.cm("Opal"):o).$coerce_to(n,null==(o=U.Integer)?e.cm("Integer"):o,"to_int"),(o=0>n)===t||o._isBoolean&&1!=o||a.$raise(null==(o=U.ArgumentError)?e.cm("ArgumentError"):o,"attempt to take negative size"),(o=0==n)!==t&&(!o._isBoolean||1==o))return[];var s=0,n=(null==(o=U.Opal)?e.cm("Opal"):o).$coerce_to(n,null==(o=U.Integer)?e.cm("Integer"):o,"to_int");a.$each._p=function(){return i.push((null==(o=U.Opal)?e.cm("Opal"):o).$destructure(arguments)),n<=++s?r:void 0},a.$each()}else i=t,a.$each._p=function(){return i=(null==(o=U.Opal)?e.cm("Opal"):o).$destructure(arguments),r},a.$each();return i},e.defn(H,"$flat_map",L.$collect_concat),L.$grep=y=function(n){var o,a=this,i=y._p,s=i||t;y._p=null;var l=[];return a.$each._p=s!==t?function(){var a=(null==(o=U.Opal)?e.cm("Opal"):o).$destructure(arguments),i=n["$==="](a);if((o=i)!==t&&(!o._isBoolean||1==o)){if(i=e.$yield1(s,a),i===r)return l=r.$v,r;l.push(i)}}:function(){var r=(null==(o=U.Opal)?e.cm("Opal"):o).$destructure(arguments),a=n["$==="](r);(o=a)===t||o._isBoolean&&1!=o||l.push(r)},a.$each(),l},L.$group_by=k=function(){var n,o,a,i=this,s=k._p,l=s||t,c=t;if(k._p=null,l===t)return i.$enum_for("group_by");c=(null==(n=U.Hash)?e.cm("Hash"):n).$new();var u;return i.$each._p=function(){var i=(null==(n=U.Opal)?e.cm("Opal"):n).$destructure(arguments),s=e.$yield1(l,i);return s===r?(u=r.$v,r):(n=s,o=c,(a=o["$[]"](n))!==!1&&a!==t?a:o["$[]="](n,[])["$<<"](i),void 0)},i.$each(),void 0!==u?u:c},L["$include?"]=function(n){var t,o=this,a=!1;return o.$each._p=function(){var o=(null==(t=U.Opal)?e.cm("Opal"):t).$destructure(arguments);return o["$=="](n)?(a=!0,r):void 0},o.$each(),a},L.$inject=E=function(n,o){var a,i=this,s=E._p,l=s||t;E._p=null;var c=n;return l!==t&&void 0===o?i.$each._p=function(){var n=(null==(a=U.Opal)?e.cm("Opal"):a).$destructure(arguments);return void 0===c?(c=n,void 0):(n=e.$yieldX(l,[c,n]),n===r?(c=r.$v,r):(c=n,void 0))}:(void 0===o&&((null==(a=U.Symbol)?e.cm("Symbol"):a)["$==="](n)||i.$raise(null==(a=U.TypeError)?e.cm("TypeError"):a,""+n.$inspect()+" is not a Symbol"),o=n,c=void 0),i.$each._p=function(){var n=(null==(a=U.Opal)?e.cm("Opal"):a).$destructure(arguments);return void 0===c?(c=n,void 0):(c=c.$__send__(o,n),void 0)}),i.$each(),c},L.$lazy=function(){var n,r,a,i,s,l=this;return(n=(r=null==(i=(null==(s=U.Enumerator)?e.cm("Enumerator"):s)._scope).Lazy?i.cm("Lazy"):i.Lazy).$new,n._p=(a=function(e,n){var r;return a._s||this,null==e&&(e=t),n=o.call(arguments,1),(r=e).$yield.apply(r,[].concat(n))},a._s=l,a),n).call(r,l,l.$enumerator_size())},L.$enumerator_size=function(){var e,n=this;return(e=n["$respond_to?"]("size"))===t||e._isBoolean&&1!=e?t:n.$size()},H.$private("enumerator_size"),e.defn(H,"$map",L.$collect),L.$max=S=function(){var n,o=this,a=S._p,i=a||t;S._p=null;var s;return o.$each._p=i!==t?function(){var a=(null==(n=U.Opal)?e.cm("Opal"):n).$destructure(arguments);if(void 0===s)return s=a,void 0;var l=i(a,s);return l===r?(s=r.$v,r):(l===t&&o.$raise(null==(n=U.ArgumentError)?e.cm("ArgumentError"):n,"comparison failed"),l>0&&(s=a),void 0)}:function(){var t=(null==(n=U.Opal)?e.cm("Opal"):n).$destructure(arguments);return void 0===s?(s=t,void 0):((null==(n=U.Opal)?e.cm("Opal"):n).$compare(t,s)>0&&(s=t),void 0)},o.$each(),void 0===s?t:s},L.$max_by=w=function(){var n,o=this,a=w._p,i=a||t;if(w._p=null,i===!1||i===t)return o.$enum_for("max_by");var s,l;return o.$each._p=function(){var t=(null==(n=U.Opal)?e.cm("Opal"):n).$destructure(arguments),o=e.$yield1(i,t);return void 0===s?(s=t,l=o,void 0):o===r?(s=r.$v,r):(o["$<=>"](l)>0&&(s=t,l=o),void 0)},o.$each(),void 0===s?t:s},e.defn(H,"$member?",L["$include?"]),L.$min=R=function(){var n,o=this,a=R._p,i=a||t;R._p=null;var s;return o.$each._p=i!==t?function(){var a=(null==(n=U.Opal)?e.cm("Opal"):n).$destructure(arguments);if(void 0===s)return s=a,void 0;var l=i(a,s);return l===r?(s=r.$v,r):(l===t&&o.$raise(null==(n=U.ArgumentError)?e.cm("ArgumentError"):n,"comparison failed"),0>l&&(s=a),void 0)}:function(){var t=(null==(n=U.Opal)?e.cm("Opal"):n).$destructure(arguments);return void 0===s?(s=t,void 0):((null==(n=U.Opal)?e.cm("Opal"):n).$compare(t,s)<0&&(s=t),void 0)},o.$each(),void 0===s?t:s},L.$min_by=B=function(){var n,o=this,a=B._p,i=a||t;if(B._p=null,i===!1||i===t)return o.$enum_for("min_by");var s,l;return o.$each._p=function(){var t=(null==(n=U.Opal)?e.cm("Opal"):n).$destructure(arguments),o=e.$yield1(i,t);return void 0===s?(s=t,l=o,void 0):o===r?(s=r.$v,r):(o["$<=>"](l)<0&&(s=t,l=o),void 0)},o.$each(),void 0===s?t:s},L.$minmax=M=function(){var n,t=this;return M._p,M._p=null,t.$raise(null==(n=U.NotImplementedError)?e.cm("NotImplementedError"):n)},L.$minmax_by=O=function(){var n,t=this;return O._p,O._p=null,t.$raise(null==(n=U.NotImplementedError)?e.cm("NotImplementedError"):n)},L["$none?"]=A=function(){var n,o=this,a=A._p,i=a||t;A._p=null;var s=!0;return o.$each._p=i!==t?function(){var o=e.$yieldX(i,arguments);return o===r?(s=r.$v,r):(n=o)===t||n._isBoolean&&1!=n?void 0:(s=!1,r)}:function(){var o=(null==(n=U.Opal)?e.cm("Opal"):n).$destructure(arguments);return(n=o)===t||n._isBoolean&&1!=n?void 0:(s=!1,r)},o.$each(),s},L["$one?"]=C=function(){var n,o=this,a=C._p,i=a||t;C._p=null;var s=!1;return o.$each._p=i!==t?function(){var o=e.$yieldX(i,arguments);if(o===r)return s=r.$v,r;if((n=o)!==t&&(!n._isBoolean||1==n)){if(s===!0)return s=!1,r;s=!0}}:function(){var o=(null==(n=U.Opal)?e.cm("Opal"):n).$destructure(arguments);if((n=o)!==t&&(!n._isBoolean||1==n)){if(s===!0)return s=!1,r;s=!0}},o.$each(),s},L.$partition=I=function(){var n,o=this,a=I._p,i=a||t;if(I._p=null,i===t)return o.$enum_for("partition");var s=[],l=[];return o.$each._p=function(){var o=(null==(n=U.Opal)?e.cm("Opal"):n).$destructure(arguments),a=e.$yield1(i,o);return a===r?(result=r.$v,r):((n=a)===t||n._isBoolean&&1!=n?l.push(o):s.push(o),void 0)},o.$each(),[s,l]},e.defn(H,"$reduce",L.$inject),L.$reject=T=function(){var n,o=this,a=T._p,i=a||t;if(T._p=null,i===t)return o.$enum_for("reject");var s=[];return o.$each._p=function(){var o=(null==(n=U.Opal)?e.cm("Opal"):n).$destructure(arguments),a=e.$yield1(i,o);return a===r?(s=r.$v,r):(((n=a)===t||n._isBoolean&&0==n)&&s.push(o),void 0)},o.$each(),s},L.$reverse_each=j=function(){var n=this,r=j._p,o=r||t;if(j._p=null,o===t)return n.$enum_for("reverse_each");var a=[];n.$each._p=function(){a.push(arguments)},n.$each();for(var i=a.length-1;i>=0;i--)e.$yieldX(o,a[i]);return a},e.defn(H,"$select",L.$find_all),L.$slice_before=N=function(n){var r,o,a,i,s=this,l=N._p,c=l||t;return N._p=null,(r=void 0===n&&c===t||arguments.length>1)===t||r._isBoolean&&1!=r||s.$raise(null==(r=U.ArgumentError)?e.cm("ArgumentError"):r,"wrong number of arguments ("+arguments.length+" for 1)"),(r=(o=null==(i=U.Enumerator)?e.cm("Enumerator"):i).$new,r._p=(a=function(r){var o,i=a._s||this;null==r&&(r=t);var s=[];i.$each._p=c!==t?void 0===n?function(){var n=(null==(o=U.Opal)?e.cm("Opal"):o).$destructure(arguments),a=e.$yield1(c,n);(o=a)!==t&&(!o._isBoolean||1==o)&&s.length>0&&(r["$<<"](s),s=[]),s.push(n)}:function(){var a=(null==(o=U.Opal)?e.cm("Opal"):o).$destructure(arguments),i=c(a,n.$dup());(o=i)!==t&&(!o._isBoolean||1==o)&&s.length>0&&(r["$<<"](s),s=[]),s.push(a)}:function(){var a=(null==(o=U.Opal)?e.cm("Opal"):o).$destructure(arguments),i=n["$==="](a);(o=i)!==t&&(!o._isBoolean||1==o)&&s.length>0&&(r["$<<"](s),s=[]),s.push(a)},i.$each(),s.length>0&&r["$<<"](s)},a._s=s,a),r).call(o)},L.$sort=z=function(){var n,t=this;return z._p,z._p=null,t.$raise(null==(n=U.NotImplementedError)?e.cm("NotImplementedError"):n)},L.$sort_by=F=function(){var n,r,o,a,i,s,l,c,u,_=this,$=F._p,p=$||t;return F._p=null,p===t?_.$enum_for("sort_by"):(n=(r=(a=(i=(l=(c=_).$map,l._p=(u=function(){var n;return u._s||this,arg=(null==(n=U.Opal)?e.cm("Opal"):n).$destructure(arguments),[p.$call(arg),arg]},u._s=_,u),l).call(c)).$sort,a._p=(s=function(e,n){return s._s||this,null==e&&(e=t),null==n&&(n=t),e["$[]"](0)["$<=>"](n["$[]"](0))},s._s=_,s),a).call(i)).$map,n._p=(o=function(e){return o._s||this,null==e&&(e=t),e[1]},o._s=_,o),n).call(r)},L.$take=function(e){var n=this;return n.$first(e)},L.$take_while=D=function(){var n,o=this,a=D._p,i=a||t;if(D._p=null,i===!1||i===t)return o.$enum_for("take_while");var s=[];return o.$each._p=function(){var o=(null==(n=U.Opal)?e.cm("Opal"):n).$destructure(arguments),a=e.$yield1(i,o);return a===r?(s=r.$v,r):(n=a)===t||n._isBoolean&&0==n?r:(s.push(o),void 0)},o.$each(),s},e.defn(H,"$to_a",L.$entries),L.$zip=P=function(e){var n,t=this;return P._p,e=o.call(arguments,0),P._p=null,(n=t.$to_a()).$zip.apply(n,[].concat(e))},e.donate(H,["$all?","$any?","$chunk","$collect","$collect_concat","$count","$cycle","$detect","$drop","$drop_while","$each_cons","$each_entry","$each_slice","$each_with_index","$each_with_object","$entries","$find","$find_all","$find_index","$first","$flat_map","$grep","$group_by","$include?","$inject","$lazy","$enumerator_size","$map","$max","$max_by","$member?","$min","$min_by","$minmax","$minmax_by","$none?","$one?","$partition","$reduce","$reject","$reverse_each","$select","$slice_before","$sort","$sort_by","$take","$take_while","$to_a","$zip"])}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=e.slice,a=e.klass;return e.add_stubs(["$include","$allocate","$new","$to_proc","$coerce_to","$__send__","$===","$call","$enum_for","$destructure","$name","$class","$inspect","$empty?","$+","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),function(n,$super){function i(){}var s,l,c,u,_,$=i=a(n,$super,"Enumerator",i),p=$._proto,d=$._scope;return p.size=p.object=p.method=p.args=t,$.$include(null==(s=d.Enumerable)?e.cm("Enumerable"):s),e.defs($,"$for",l=function(e,n,r){var a=this,i=l._p,s=i||t;r=o.call(arguments,2),null==n&&(n="each"),l._p=null;var c=a.$allocate();return c.object=e,c.size=s,c.method=n,c.args=r,c}),p.$initialize=c=function(){var n,r,a,i=this,s=c._p,l=s||t;return c._p=null,l!==!1&&l!==t?(i.object=(n=(r=null==(a=d.Generator)?e.cm("Generator"):a).$new,n._p=l.$to_proc(),n).call(r),i.method="each",i.args=[],i.size=arguments[0]||t,(n=i.size)===t||n._isBoolean&&1!=n?t:i.size=(null==(n=d.Opal)?e.cm("Opal"):n).$coerce_to(i.size,null==(n=d.Integer)?e.cm("Integer"):n,"to_int")):(i.object=arguments[0],i.method=arguments[1]||"each",i.args=o.call(arguments,2),i.size=t)},p.$each=u=function(){var e,n,r=this,o=u._p,a=o||t;return u._p=null,a===!1||a===t?r:(e=(n=r.object).$__send__,e._p=a.$to_proc(),e).apply(n,[r.method].concat(r.args))},p.$size=function(){var n,r,o=this;return(n=(null==(r=d.Proc)?e.cm("Proc"):r)["$==="](o.size))===t||n._isBoolean&&1!=n?o.size:(n=o.size).$call.apply(n,[].concat(o.args))},p.$with_index=_=function(n){var o,a=this,i=_._p,s=i||t;if(null==n&&(n=0),_._p=null,n=n!==!1&&n!==t?(null==(o=d.Opal)?e.cm("Opal"):o).$coerce_to(n,null==(o=d.Integer)?e.cm("Integer"):o,"to_int"):0,s===!1||s===t)return a.$enum_for("with_index",n);var l;return a.$each._p=function(){var n=(null==(o=d.Opal)?e.cm("Opal"):o).$destructure(arguments),t=s(n,index);return t===r?(l=r.$v,r):(index++,void 0)},a.$each(),void 0!==l?l:void 0},e.defn($,"$with_object",p.$each_with_object),p.$inspect=function(){var n,r=this,o=t;return o="#<"+r.$class().$name()+": "+r.object.$inspect()+":"+r.method,((n=r.args["$empty?"]())===t||n._isBoolean&&1!=n)&&(o=o["$+"]("("+r.args.$inspect()["$[]"]((null==(n=d.Range)?e.cm("Range"):n).$new(1,-2))+")")),o["$+"](">")},function(n,$super){function i(){}var s,l,c,u=i=a(n,$super,"Generator",i),_=u._proto,$=u._scope;return _.block=t,u.$include(null==(s=$.Enumerable)?e.cm("Enumerable"):s),_.$initialize=l=function(){var n,r=this,o=l._p,a=o||t;return l._p=null,a!==!1&&a!==t||r.$raise(null==(n=$.LocalJumpError)?e.cm("LocalJumpError"):n,"no block given"),r.block=a},_.$each=c=function(n){var a,i,s,l=this,u=c._p,_=u||t,p=t;n=o.call(arguments,0),c._p=null,p=(a=(i=null==(s=$.Yielder)?e.cm("Yielder"):s).$new,a._p=_.$to_proc(),a).call(i);try{if(n.unshift(p),e.$yieldX(l.block,n)===r)return r.$v}catch(d){if(d===r)return r.$v;throw d}return l},t}($,null),function(n,$super){function i(){}var s,l=i=a(n,$super,"Yielder",i),c=l._proto;return l._scope,c.block=t,c.$initialize=s=function(){var e=this,n=s._p,r=n||t;return s._p=null,e.block=r},c.$yield=function(n){var t=this;n=o.call(arguments,0);var a=e.$yieldX(t.block,n);if(a===r)throw r;return a},c["$<<"]=function(e){var n,t=this;return e=o.call(arguments,0),(n=t).$yield.apply(n,[].concat(e)),t},t}($,null),function(n,$super){function i(){}var s,l,c,u,_,$,p,d,f,m,h=i=a(n,$super,"Lazy",i),v=h._proto,g=h._scope;return v.enumerator=t,function(e,$super){function n(){}var r=n=a(e,$super,"StopLazyError",n);return r._proto,r._scope,t}(h,null==(s=g.Exception)?e.cm("Exception"):s),v.$initialize=l=function(n,a){var i,s,c=this,u=l._p,_=u||t;return null==a&&(a=t),l._p=null,_!==t||c.$raise(null==(i=g.ArgumentError)?e.cm("ArgumentError"):i,"tried to call lazy new without a block"),c.enumerator=n,e.find_super_dispatcher(c,"initialize",l,(s=function(a,i){var l,c,u,$=s._s||this;null==a&&(a=t),i=o.call(arguments,1);try{return(l=(c=n).$each,l._p=(u=function(n){return u._s||this,n=o.call(arguments,0),n.unshift(a),e.$yieldX(_,n)===r?r:void 0},u._s=$,u),l).apply(c,[].concat(i))}catch(p){if((null==(l=g.Exception)?e.cm("Exception"):l)["$==="](p))return t;throw p}},s._s=c,s)).apply(c,[a])},e.defn(h,"$force",v.$to_a),v.$lazy=function(){var e=this;return e},v.$collect=c=function(){var n,a,i,s,l=this,u=c._p,_=u||t;return c._p=null,_!==!1&&_!==t||l.$raise(null==(n=g.ArgumentError)?e.cm("ArgumentError"):n,"tried to call lazy map without a block"),(n=(a=null==(s=g.Lazy)?e.cm("Lazy"):s).$new,n._p=(i=function(n,a){i._s||this,null==n&&(n=t),a=o.call(arguments,1);var s=e.$yieldX(_,a);return s===r?r:(n.$yield(s),void 0)},i._s=l,i),n).call(a,l,l.$enumerator_size())},v.$collect_concat=u=function(){var n,a,i,s,l=this,c=u._p,_=c||t;return u._p=null,_!==!1&&_!==t||l.$raise(null==(n=g.ArgumentError)?e.cm("ArgumentError"):n,"tried to call lazy map without a block"),(n=(a=null==(s=g.Lazy)?e.cm("Lazy"):s).$new,n._p=(i=function(n,a){var s,l,c,u,$,p=i._s||this;null==n&&(n=t),a=o.call(arguments,1);var d=e.$yieldX(_,a);if(d===r)return r;if(d["$respond_to?"]("force")&&d["$respond_to?"]("each"))(s=(l=d).$each,s._p=(c=function(e){return c._s||this,null==e&&(e=t),n.$yield(e)},c._s=p,c),s).call(l);else{var f=(null==(s=g.Opal)?e.cm("Opal"):s).$try_convert(d,null==(s=g.Array)?e.cm("Array"):s,"to_ary");f===t?n.$yield(d):(s=(u=d).$each,s._p=($=function(e){return $._s||this,null==e&&(e=t),n.$yield(e)},$._s=p,$),s).call(u)}},i._s=l,i),n).call(a,l,t)},v.$drop=function(n){var r,a,i,s,l=this,c=t,u=t,_=t;return n=(null==(r=g.Opal)?e.cm("Opal"):r).$coerce_to(n,null==(r=g.Integer)?e.cm("Integer"):r,"to_int"),n["$<"](0)&&l.$raise(null==(r=g.ArgumentError)?e.cm("ArgumentError"):r,"attempt to drop negative size"),c=l.$enumerator_size(),u=function(){return(r=(null==(a=g.Integer)?e.cm("Integer"):a)["$==="](c))===t||r._isBoolean&&1!=r?c:n["$<"](c)?n:c}(),_=0,(r=(a=null==(s=g.Lazy)?e.cm("Lazy"):s).$new,r._p=(i=function(e,r){var a;return i._s||this,null==e&&(e=t),r=o.call(arguments,1),_["$<"](n)?_=_["$+"](1):(a=e).$yield.apply(a,[].concat(r))},i._s=l,i),r).call(a,l,u)},v.$drop_while=_=function(){var n,a,i,s,l=this,c=_._p,u=c||t,$=t;return _._p=null,u!==!1&&u!==t||l.$raise(null==(n=g.ArgumentError)?e.cm("ArgumentError"):n,"tried to call lazy drop_while without a block"),$=!0,(n=(a=null==(s=g.Lazy)?e.cm("Lazy"):s).$new,n._p=(i=function(n,a){var s,l;if(i._s||this,null==n&&(n=t),a=o.call(arguments,1),$===!1||$===t)return(l=n).$yield.apply(l,[].concat(a));var c=e.$yieldX(u,a);return c===r?r:(((s=c)===t||s._isBoolean&&0==s)&&($=!1,(s=n).$yield.apply(s,[].concat(a))),void 0)},i._s=l,i),n).call(a,l,t)},v.$enum_for=$=function(e,n){var r,a,i=this,s=$._p,l=s||t;return n=o.call(arguments,1),null==e&&(e="each"),$._p=null,(r=(a=i.$class()).$for,r._p=l.$to_proc(),r).apply(a,[i,e].concat(n))},v.$find_all=p=function(){var n,a,i,s,l=this,c=p._p,u=c||t;return p._p=null,u!==!1&&u!==t||l.$raise(null==(n=g.ArgumentError)?e.cm("ArgumentError"):n,"tried to call lazy select without a block"),(n=(a=null==(s=g.Lazy)?e.cm("Lazy"):s).$new,n._p=(i=function(n,a){var s;i._s||this,null==n&&(n=t),a=o.call(arguments,1);var l=e.$yieldX(u,a);return l===r?r:((s=l)===t||s._isBoolean&&1!=s||(s=n).$yield.apply(s,[].concat(a)),void 0)},i._s=l,i),n).call(a,l,t)},e.defn(h,"$flat_map",v.$collect_concat),v.$grep=d=function(n){var a,i,s,l,c,u,_=this,$=d._p,p=$||t;return d._p=null,p!==!1&&p!==t?(a=(i=null==(l=g.Lazy)?e.cm("Lazy"):l).$new,a._p=(s=function(a,i){var l;s._s||this,null==a&&(a=t),i=o.call(arguments,1);var c=(null==(l=g.Opal)?e.cm("Opal"):l).$destructure(i),u=n["$==="](c);if((l=u)!==t&&(!l._isBoolean||1==l)){if(u=e.$yield1(p,c),u===r)return r;a.$yield(e.$yield1(p,c))}},s._s=_,s),a).call(i,_,t):(a=(l=null==(u=g.Lazy)?e.cm("Lazy"):u).$new,a._p=(c=function(r,a){var i;c._s||this,null==r&&(r=t),a=o.call(arguments,1);var s=(null==(i=g.Opal)?e.cm("Opal"):i).$destructure(a),l=n["$==="](s);(i=l)===t||i._isBoolean&&1!=i||r.$yield(s)},c._s=_,c),a).call(l,_,t)},e.defn(h,"$map",v.$collect),e.defn(h,"$select",v.$find_all),v.$reject=f=function(){var n,a,i,s,l=this,c=f._p,u=c||t;return f._p=null,u!==!1&&u!==t||l.$raise(null==(n=g.ArgumentError)?e.cm("ArgumentError"):n,"tried to call lazy reject without a block"),(n=(a=null==(s=g.Lazy)?e.cm("Lazy"):s).$new,n._p=(i=function(n,a){var s;i._s||this,null==n&&(n=t),a=o.call(arguments,1);var l=e.$yieldX(u,a);return l===r?r:(((s=l)===t||s._isBoolean&&0==s)&&(s=n).$yield.apply(s,[].concat(a)),void 0)},i._s=l,i),n).call(a,l,t)},v.$take=function(n){var r,a,i,s,l=this,c=t,u=t,_=t;return n=(null==(r=g.Opal)?e.cm("Opal"):r).$coerce_to(n,null==(r=g.Integer)?e.cm("Integer"):r,"to_int"),n["$<"](0)&&l.$raise(null==(r=g.ArgumentError)?e.cm("ArgumentError"):r,"attempt to take negative size"),c=l.$enumerator_size(),u=function(){return(r=(null==(a=g.Integer)?e.cm("Integer"):a)["$==="](c))===t||r._isBoolean&&1!=r?c:n["$<"](c)?n:c}(),_=0,(r=(a=null==(s=g.Lazy)?e.cm("Lazy"):s).$new,r._p=(i=function(r,a){var s,l,c=i._s||this;return null==r&&(r=t),a=o.call(arguments,1),_["$<"](n)?((s=r).$yield.apply(s,[].concat(a)),_=_["$+"](1)):c.$raise(null==(l=g.StopLazyError)?e.cm("StopLazyError"):l)},i._s=l,i),r).call(a,l,u)},v.$take_while=m=function(){var n,a,i,s,l=this,c=m._p,u=c||t;return m._p=null,u!==!1&&u!==t||l.$raise(null==(n=g.ArgumentError)?e.cm("ArgumentError"):n,"tried to call lazy take_while without a block"),(n=(a=null==(s=g.Lazy)?e.cm("Lazy"):s).$new,n._p=(i=function(n,a){var s,l,c=i._s||this;null==n&&(n=t),a=o.call(arguments,1);var _=e.$yieldX(u,a);return _===r?r:((s=_)===t||s._isBoolean&&1!=s?c.$raise(null==(l=g.StopLazyError)?e.cm("StopLazyError"):l):(s=n).$yield.apply(s,[].concat(a)),void 0)},i._s=l,i),n).call(a,l,t)},e.defn(h,"$to_enum",v.$enum_for),v.$inspect=function(){var e=this;return"#<"+e.$class().$name()+": "+e.enumerator.$inspect()+">"},t}($,$)}(n,null)}(Opal),function(e){var n,t=e.top,r=e,o=e.nil,a=e.breaker,i=e.slice,s=e.klass,l=e.range;return e.add_stubs(["$include","$new","$class","$raise","$===","$to_a","$respond_to?","$to_ary","$coerce_to","$==","$to_str","$clone","$hash","$<=>","$inspect","$empty?","$enum_for","$nil?","$coerce_to!","$initialize_clone","$initialize_dup","$replace","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$object_id","$[]","$to_s","$delete_if","$to_proc","$each","$reverse","$!","$map","$rand","$keep_if","$shuffle!","$>","$<","$sort","$times","$[]=","$<<","$at","$allocate","$initialize","$__send__","$*","$slice","$uniq"]),function(n,$super){function t(){}var r,c,u,_,$,p,d,f,m,h,v,g,b,x,y,k,E,S,w,R,B,M,O=t=s(n,$super,"Array",t),A=O._proto,C=O._scope;return A.length=o,O.$include(null==(r=C.Enumerable)?e.cm("Enumerable"):r),A._isArray=!0,e.defs(O,"$inherited",function(n){var t,r,a=o;a=(null==(t=C.Class)?e.cm("Class"):t).$new(null==(t=(null==(r=C.Array)?e.cm("Array"):r)._scope).Wrapper?t.cm("Wrapper"):t.Wrapper),n._proto=a._proto,n._proto._klass=n,n._alloc=a._alloc,n.__parent=null==(t=(null==(r=C.Array)?e.cm("Array"):r)._scope).Wrapper?t.cm("Wrapper"):t.Wrapper,n.$allocate=a.$allocate,n.$new=a.$new,n["$[]"]=a["$[]"]}),e.defs(O,"$[]",function(e){return e=i.call(arguments,0)}),A.$initialize=function(e){var n,t=this;return e=i.call(arguments,0),(n=t.$class()).$new.apply(n,[].concat(e))},e.defs(O,"$new",c=function(n,t){var r,i,s=this,l=c._p,u=l||o;if(null==n&&(n=o),null==t&&(t=o),c._p=null,(r=arguments.length>2)===o||r._isBoolean&&1!=r||s.$raise(null==(r=C.ArgumentError)?e.cm("ArgumentError"):r,"wrong number of arguments ("+arguments.length+" for 0..2)"),(r=0===arguments.length)!==o&&(!r._isBoolean||1==r))return[];if((r=1===arguments.length)!==o&&(!r._isBoolean||1==r)){if(!((r=(null==(i=C.Array)?e.cm("Array"):i)["$==="](n))===o||r._isBoolean&&1!=r))return n.$to_a();if((r=n["$respond_to?"]("to_ary"))!==o&&(!r._isBoolean||1==r))return n.$to_ary()}n=(null==(r=C.Opal)?e.cm("Opal"):r).$coerce_to(n,null==(r=C.Integer)?e.cm("Integer"):r,"to_int"),(r=0>n)===o||r._isBoolean&&1!=r||s.$raise(null==(r=C.ArgumentError)?e.cm("ArgumentError"):r,"negative array size");var _=[];if(u===o)for(var $=0;n>$;$++)_.push(t);else for(var p,$=0;n>$;$++){if(p=u($),p===a)return a.$v;_[$]=p}return _}),e.defs(O,"$try_convert",function(n){var t;return(t=n["$respond_to?"]("to_ary"))===o||t._isBoolean&&1!=t?o:n=(null==(t=C.Opal)?e.cm("Opal"):t).$coerce_to(n,null==(t=C.Array)?e.cm("Array"):t,"to_ary")}),A["$&"]=function(n){var t,r,a=this;n=(t=(null==(r=C.Array)?e.cm("Array"):r)["$==="](n))===o||t._isBoolean&&1!=t?(null==(t=C.Opal)?e.cm("Opal"):t).$coerce_to(n,null==(t=C.Array)?e.cm("Array"):t,"to_ary").$to_a():n.$to_a();for(var i=[],s={},l=0,c=a.length;c>l;l++){var u=a[l];if(!s[u])for(var _=0,$=n.length;$>_;_++){var p=n[_];!s[p]&&u["$=="](p)&&(s[u]=!0,i.push(u))}}return i},A["$*"]=function(n){var t,r=this;if((t=n["$respond_to?"]("to_str"))!==o&&(!t._isBoolean||1==t))return r.join(n.$to_str());((t=n["$respond_to?"]("to_int"))===o||t._isBoolean&&1!=t)&&r.$raise(null==(t=C.TypeError)?e.cm("TypeError"):t,"no implicit conversion of "+n.$class()+" into Integer"),n=(null==(t=C.Opal)?e.cm("Opal"):t).$coerce_to(n,null==(t=C.Integer)?e.cm("Integer"):t,"to_int"),(t=0>n)===o||t._isBoolean&&1!=t||r.$raise(null==(t=C.ArgumentError)?e.cm("ArgumentError"):t,"negative argument");for(var a=[],i=0;n>i;i++)a=a.concat(r);return a},A["$+"]=function(n){var t,r,a=this;return n=(t=(null==(r=C.Array)?e.cm("Array"):r)["$==="](n))===o||t._isBoolean&&1!=t?(null==(t=C.Opal)?e.cm("Opal"):t).$coerce_to(n,null==(t=C.Array)?e.cm("Array"):t,"to_ary").$to_a():n.$to_a(),a.concat(n)},A["$-"]=function(n){var t,r,a=this;if(n=(t=(null==(r=C.Array)?e.cm("Array"):r)["$==="](n))===o||t._isBoolean&&1!=t?(null==(t=C.Opal)?e.cm("Opal"):t).$coerce_to(n,null==(t=C.Array)?e.cm("Array"):t,"to_ary").$to_a():n.$to_a(),(t=0===a.length)!==o&&(!t._isBoolean||1==t))return[];if((t=0===n.length)!==o&&(!t._isBoolean||1==t))return a.$clone();for(var i={},s=[],l=0,c=n.length;c>l;l++)i[n[l]]=!0;
for(var l=0,c=a.length;c>l;l++){var u=a[l];i[u]||s.push(u)}return s},A["$<<"]=function(e){var n=this;return n.push(e),n},A["$<=>"]=function(n){var t,r,a=this;if((t=(null==(r=C.Array)?e.cm("Array"):r)["$==="](n))===o||t._isBoolean&&1!=t){if((t=n["$respond_to?"]("to_ary"))===o||t._isBoolean&&1!=t)return o;n=n.$to_ary().$to_a()}else n=n.$to_a();if(a.$hash()===n.$hash())return 0;if(a.length!=n.length)return a.length>n.length?1:-1;for(var i=0,s=a.length;s>i;i++){var l=a[i]["$<=>"](n[i]);if(0!==l)return l}return 0},A["$=="]=function(n){var t,r,a=this;if((t=a===n)!==o&&(!t._isBoolean||1==t))return!0;if((t=(null==(r=C.Array)?e.cm("Array"):r)["$==="](n))===o||t._isBoolean&&1!=t)return(t=n["$respond_to?"]("to_ary"))===o||t._isBoolean&&1!=t?!1:n["$=="](a);if(n=n.$to_a(),(t=a.length===n.length)===o||t._isBoolean&&1!=t)return!1;for(var i=0,s=a.length;s>i;i++){var l=a[i],c=n[i];if(!(l._isArray&&c._isArray&&l===a||l["$=="](c)))return!1}return!0},A["$[]"]=function(n,t){var r,a,i=this;if((r=(null==(a=C.Range)?e.cm("Range"):a)["$==="](n))===o||r._isBoolean&&1!=r){n=(null==(r=C.Opal)?e.cm("Opal"):r).$coerce_to(n,null==(r=C.Integer)?e.cm("Integer"):r,"to_int");var s=i.length;return 0>n&&(n+=s,0>n)?o:void 0===t?n>=s||0>n?o:i[n]:(t=(null==(r=C.Opal)?e.cm("Opal"):r).$coerce_to(t,null==(r=C.Integer)?e.cm("Integer"):r,"to_int"),0>t||n>s||0>n?o:i.slice(n,n+t))}var s=i.length,l=n.exclude,c=(null==(r=C.Opal)?e.cm("Opal"):r).$coerce_to(n.begin,null==(r=C.Integer)?e.cm("Integer"):r,"to_int"),u=(null==(r=C.Opal)?e.cm("Opal"):r).$coerce_to(n.end,null==(r=C.Integer)?e.cm("Integer"):r,"to_int");return 0>c&&(c+=s,0>c)?o:c>s?o:0>u&&(u+=s,0>u)?[]:(l||(u+=1),i.slice(c,u))},A["$[]="]=function(n,t,r){var a,i,s=this,l=o,c=o;if((a=(null==(i=C.Range)?e.cm("Range"):i)["$==="](n))===o||a._isBoolean&&1!=a){(a=void 0===r)===o||a._isBoolean&&1!=a?(c=t,t=r,l=(a=(null==(i=C.Array)?e.cm("Array"):i)["$==="](t))===o||a._isBoolean&&1!=a?(a=t["$respond_to?"]("to_ary"))===o||a._isBoolean&&1!=a?[t]:t.$to_ary().$to_a():t.$to_a()):c=1;var u,_=s.length,n=(null==(a=C.Opal)?e.cm("Opal"):a).$coerce_to(n,null==(a=C.Integer)?e.cm("Integer"):a,"to_int"),c=(null==(a=C.Opal)?e.cm("Opal"):a).$coerce_to(c,null==(a=C.Integer)?e.cm("Integer"):a,"to_int");if(0>n&&(u=n,n+=_,0>n&&s.$raise(null==(a=C.IndexError)?e.cm("IndexError"):a,"index "+u+" too small for array; minimum "+-s.length)),0>c&&s.$raise(null==(a=C.IndexError)?e.cm("IndexError"):a,"negative length ("+c+")"),n>_)for(var $=_;n>$;$++)s[$]=o;return void 0===r?s[n]=t:s.splice.apply(s,[n,c].concat(l)),t}l=(a=(null==(i=C.Array)?e.cm("Array"):i)["$==="](t))===o||a._isBoolean&&1!=a?(a=t["$respond_to?"]("to_ary"))===o||a._isBoolean&&1!=a?[t]:t.$to_ary().$to_a():t.$to_a();var _=s.length,p=n.exclude,d=(null==(a=C.Opal)?e.cm("Opal"):a).$coerce_to(n.begin,null==(a=C.Integer)?e.cm("Integer"):a,"to_int"),f=(null==(a=C.Opal)?e.cm("Opal"):a).$coerce_to(n.end,null==(a=C.Integer)?e.cm("Integer"):a,"to_int");if(0>d&&(d+=_,0>d&&s.$raise(null==(a=C.RangeError)?e.cm("RangeError"):a,""+n.$inspect()+" out of range")),0>f&&(f+=_),p||(f+=1),d>_)for(var $=_;n>$;$++)s[$]=o;return 0>f?s.splice.apply(s,[d,0].concat(l)):s.splice.apply(s,[d,f-d].concat(l)),t},A.$assoc=function(e){for(var n,t=this,r=0,a=t.length;a>r;r++)if(n=t[r],n.length&&n[0]["$=="](e))return n;return o},A.$at=function(n){var t,r=this;return n=(null==(t=C.Opal)?e.cm("Opal"):t).$coerce_to(n,null==(t=C.Integer)?e.cm("Integer"):t,"to_int"),0>n&&(n+=r.length),0>n||n>=r.length?o:r[n]},A.$cycle=u=function(n){var t,r,i=this,s=u._p,l=s||o;if(null==n&&(n=o),u._p=null,(t=(r=i["$empty?"]())!==!1&&r!==o?r:n["$=="](0))!==o&&(!t._isBoolean||1==t))return o;if(l===!1||l===o)return i.$enum_for("cycle",n);if((t=n["$nil?"]())===o||t._isBoolean&&1!=t){if(n=(null==(t=C.Opal)?e.cm("Opal"):t)["$coerce_to!"](n,null==(t=C.Integer)?e.cm("Integer"):t,"to_int"),0>=n)return i;for(;n>0;){for(var c=0,_=i.length;_>c;c++){var $=e.$yield1(l,i[c]);if($===a)return a.$v}n--}}else for(;;)for(var c=0,_=i.length;_>c;c++){var $=e.$yield1(l,i[c]);if($===a)return a.$v}return i},A.$clear=function(){var e=this;return e.splice(0,e.length),e},A.$clone=function(){var e=this,n=o;return n=[],n.$initialize_clone(e),n},A.$dup=function(){var e=this,n=o;return n=[],n.$initialize_dup(e),n},A.$initialize_copy=function(e){var n=this;return n.$replace(e)},A.$collect=_=function(){var e=this,n=_._p,t=n||o;if(_._p=null,t===o)return e.$enum_for("collect");for(var r=[],i=0,s=e.length;s>i;i++){var l=Opal.$yield1(t,e[i]);if(l===a)return a.$v;r.push(l)}return r},A["$collect!"]=$=function(){var e=this,n=$._p,t=n||o;if($._p=null,t===o)return e.$enum_for("collect!");for(var r=0,i=e.length;i>r;r++){var s=Opal.$yield1(t,e[r]);if(s===a)return a.$v;e[r]=s}return e},A.$compact=function(){for(var e,n=this,t=[],r=0,a=n.length;a>r;r++)(e=n[r])!==o&&t.push(e);return t},A["$compact!"]=function(){for(var e=this,n=e.length,t=0,r=e.length;r>t;t++)e[t]===o&&(e.splice(t,1),r--,t--);return e.length===n?o:e},A.$concat=function(n){var t,r,a=this;n=(t=(null==(r=C.Array)?e.cm("Array"):r)["$==="](n))===o||t._isBoolean&&1!=t?(null==(t=C.Opal)?e.cm("Opal"):t).$coerce_to(n,null==(t=C.Array)?e.cm("Array"):t,"to_ary").$to_a():n.$to_a();for(var i=0,s=n.length;s>i;i++)a.push(n[i]);return a},A.$delete=function(e){for(var n=this,t=n.length,r=0,a=t;a>r;r++)n[r]["$=="](e)&&(n.splice(r,1),a--,r--);return n.length===t?o:e},A.$delete_at=function(n){var t,r=this;if(n=(null==(t=C.Opal)?e.cm("Opal"):t).$coerce_to(n,null==(t=C.Integer)?e.cm("Integer"):t,"to_int"),0>n&&(n+=r.length),0>n||n>=r.length)return o;var a=r[n];return r.splice(n,1),a},A.$delete_if=p=function(){var e=this,n=p._p,t=n||o;if(p._p=null,t===o)return e.$enum_for("delete_if");for(var r,i=0,s=e.length;s>i;i++){if((r=t(e[i]))===a)return a.$v;r!==!1&&r!==o&&(e.splice(i,1),s--,i--)}return e},A.$drop=function(n){var t,r=this;return 0>n&&r.$raise(null==(t=C.ArgumentError)?e.cm("ArgumentError"):t),r.slice(n)},e.defn(O,"$dup",A.$clone),A.$each=d=function(){var n=this,t=d._p,r=t||o;if(d._p=null,r===o)return n.$enum_for("each");for(var i=0,s=n.length;s>i;i++){var l=e.$yield1(r,n[i]);if(l==a)return a.$v}return n},A.$each_index=f=function(){var n=this,t=f._p,r=t||o;if(f._p=null,r===o)return n.$enum_for("each_index");for(var i=0,s=n.length;s>i;i++){var l=e.$yield1(r,i);if(l===a)return a.$v}return n},A["$empty?"]=function(){var e=this;return 0===e.length},A["$eql?"]=function(n){var t,r,a=this;if((t=a===n)!==o&&(!t._isBoolean||1==t))return!0;if((t=(null==(r=C.Array)?e.cm("Array"):r)["$==="](n))===o||t._isBoolean&&1!=t)return!1;if(n=n.$to_a(),(t=a.length===n.length)===o||t._isBoolean&&1!=t)return!1;for(var i=0,s=a.length;s>i;i++){var l=a[i],c=n[i];if(!(l._isArray&&c._isArray&&l===a||l["$eql?"](c)))return!1}return!0},A.$fetch=m=function(n,t){var r,a=this,i=m._p,s=i||o;m._p=null;var l=n;return n=(null==(r=C.Opal)?e.cm("Opal"):r).$coerce_to(n,null==(r=C.Integer)?e.cm("Integer"):r,"to_int"),0>n&&(n+=a.length),n>=0&&n<a.length?a[n]:s!==o?s(l):null!=t?t:(0===a.length?a.$raise(null==(r=C.IndexError)?e.cm("IndexError"):r,"index "+l+" outside of array bounds: 0...0"):a.$raise(null==(r=C.IndexError)?e.cm("IndexError"):r,"index "+l+" outside of array bounds: -"+a.length+"..."+a.length),void 0)},A.$fill=h=function(n){var t,r,s=this,l=h._p,c=l||o,u=o,_=o,$=o,p=o,d=o;if(n=i.call(arguments,0),h._p=null,c!==!1&&c!==o?((t=n.length>2)===o||t._isBoolean&&1!=t||s.$raise(null==(t=C.ArgumentError)?e.cm("ArgumentError"):t,"wrong number of arguments ("+n.$length()+" for 0..2)"),t=e.to_ary(n),u=null==t[0]?o:t[0],_=null==t[1]?o:t[1]):((t=0==n.length)===o||t._isBoolean&&1!=t?(t=n.length>3)===o||t._isBoolean&&1!=t||s.$raise(null==(t=C.ArgumentError)?e.cm("ArgumentError"):t,"wrong number of arguments ("+n.$length()+" for 1..3)"):s.$raise(null==(t=C.ArgumentError)?e.cm("ArgumentError"):t,"wrong number of arguments (0 for 1..3)"),t=e.to_ary(n),$=null==t[0]?o:t[0],u=null==t[1]?o:t[1],_=null==t[2]?o:t[2]),(t=(null==(r=C.Range)?e.cm("Range"):r)["$==="](u))===o||t._isBoolean&&1!=t)if(u!==!1&&u!==o)if(p=(null==(t=C.Opal)?e.cm("Opal"):t).$coerce_to(u,null==(t=C.Integer)?e.cm("Integer"):t,"to_int"),(t=0>p)===o||t._isBoolean&&1!=t||(p+=s.length),(t=0>p)===o||t._isBoolean&&1!=t||(p=0),_!==!1&&_!==o){if(d=(null==(t=C.Opal)?e.cm("Opal"):t).$coerce_to(_,null==(t=C.Integer)?e.cm("Integer"):t,"to_int"),(t=0==d)!==o&&(!t._isBoolean||1==t))return s;d+=p}else d=s.length;else p=0,d=s.length;else if(_!==!1&&_!==o&&s.$raise(null==(t=C.TypeError)?e.cm("TypeError"):t,"length invalid with range"),p=(null==(t=C.Opal)?e.cm("Opal"):t).$coerce_to(u.$begin(),null==(t=C.Integer)?e.cm("Integer"):t,"to_int"),(t=0>p)===o||t._isBoolean&&1!=t||(p+=s.length),(t=0>p)===o||t._isBoolean&&1!=t||s.$raise(null==(t=C.RangeError)?e.cm("RangeError"):t,""+u.$inspect()+" out of range"),d=(null==(t=C.Opal)?e.cm("Opal"):t).$coerce_to(u.$end(),null==(t=C.Integer)?e.cm("Integer"):t,"to_int"),(t=0>d)===o||t._isBoolean&&1!=t||(d+=s.length),((t=u["$exclude_end?"]())===o||t._isBoolean&&1!=t)&&(d+=1),(t=p>=d)!==o&&(!t._isBoolean||1==t))return s;if((t=p>s.length)!==o&&(!t._isBoolean||1==t))for(var f=s.length;d>f;f++)s[f]=o;if((t=d>s.length)===o||t._isBoolean&&1!=t||(s.length=d),c!==!1&&c!==o)for(s.length;d>p;p++){var m=c(p);if(m===a)return a.$v;s[p]=m}else for(s.length;d>p;p++)s[p]=$;return s},A.$first=function(n){var t,r=this;return null!=n?(n=(null==(t=C.Opal)?e.cm("Opal"):t).$coerce_to(n,null==(t=C.Integer)?e.cm("Integer"):t,"to_int"),0>n&&r.$raise(null==(t=C.ArgumentError)?e.cm("ArgumentError"):t),r.slice(0,n)):0===r.length?o:r[0]},A.$flatten=function(e){for(var n=this,t=[],r=0,o=n.length;o>r;r++){var a=n[r];a["$respond_to?"]("to_ary")?(a=a.$to_ary(),null==e?t.push.apply(t,a.$flatten().$to_a()):0==e?t.push(a):t.push.apply(t,a.$flatten(e-1).$to_a())):t.push(a)}return t},A["$flatten!"]=function(e){var n=this,t=n.$flatten(e);if(n.length==t.length){for(var r=0,a=n.length;a>r&&n[r]===t[r];r++);if(r==a)return o}return n.$replace(t),n},A.$hash=function(){var e=this;return e._id||(e._id=Opal.uid())},A["$include?"]=function(e){for(var n=this,t=0,r=n.length;r>t;t++)if(n[t]["$=="](e))return!0;return!1},A.$index=v=function(e){var n=this,t=v._p,r=t||o;if(v._p=null,null!=e){for(var i=0,s=n.length;s>i;i++)if(n[i]["$=="](e))return i}else{if(r===o)return n.$enum_for("index");for(var l,i=0,s=n.length;s>i;i++){if((l=r(n[i]))===a)return a.$v;if(l!==!1&&l!==o)return i}}return o},A.$insert=function(n,t){var r,a=this;if(t=i.call(arguments,1),n=(null==(r=C.Opal)?e.cm("Opal"):r).$coerce_to(n,null==(r=C.Integer)?e.cm("Integer"):r,"to_int"),t.length>0){if(0>n&&(n+=a.length+1,0>n&&a.$raise(null==(r=C.IndexError)?e.cm("IndexError"):r,""+n+" is out of bounds")),n>a.length)for(var s=a.length;n>s;s++)a.push(o);a.splice.apply(a,[n,0].concat(t))}return a},A.$inspect=function(){var e,n,t,r,o,a,i=this;for(n=[],a=i.$object_id(),o=i.length,e=0;o>e;e++)t=i["$[]"](e),r=t.$object_id()===a?"[...]":t.$inspect(),n.push(r);return"["+n.join(", ")+"]"},A.$join=function(e){var n=this;null==e&&(e="");for(var t=[],r=0,o=n.length;o>r;r++)t.push(n[r].$to_s());return t.join(e)},A.$keep_if=g=function(){var e=this,n=g._p,t=n||o;if(g._p=null,t===o)return e.$enum_for("keep_if");for(var r,i=0,s=e.length;s>i;i++){if((r=t(e[i]))===a)return a.$v;(r===!1||r===o)&&(e.splice(i,1),s--,i--)}return e},A.$last=function(n){var t,r=this,a=r.length;return(n===o||"string"==typeof n)&&r.$raise(null==(t=C.TypeError)?e.cm("TypeError"):t,"no implicit conversion to integer"),"object"==typeof n&&(n["$respond_to?"]("to_int")?n=n.$to_int():r.$raise(null==(t=C.TypeError)?e.cm("TypeError"):t,"no implicit conversion to integer")),null==n?0===a?o:r[a-1]:(0>n&&r.$raise(null==(t=C.ArgumentError)?e.cm("ArgumentError"):t,"negative count given"),n>a&&(n=a),r.slice(a-n,a))},A.$length=function(){var e=this;return e.length},e.defn(O,"$map",A.$collect),e.defn(O,"$map!",A["$collect!"]),A.$pop=function(n){var t,r=this,a=r.length;return null==n?0===a?o:r.pop():(n=(null==(t=C.Opal)?e.cm("Opal"):t).$coerce_to(n,null==(t=C.Integer)?e.cm("Integer"):t,"to_int"),0>n&&r.$raise(null==(t=C.ArgumentError)?e.cm("ArgumentError"):t,"negative count given"),n>a?r.splice(0,r.length):r.splice(a-n,a))},A.$push=function(e){var n=this;e=i.call(arguments,0);for(var t=0,r=e.length;r>t;t++)n.push(e[t]);return n},A.$rassoc=function(e){for(var n,t=this,r=0,a=t.length;a>r;r++)if(n=t[r],n.length&&void 0!==n[1]&&n[1]["$=="](e))return n;return o},A.$reject=b=function(){var e=this,n=b._p,t=n||o;if(b._p=null,t===o)return e.$enum_for("reject");for(var r,i=[],s=0,l=e.length;l>s;s++){if((r=t(e[s]))===a)return a.$v;(r===!1||r===o)&&i.push(e[s])}return i},A["$reject!"]=x=function(){var e,n,t=this,r=x._p,a=r||o;if(x._p=null,a===o)return t.$enum_for("reject!");var i=t.length;return(e=(n=t).$delete_if,e._p=a.$to_proc(),e).call(n),t.length===i?o:t},A.$replace=function(n){var t,r,a=this;return n=(t=(null==(r=C.Array)?e.cm("Array"):r)["$==="](n))===o||t._isBoolean&&1!=t?(null==(t=C.Opal)?e.cm("Opal"):t).$coerce_to(n,null==(t=C.Array)?e.cm("Array"):t,"to_ary").$to_a():n.$to_a(),a.splice(0,a.length),a.push.apply(a,n),a},A.$reverse=function(){var e=this;return e.slice(0).reverse()},A["$reverse!"]=function(){var e=this;return e.reverse()},A.$reverse_each=y=function(){var e,n,t=this,r=y._p,a=r||o;return y._p=null,a===o?t.$enum_for("reverse_each"):((e=(n=t.$reverse()).$each,e._p=a.$to_proc(),e).call(n),t)},A.$rindex=k=function(e){var n=this,t=k._p,r=t||o;if(k._p=null,null!=e){for(var i=n.length-1;i>=0;i--)if(n[i]["$=="](e))return i}else if(r!==o)for(var s,i=n.length-1;i>=0;i--){if((s=r(n[i]))===a)return a.$v;if(s!==!1&&s!==o)return i}else if(null==e)return n.$enum_for("rindex");return o},A.$sample=function(e){var n,t,r,a=this;return null==e&&(e=o),t=e["$!"](),(n=t!==!1&&t!==o?a["$empty?"]():t)===o||n._isBoolean&&1!=n?(n=(t=e!==!1&&e!==o)?a["$empty?"]():t)===o||n._isBoolean&&1!=n?e!==!1&&e!==o?(n=(t=l(1,e,!1)).$map,n._p=(r=function(){var e=r._s||this;return e["$[]"](e.$rand(e.$length()))},r._s=a,r),n).call(t):a["$[]"](a.$rand(a.$length())):[]:o},A.$select=E=function(){var n=this,t=E._p,r=t||o;if(E._p=null,r===o)return n.$enum_for("select");for(var i,s,l=[],c=0,u=n.length;u>c;c++){if(i=n[c],(s=e.$yield1(r,i))===a)return a.$v;s!==!1&&s!==o&&l.push(i)}return l},A["$select!"]=S=function(){var e,n,t=this,r=S._p,a=r||o;if(S._p=null,a===o)return t.$enum_for("select!");var i=t.length;return(e=(n=t).$keep_if,e._p=a.$to_proc(),e).call(n),t.length===i?o:t},A.$shift=function(e){var n=this;return 0===n.length?o:null==e?n.shift():n.splice(0,e)},e.defn(O,"$size",A.$length),A.$shuffle=function(){var e=this;return e.$clone()["$shuffle!"]()},A["$shuffle!"]=function(){for(var e=this,n=e.length-1;n>0;n--){var t=e[n],r=Math.floor(Math.random()*(n+1));e[n]=e[r],e[r]=t}return e},e.defn(O,"$slice",A["$[]"]),A["$slice!"]=function(e,n){var t=this;return 0>e&&(e+=t.length),null!=n?t.splice(e,n):0>e||e>=t.length?o:t.splice(e,1)[0]},A.$sort=w=function(){var n,t=this,r=w._p,i=r||o;if(w._p=null,(n=t.length>1)===o||n._isBoolean&&1!=n)return t;i===o&&(i=function(e,n){return e["$<=>"](n)});try{return t.slice().sort(function(r,s){var l=i(r,s);if(l===a)throw a;return l===o&&t.$raise(null==(n=C.ArgumentError)?e.cm("ArgumentError"):n,"comparison of "+r.$inspect()+" with "+s.$inspect()+" failed"),l["$>"](0)?1:l["$<"](0)?-1:0})}catch(s){if(s===a)return a.$v;throw s}},A["$sort!"]=R=function(){var e,n,t=this,r=R._p,a=r||o;R._p=null;var i;i=a!==o?(e=(n=t.slice()).$sort,e._p=a.$to_proc(),e).call(n):t.slice().$sort(),t.length=0;for(var s=0,l=i.length;l>s;s++)t.push(i[s]);return t},A.$take=function(n){var t,r=this;return 0>n&&r.$raise(null==(t=C.ArgumentError)?e.cm("ArgumentError"):t),r.slice(0,n)},A.$take_while=B=function(){var e=this,n=B._p,t=n||o;B._p=null;for(var r,i,s=[],l=0,c=e.length;c>l;l++){if(r=e[l],(i=t(r))===a)return a.$v;if(i===!1||i===o)return s;s.push(r)}return s},A.$to_a=function(){var e=this;return e},e.defn(O,"$to_ary",A.$to_a),e.defn(O,"$to_s",A.$inspect),A.$transpose=function(){var n,t,r,a=this,i=o,s=o;return(n=a["$empty?"]())===o||n._isBoolean&&1!=n?(i=[],s=o,(n=(t=a).$each,n._p=(r=function(n){var t,a,l,c=r._s||this;return null==n&&(n=o),n=(t=(null==(a=C.Array)?e.cm("Array"):a)["$==="](n))===o||t._isBoolean&&1!=t?(null==(t=C.Opal)?e.cm("Opal"):t).$coerce_to(n,null==(t=C.Array)?e.cm("Array"):t,"to_ary").$to_a():n.$to_a(),(t=s)!==!1&&t!==o?t:s=n.length,(t=n.length["$=="](s)["$!"]())===o||t._isBoolean&&1!=t||c.$raise(null==(t=C.IndexError)?e.cm("IndexError"):t,"element size differs ("+n.length+" should be "+s),(t=(a=n.length).$times,t._p=(l=function(e){var t,r,a,s=(l._s||this,o);return null==e&&(e=o),t=e,r=i,s=(a=r["$[]"](t))!==!1&&a!==o?a:r["$[]="](t,[]),s["$<<"](n.$at(e))},l._s=c,l),t).call(a)},r._s=a,r),n).call(t),i):[]},A.$uniq=function(){for(var e,n,t=this,r=[],o={},a=0,i=t.length;i>a;a++)e=t[a],n=e,o[n]||(o[n]=!0,r.push(e));return r},A["$uniq!"]=function(){for(var e,n,t=this,r=t.length,a={},i=0,s=r;s>i;i++)e=t[i],n=e,a[n]?(t.splice(i,1),s--,i--):a[n]=!0;return t.length===r?o:t},A.$unshift=function(e){var n=this;e=i.call(arguments,0);for(var t=e.length-1;t>=0;t--)n.unshift(e[t]);return n},A.$zip=M=function(e){var n=this,t=M._p,r=t||o;e=i.call(arguments,0),M._p=null;for(var a,s,l=[],c=n.length,u=0;c>u;u++){a=[n[u]];for(var _=0,$=e.length;$>_;_++)s=e[_][u],null==s&&(s=o),a[_+1]=s;l[u]=a}if(r!==o){for(var u=0;c>u;u++)r(l[u]);return o}return l},o}(t,null),function(n,$super){function t(){}var r,a,l,c,u,_=t=s(n,$super,"Wrapper",t),$=_._proto,p=_._scope;return $.literal=o,e.defs(_,"$allocate",r=function(n){var a=this,i=(r._p,o);return null==n&&(n=[]),r._p=null,i=e.find_super_dispatcher(a,"allocate",r,null,t).apply(a,[]),i.literal=n,i}),e.defs(_,"$new",a=function(e){var n,t,r=this,s=a._p,l=s||o,c=o;return e=i.call(arguments,0),a._p=null,c=r.$allocate(),(n=(t=c).$initialize,n._p=l.$to_proc(),n).apply(t,[].concat(e)),c}),e.defs(_,"$[]",function(e){var n=this;return e=i.call(arguments,0),n.$allocate(e)}),$.$initialize=l=function(n){var t,r,a,s=this,c=l._p,u=c||o;return n=i.call(arguments,0),l._p=null,s.literal=(t=(r=null==(a=p.Array)?e.cm("Array"):a).$new,t._p=u.$to_proc(),t).apply(r,[].concat(n))},$.$method_missing=c=function(e){var n,t,r=this,a=c._p,s=a||o,l=o;return e=i.call(arguments,0),c._p=null,l=(n=(t=r.literal).$__send__,n._p=s.$to_proc(),n).apply(t,[].concat(e)),(n=l===r.literal)===o||n._isBoolean&&1!=n?l:r},$.$initialize_copy=function(e){var n=this;return n.literal=e.literal.$clone()},$["$respond_to?"]=u=function(n){var t,r=i.call(arguments,0),a=this,s=u._p;return u._p=null,(t=e.find_super_dispatcher(a,"respond_to?",u,s).apply(a,r))!==!1&&t!==o?t:a.literal["$respond_to?"](n)},$["$=="]=function(e){var n=this;return n.literal["$=="](e)},$["$eql?"]=function(e){var n=this;return n.literal["$eql?"](e)},$.$to_a=function(){var e=this;return e.literal},$.$to_ary=function(){var e=this;return e},$.$inspect=function(){var e=this;return e.literal.$inspect()},$["$*"]=function(e){var n=this,t=n.literal["$*"](e);return t._isArray?n.$class().$allocate(t):t},$["$[]"]=function(e,n){var t=this,r=t.literal.$slice(e,n);return r._isArray&&(e._isRange||void 0!==n)?t.$class().$allocate(r):r},e.defn(_,"$slice",$["$[]"]),$.$uniq=function(){var e=this;return e.$class().$allocate(e.literal.$uniq())},$.$flatten=function(e){var n=this;return n.$class().$allocate(n.literal.$flatten(e))},o}(null==(n=r.Array)?e.cm("Array"):n,null)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=e.slice,a=e.klass;return e.add_stubs(["$include","$!","$==","$call","$enum_for","$raise","$flatten","$inspect","$alias_method","$clone"]),function(n,$super){function i(){}var s,l,c,u,_,$,p,d,f,m,h,v,g,b=i=a(n,$super,"Hash",i),x=b._proto,y=b._scope;x.proc=x.none=t,b.$include(null==(s=y.Enumerable)?e.cm("Enumerable"):s);var k={}.hasOwnProperty;return e.defs(b,"$[]",function(n){return n=o.call(arguments,0),e.hash.apply(null,n)}),e.defs(b,"$allocate",function(){var e=this,n=new e._alloc;return n.map={},n.keys=[],n}),x.$initialize=l=function(e){var n=this,r=l._p,o=r||t;return l._p=null,null!=e?n.none=e:o!==t&&(n.proc=o),n},x["$=="]=function(e){var n=this;if(n===e)return!0;if(!e.map||!e.keys)return!1;if(n.keys.length!==e.keys.length)return!1;for(var t=n.map,r=e.map,o=0,a=n.keys.length;a>o;o++){var i=n.keys[o],s=t[i],l=r[i];if(s["$=="](l)["$!"]())return!1}return!0},x["$[]"]=function(e){var n=this,r=n.map;if(k.call(r,e))return r[e];var o=n.proc;return o!==t?o.$call(n,e):n.none},x["$[]="]=function(e,n){var t=this,r=t.map;return k.call(r,e)||t.keys.push(e),r[e]=n,n},x.$assoc=function(e){for(var n,r=this,o=r.keys,a=0,i=o.length;i>a;a++)if(n=o[a],n["$=="](e))return[n,r.map[n]];return t},x.$clear=function(){var e=this;return e.map={},e.keys=[],e},x.$clone=function(){for(var e=this,n={},t=[],r=0,o=e.keys.length;o>r;r++){var a=e.keys[r],i=e.map[a];t.push(a),n[a]=i}var s=new e._klass._alloc;return s.map=n,s.keys=t,s.none=e.none,s.proc=e.proc,s},x.$default=function(){var e=this;return e.none},x["$default="]=function(e){var n=this;return n.none=e},x.$default_proc=function(){var e=this;return e.proc},x["$default_proc="]=function(e){var n=this;return n.proc=e},x.$delete=function(e){var n=this,r=n.map,o=r[e];return null!=o?(delete r[e],n.keys.$delete(e),o):t},x.$delete_if=c=function(){var e=this,n=c._p,o=n||t;if(c._p=null,o===!1||o===t)return e.$enum_for("delete_if");for(var a,i=e.map,s=e.keys,l=0,u=s.length;u>l;l++){var _=s[l],$=i[_];if((a=o(_,$))===r)return r.$v;a!==!1&&a!==t&&(s.splice(l,1),delete i[_],u--,l--)}return e},e.defn(b,"$dup",x.$clone),x.$each=u=function(){var n=this,o=u._p,a=o||t;if(u._p=null,a===!1||a===t)return n.$enum_for("each");for(var i=n.map,s=n.keys,l=0,c=s.length;c>l;l++){var _=s[l],$=e.$yield1(a,[_,i[_]]);if($===r)return r.$v}return n},x.$each_key=_=function(){var e=this,n=_._p,o=n||t;if(_._p=null,o===!1||o===t)return e.$enum_for("each_key");for(var a=e.keys,i=0,s=a.length;s>i;i++){var l=a[i];if(o(l)===r)return r.$v}return e},e.defn(b,"$each_pair",x.$each),x.$each_value=$=function(){var e=this,n=$._p,o=n||t;if($._p=null,o===!1||o===t)return e.$enum_for("each_value");for(var a=e.map,i=e.keys,s=0,l=i.length;l>s;s++)if(o(a[i[s]])===r)return r.$v;return e},x["$empty?"]=function(){var e=this;return 0===e.keys.length},e.defn(b,"$eql?",x["$=="]),x.$fetch=p=function(n,o){var a,i=this,s=p._p,l=s||t;p._p=null;var c=i.map[n];if(null!=c)return c;if(l!==t){var c;return(c=l(n))===r?r.$v:c}return null!=o?o:(i.$raise(null==(a=y.KeyError)?e.cm("KeyError"):a,"key not found"),void 0)},x.$flatten=function(e){for(var n=this,t=n.map,r=n.keys,o=[],a=0,i=r.length;i>a;a++){var s=r[a],l=t[s];o.push(s),l._isArray?null==e||1===e?o.push(l):o=o.concat(l.$flatten(e-1)):o.push(l)}return o},x["$has_key?"]=function(e){var n=this;return k.call(n.map,e)},x["$has_value?"]=function(e){var n=this;for(var t in n.map)if(n.map[t]["$=="](e))return!0;return!1},x.$hash=function(){var e=this;return e._id},e.defn(b,"$include?",x["$has_key?"]),x.$index=function(e){for(var n=this,r=n.map,o=n.keys,a=0,i=o.length;i>a;a++){var s=o[a];if(r[s]["$=="](e))return s}return t},x.$indexes=function(e){var n=this;e=o.call(arguments,0);for(var t,r=[],a=n.map,i=0,s=e.length;s>i;i++){var l=e[i],t=a[l];null!=t?r.push(t):r.push(n.none)}return r},e.defn(b,"$indices",x.$indexes),x.$inspect=function(){for(var e=this,n=[],t=e.keys,r=e.map,o=0,a=t.length;a>o;o++){var i=t[o],s=r[i];s===e?n.push(i.$inspect()+"=>"+"{...}"):n.push(i.$inspect()+"=>"+r[i].$inspect())}return"{"+n.join(", ")+"}"},x.$invert=function(){for(var n=this,t=e.hash(),r=n.keys,o=n.map,a=t.keys,i=t.map,s=0,l=r.length;l>s;s++){var c=r[s],u=o[c];a.push(u),i[u]=c}return t},x.$keep_if=d=function(){var e=this,n=d._p,o=n||t;if(d._p=null,o===!1||o===t)return e.$enum_for("keep_if");for(var a,i=e.map,s=e.keys,l=0,c=s.length;c>l;l++){var u=s[l],_=i[u];if((a=o(u,_))===r)return r.$v;(a===!1||a===t)&&(s.splice(l,1),delete i[u],c--,l--)}return e},e.defn(b,"$key",x.$index),e.defn(b,"$key?",x["$has_key?"]),x.$keys=function(){var e=this;return e.keys.slice(0)},x.$length=function(){var e=this;return e.keys.length},e.defn(b,"$member?",x["$has_key?"]),x.$merge=f=function(n){var r=this,o=f._p,a=o||t;f._p=null;for(var i=r.keys,s=r.map,l=e.hash(),c=l.keys,u=l.map,_=0,$=i.length;$>_;_++){var p=i[_];c.push(p),u[p]=s[p]}var i=n.keys,s=n.map;if(a===t)for(var _=0,$=i.length;$>_;_++){var p=i[_];null==u[p]&&c.push(p),u[p]=s[p]}else for(var _=0,$=i.length;$>_;_++){var p=i[_];null==u[p]?(c.push(p),u[p]=s[p]):u[p]=a(p,u[p],s[p])}return l},x["$merge!"]=m=function(e){var n=this,r=m._p,o=r||t;m._p=null;var a=n.keys,i=n.map,s=e.keys,l=e.map;if(o===t)for(var c=0,u=s.length;u>c;c++){var _=s[c];null==i[_]&&a.push(_),i[_]=l[_]}else for(var c=0,u=s.length;u>c;c++){var _=s[c];null==i[_]?(a.push(_),i[_]=l[_]):i[_]=o(_,i[_],l[_])}return n},x.$rassoc=function(e){for(var n=this,r=n.keys,o=n.map,a=0,i=r.length;i>a;a++){var s=r[a],l=o[s];if(l["$=="](e))return[s,l]}return t},x.$reject=h=function(){var n=this,o=h._p,a=o||t;if(h._p=null,a===!1||a===t)return n.$enum_for("reject");for(var i=n.keys,s=n.map,l=e.hash(),c=l.map,u=l.keys,_=0,$=i.length;$>_;_++){var p,d=i[_],f=s[d];if((p=a(d,f))===r)return r.$v;(p===!1||p===t)&&(u.push(d),c[d]=f)}return l},x.$replace=function(e){for(var n=this,t=n.map={},r=n.keys=[],o=0,a=e.keys.length;a>o;o++){var i=e.keys[o];r.push(i),t[i]=e.map[i]}return n},x.$select=v=function(){var n=this,o=v._p,a=o||t;if(v._p=null,a===!1||a===t)return n.$enum_for("select");for(var i=n.keys,s=n.map,l=e.hash(),c=l.map,u=l.keys,_=0,$=i.length;$>_;_++){var p,d=i[_],f=s[d];if((p=a(d,f))===r)return r.$v;p!==!1&&p!==t&&(u.push(d),c[d]=f)}return l},x["$select!"]=g=function(){var e=this,n=g._p,o=n||t;if(g._p=null,o===!1||o===t)return e.$enum_for("select!");for(var a,i=e.map,s=e.keys,l=t,c=0,u=s.length;u>c;c++){var _=s[c],$=i[_];if((a=o(_,$))===r)return r.$v;(a===!1||a===t)&&(s.splice(c,1),delete i[_],u--,c--,l=e)}return l},x.$shift=function(){var e=this,n=e.keys,r=e.map;if(n.length){var o=n[0],a=r[o];return delete r[o],n.splice(0,1),[o,a]}return t},e.defn(b,"$size",x.$length),b.$alias_method("store","[]="),x.$to_a=function(){for(var e=this,n=e.keys,t=e.map,r=[],o=0,a=n.length;a>o;o++){var i=n[o];r.push([i,t[i]])}return r},x.$to_h=function(){var e=this,n=new Opal.Hash._alloc,t=e.$clone();return n.map=t.map,n.keys=t.keys,n.none=t.none,n.proc=t.proc,n},x.$to_hash=function(){var e=this;return e},e.defn(b,"$to_s",x.$inspect),e.defn(b,"$update",x["$merge!"]),e.defn(b,"$value?",x["$has_value?"]),e.defn(b,"$values_at",x.$indexes),x.$values=function(){var e=this,n=e.map,t=[];for(var r in n)t.push(n[r]);return t},t}(n,null)}(Opal),function(e){var n,t=e.top,r=e,o=e.nil,a=e.breaker,i=e.slice,s=e.klass,l=e.gvars;return e.add_stubs(["$include","$to_str","$===","$format","$coerce_to","$to_s","$respond_to?","$<=>","$raise","$=~","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$initialize_clone","$initialize_dup","$enum_for","$split","$chomp","$escape","$class","$to_i","$name","$!","$each_line","$match","$new","$try_convert","$chars","$&","$join","$is_a?","$[]","$str","$value"]),function(n,$super){function t(){}var r,c,u,_,$,p,d,f,m=t=s(n,$super,"String",t),h=m._proto,v=m._scope;return h.length=o,m.$include(null==(r=v.Comparable)?e.cm("Comparable"):r),h._isString=!0,e.defs(m,"$try_convert",function(e){try{return e.$to_str()}catch(n){return o}}),e.defs(m,"$new",function(e){return null==e&&(e=""),new String(e)}),h["$%"]=function(n){var t,r,a=this;return(t=(null==(r=v.Array)?e.cm("Array"):r)["$==="](n))===o||t._isBoolean&&1!=t?a.$format(a,n):(t=a).$format.apply(t,[a].concat(n))},h["$*"]=function(e){var n=this;if(1>e)return"";for(var t="",r=n;e>0;)1&e&&(t+=r),e>>=1,r+=r;return t},h["$+"]=function(n){var t,r=this;return n=(null==(t=v.Opal)?e.cm("Opal"):t).$coerce_to(n,null==(t=v.String)?e.cm("String"):t,"to_str"),r+n.$to_s()},h["$<=>"]=function(e){var n,t=this;if((n=e["$respond_to?"]("to_str"))===o||n._isBoolean&&1!=n){var r=e["$<=>"](t);return r===o?o:r>0?-1:0>r?1:0}return e=e.$to_str().$to_s(),t>e?1:e>t?-1:0},h["$=="]=function(e){var n=this;return!(!e._isString||n.valueOf()!==e.valueOf())},e.defn(m,"$===",h["$=="]),h["$=~"]=function(n){var t,r=this;return n._isString&&r.$raise(null==(t=v.TypeError)?e.cm("TypeError"):t,"type mismatch: String given"),n["$=~"](r)},h["$[]"]=function(e,n){var t=this,r=t.length;if(e._isRange){var a=e.exclude,n=e.end,e=e.begin;return 0>e&&(e+=r),0>n&&(n+=r),a||(n+=1),e>r?o:(n-=e,0>n&&(n=0),t.substr(e,n))}return 0>e&&(e+=t.length),null==n?e>=t.length||0>e?o:t.substr(e,1):e>t.length||0>e?o:t.substr(e,n)},h.$capitalize=function(){var e=this;return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()},h.$casecmp=function(n){var t,r=this;return n=(null==(t=v.Opal)?e.cm("Opal"):t).$coerce_to(n,null==(t=v.String)?e.cm("String"):t,"to_str").$to_s(),r.toLowerCase()["$<=>"](n.toLowerCase())},h.$center=function(n,t){var r,a=this;if(null==t&&(t=" "),n=(null==(r=v.Opal)?e.cm("Opal"):r).$coerce_to(n,null==(r=v.Integer)?e.cm("Integer"):r,"to_int"),t=(null==(r=v.Opal)?e.cm("Opal"):r).$coerce_to(t,null==(r=v.String)?e.cm("String"):r,"to_str").$to_s(),(r=t["$empty?"]())===o||r._isBoolean&&1!=r||a.$raise(null==(r=v.ArgumentError)?e.cm("ArgumentError"):r,"zero width padding"),(r=n<=a.length)!==o&&(!r._isBoolean||1==r))return a;var i=a.$ljust(n["$+"](a.length)["$/"](2).$ceil(),t),s=a.$rjust(n["$+"](a.length)["$/"](2).$floor(),t);return s+i.slice(a.length)},h.$chars=c=function(){var e,n,t=this,r=c._p,a=r||o;return c._p=null,a===!1||a===o?t.$each_char().$to_a():(e=(n=t).$each_char,e._p=a.$to_proc(),e).call(n)},h.$chomp=function(n){var t,r=this;if(null==n&&(n=l["/"]),(t=n===o||0===r.length)!==o&&(!t._isBoolean||1==t))return r;if(n=(null==(t=v.Opal)?e.cm("Opal"):t)["$coerce_to!"](n,null==(t=v.String)?e.cm("String"):t,"to_str").$to_s(),"\n"===n)return r.replace(/\r?\n?$/,"");if(""===n)return r.replace(/(\r?\n)+$/,"");if(r.length>n.length){var a=r.substr(-1*n.length);if(a===n)return r.substr(0,r.length-n.length)}return r},h.$chop=function(){var e=this,n=e.length;return 1>=n?"":"\n"===e.charAt(n-1)&&"\r"===e.charAt(n-2)?e.substr(0,n-2):e.substr(0,n-1)},h.$chr=function(){var e=this;return e.charAt(0)},h.$clone=function(){var e=this,n=o;return n=e.slice(),n.$initialize_clone(e),n},h.$dup=function(){var e=this,n=o;return n=e.slice(),n.$initialize_dup(e),n},h.$count=function(e){var n=this;return(n.length-n.replace(new RegExp(e,"g"),"").length)/e.length},e.defn(m,"$dup",h.$clone),h.$downcase=function(){var e=this;return e.toLowerCase()},h.$each_char=u=function(){var n,t=this,r=u._p,i=r||o;if(u._p=null,i===o)return t.$enum_for("each_char");for(var s=0,l=t.length;l>s;s++)(n=e.$yield1(i,t.charAt(s)))===a?a.$v:n;return t},h.$each_line=_=function(n){var t,r=this,i=_._p,s=i||o;if(null==n&&(n=l["/"]),_._p=null,s===o)return r.$split(n);for(var c=r.$chomp(),u=r.length!=c.length,$=c.split(n),p=0,d=$.length;d>p;p++)d-1>p||u?(t=e.$yield1(s,$[p]+n))===a?a.$v:t:(t=e.$yield1(s,$[p]))===a?a.$v:t;return r},h["$empty?"]=function(){var e=this;return 0===e.length},h["$end_with?"]=function(n){var t,r=this;n=i.call(arguments,0);for(var o=0,a=n.length;a>o;o++){var s=(null==(t=v.Opal)?e.cm("Opal"):t).$coerce_to(n[o],null==(t=v.String)?e.cm("String"):t,"to_str");if(r.length>=s.length&&r.substr(0-s.length)===s)return!0}return!1},e.defn(m,"$eql?",h["$=="]),e.defn(m,"$equal?",h["$==="]),h.$gsub=$=function(n,t){var r,a,i,s=this,l=$._p,c=l||o;$._p=null,(r=(a=(null==(i=v.String)?e.cm("String"):i)["$==="](n))!==!1&&a!==o?a:n["$respond_to?"]("to_str"))===o||r._isBoolean&&1!=r||(n=new RegExp(""+(null==(r=v.Regexp)?e.cm("Regexp"):r).$escape(n.$to_str()))),((r=(null==(a=v.Regexp)?e.cm("Regexp"):a)["$==="](n))===o||r._isBoolean&&1!=r)&&s.$raise(null==(r=v.TypeError)?e.cm("TypeError"):r,"wrong argument type "+n.$class()+" (expected Regexp)");var n=n.toString(),u=n.substr(n.lastIndexOf("/")+1)+"g",_=n.substr(1,n.lastIndexOf("/")-1);return s.$sub._p=c,s.$sub(new RegExp(_,u),t)},h.$hash=function(){var e=this;return e.toString()},h.$hex=function(){var e=this;return e.$to_i(16)},h["$include?"]=function(n){var t,r=this;return n._isString?-1!==r.indexOf(n):(((t=n["$respond_to?"]("to_str"))===o||t._isBoolean&&1!=t)&&r.$raise(null==(t=v.TypeError)?e.cm("TypeError"):t,"no implicit conversion of "+n.$class().$name()+" into String"),-1!==r.indexOf(n.$to_str()))},h.$index=function(n,t){var r,a,i=this,s=o;if(null==t&&(t=o),(r=(null==(a=v.String)?e.cm("String"):a)["$==="](n))===o||r._isBoolean&&1!=r?(r=n["$respond_to?"]("to_str"))===o||r._isBoolean&&1!=r?(r=(null==(a=v.Regexp)?e.cm("Regexp"):a)["$==="](n)["$!"]())===o||r._isBoolean&&1!=r||i.$raise(null==(r=v.TypeError)?e.cm("TypeError"):r,"type mismatch: "+n.$class()+" given"):n=n.$to_str().$to_s():n=n.$to_s(),s=-1,t!==!1&&t!==o){t=(null==(r=v.Opal)?e.cm("Opal"):r).$coerce_to(t,null==(r=v.Integer)?e.cm("Integer"):r,"to_int");var l=i.length;if(0>t&&(t+=l),t>l)return o;s=(r=(null==(a=v.Regexp)?e.cm("Regexp"):a)["$==="](n))===o||r._isBoolean&&1!=r?i.substr(t).indexOf(n):(r=n["$=~"](i.substr(t)))!==!1&&r!==o?r:-1,-1!==s&&(s+=t)
}else s=(r=(null==(a=v.Regexp)?e.cm("Regexp"):a)["$==="](n))===o||r._isBoolean&&1!=r?i.indexOf(n):(r=n["$=~"](i))!==!1&&r!==o?r:-1;return(r=-1===s)===o||r._isBoolean&&1!=r?s:o},h.$inspect=function(){var e=this,n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,t={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return n.lastIndex=0,n.test(e)?'"'+e.replace(n,function(e){var n=t[e];return"string"==typeof n?n:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'},h.$intern=function(){var e=this;return e},h.$lines=function(e){var n=this;return null==e&&(e=l["/"]),n.$each_line(e).$to_a()},h.$length=function(){var e=this;return e.length},h.$ljust=function(n,t){var r,a=this;if(null==t&&(t=" "),n=(null==(r=v.Opal)?e.cm("Opal"):r).$coerce_to(n,null==(r=v.Integer)?e.cm("Integer"):r,"to_int"),t=(null==(r=v.Opal)?e.cm("Opal"):r).$coerce_to(t,null==(r=v.String)?e.cm("String"):r,"to_str").$to_s(),(r=t["$empty?"]())===o||r._isBoolean&&1!=r||a.$raise(null==(r=v.ArgumentError)?e.cm("ArgumentError"):r,"zero width padding"),(r=n<=a.length)!==o&&(!r._isBoolean||1==r))return a;var i=-1,s="";for(n-=a.length;++i<n;)s+=t;return a+s.slice(0,n)},h.$lstrip=function(){var e=this;return e.replace(/^\s*/,"")},h.$match=p=function(n,t){var r,a,i,s=this,l=p._p,c=l||o;return p._p=null,(r=(a=(null==(i=v.String)?e.cm("String"):i)["$==="](n))!==!1&&a!==o?a:n["$respond_to?"]("to_str"))===o||r._isBoolean&&1!=r||(n=new RegExp(""+(null==(r=v.Regexp)?e.cm("Regexp"):r).$escape(n.$to_str()))),((r=(null==(a=v.Regexp)?e.cm("Regexp"):a)["$==="](n))===o||r._isBoolean&&1!=r)&&s.$raise(null==(r=v.TypeError)?e.cm("TypeError"):r,"wrong argument type "+n.$class()+" (expected Regexp)"),(r=(a=n).$match,r._p=c.$to_proc(),r).call(a,s,t)},h.$next=function(){var e=this;if(0===e.length)return"";var n=e.substr(0,e.length-1),t=String.fromCharCode(e.charCodeAt(e.length-1)+1);return n+t},h.$ord=function(){var e=this;return e.charCodeAt(0)},h.$partition=function(e){var n=this,t=n.split(e),r=t[0].length===n.length?"":e;return[t[0],r,t.slice(1).join(e.toString())]},h.$reverse=function(){var e=this;return e.split("").reverse().join("")},h.$rindex=function(n,t){var r,a=this,i=null==n?Opal.NilClass:n.constructor;if(i!=String&&i!=RegExp){var s="type mismatch: "+i+" given";a.$raise((null==(r=v.TypeError)?e.cm("TypeError"):r).$new(s))}if(0==a.length)return 0==n.length?0:o;var l=-1;return null!=t?(0>t&&(t=a.length+t),i==String?l=a.lastIndexOf(n,t):(l=a.substr(0,t+1).$reverse().search(n),-1!==l&&(l=t-l))):i==String?l=a.lastIndexOf(n):(l=a.$reverse().search(n),-1!==l&&(l=a.length-1-l)),-1===l?o:l},h.$rjust=function(n,t){var r,a=this;if(null==t&&(t=" "),n=(null==(r=v.Opal)?e.cm("Opal"):r).$coerce_to(n,null==(r=v.Integer)?e.cm("Integer"):r,"to_int"),t=(null==(r=v.Opal)?e.cm("Opal"):r).$coerce_to(t,null==(r=v.String)?e.cm("String"):r,"to_str").$to_s(),(r=t["$empty?"]())===o||r._isBoolean&&1!=r||a.$raise(null==(r=v.ArgumentError)?e.cm("ArgumentError"):r,"zero width padding"),(r=n<=a.length)!==o&&(!r._isBoolean||1==r))return a;var i=Math.floor(n-a.length),s=Math.floor(i/t.length),l=Array(s+1).join(t),c=i-l.length;return l+t.slice(0,c)+a},h.$rstrip=function(){var e=this;return e.replace(/\s*$/,"")},h.$scan=d=function(n){var t,r=this,a=d._p,i=a||o;d._p=null,n.global?n.lastIndex=0:n=new RegExp(n.source,"g"+(n.multiline?"m":"")+(n.ignoreCase?"i":""));for(var s,l=[];null!=(s=n.exec(r));)(null==(t=v.MatchData)?e.cm("MatchData"):t).$new(n,s),i===o?1==s.length?l.push(s[0]):l.push(s.slice(1)):1==s.length?i(s[0]):i.apply(r,s.slice(1));return i!==o?r:l},e.defn(m,"$size",h.$length),e.defn(m,"$slice",h["$[]"]),h.$split=function(n,t){var r,a=this;if(null==n&&(n=(r=l[";"])!==!1&&r!==o?r:" "),n&&n._isRegexp)return a.split(n,t);if(result=[],splitted=start=lim=0,splat=(null==(r=v.Opal)?e.cm("Opal"):r).$try_convert(n,null==(r=v.String)?e.cm("String"):r,"to_str").$to_s(),void 0!==t&&(lim=(null==(r=v.Opal)?e.cm("Opal"):r).$try_convert(t,null==(r=v.Integer)?e.cm("Integer"):r,"to_int")),n===o&&(splat=void 0===l[";"]||l[";"]===o?" ":l[";"]),1==lim)return 0==a.length?[]:[a];for(string=" "==splat?a.replace(/[\r\n\t\v]\s+/g," "):a;(cursor=string.indexOf(splat,start))>-1&&cursor<string.length&&splitted+1!=lim;)" "!=splat||cursor!=start?(result.push(string.substr(start,splat.length?cursor-start:1)),splitted++,start=cursor+(splat.length?splat.length:1)):start=cursor+1;if(string.length>0&&(t||0>lim||string.length>start)&&(string.length==start?result.push(""):result.push(string.substr(start,string.length))),void 0===t||0==lim)for(;result.length>0&&0==result[result.length-1].length;)result.pop();return result},h.$squeeze=function(n){var t,r=this;if(n=i.call(arguments,0),0===n.length)return r.replace(/(.)\1+/g,"$1");for(var o=(null==(t=v.Opal)?e.cm("Opal"):t).$coerce_to(n[0],null==(t=v.String)?e.cm("String"):t,"to_str").$chars(),a=1,s=n.length;s>a;a++)o=o["$&"]((null==(t=v.Opal)?e.cm("Opal"):t).$coerce_to(n[a],null==(t=v.String)?e.cm("String"):t,"to_str").$chars());return 0===o.length?r:r.replace(new RegExp("(["+(null==(t=v.Regexp)?e.cm("Regexp"):t).$escape(o.$join())+"])\\1+","g"),"$1")},h["$start_with?"]=function(n){var t,r=this;n=i.call(arguments,0);for(var o=0,a=n.length;a>o;o++){var s=(null==(t=v.Opal)?e.cm("Opal"):t).$coerce_to(n[o],null==(t=v.String)?e.cm("String"):t,"to_str");if(0===r.indexOf(s))return!0}return!1},h.$strip=function(){var e=this;return e.replace(/^\s*/,"").replace(/\s*$/,"")},h.$sub=f=function(n,t){var r,a=this,i=f._p,s=i||o;return f._p=null,"string"==typeof t?(t=t.replace(/\\([1-9])/g,"$$$1"),a.replace(n,t)):s!==o?a.replace(n,function(){for(var e=[],n=0,t=arguments.length;t>n;n++){var r=arguments[n];void 0==r?e.push(o):e.push(r)}return e.pop(),e.pop(),e.length,l["&"]=e[0],l["~"]=e,s(e[0])}):void 0!==t?t["$is_a?"](null==(r=v.Hash)?e.cm("Hash"):r)?a.replace(n,function(){var e=t["$[]"](a.$str());return null==e?o:a.$value().$to_s()}):(t=(null==(r=v.String)?e.cm("String"):r).$try_convert(t),null==t&&a.$raise(null==(r=v.TypeError)?e.cm("TypeError"):r,"can't convert "+t.$class()+" into String"),a.replace(n,t)):(t=t.toString().replace(/\\([1-9])/g,"$$$1"),a.replace(n,t))},e.defn(m,"$succ",h.$next),h.$sum=function(e){var n=this;null==e&&(e=16);for(var t=0,r=0,o=n.length;o>r;r++)t+=n.charCodeAt(r)%((1<<e)-1);return t},h.$swapcase=function(){var e=this,n=e.replace(/([a-z]+)|([A-Z]+)/g,function(e,n){return n?e.toUpperCase():e.toLowerCase()});return e.constructor===String?n:e.$class().$new(n)},h.$to_a=function(){var e=this;return 0===e.length?[]:[e]},h.$to_f=function(){var e=this;if("_"===e.charAt(0))return 0;var n=parseFloat(e.replace(/_/g,""));return isNaN(n)||1/0==n||n==-1/0?0:n},h.$to_i=function(e){var n=this;null==e&&(e=10);var t=parseInt(n,e);return isNaN(t)?0:t},h.$to_proc=function(){var e=this,n="$"+e;return function(e){var t=e[n];return t?t.call(e):e.$method_missing(n)}},h.$to_s=function(){var e=this;return e.toString()},e.defn(m,"$to_str",h.$to_s),e.defn(m,"$to_sym",h.$intern),h.$tr=function(e,n){var t=this;if(0==e.length||e===n)return t;var r={},o=e.split(""),a=o.length,i=n.split(""),s=i.length,l=!1,c=null;"^"===o[0]&&(l=!0,o.shift(),c=i[s-1],a-=1);for(var u=[],_=null,$=!1,p=0;a>p;p++){var d=o[p];if(null==_)_=d,u.push(d);else if("-"===d)"-"===_?(u.push("-"),u.push("-")):p==a-1?u.push("-"):$=!0;else if($){for(var f=_.charCodeAt(0)+1,m=d.charCodeAt(0),h=f;m>h;h++)u.push(String.fromCharCode(h));u.push(d),$=null,_=null}else u.push(d)}if(o=u,a=o.length,l)for(var p=0;a>p;p++)r[o[p]]=!0;else{if(s>0){for(var v=[],g=null,$=!1,p=0;s>p;p++){var d=i[p];if(null==_)_=d,v.push(d);else if("-"===d)"-"===g?(v.push("-"),v.push("-")):p==s-1?v.push("-"):$=!0;else if($){for(var f=_.charCodeAt(0)+1,m=d.charCodeAt(0),h=f;m>h;h++)v.push(String.fromCharCode(h));v.push(d),$=null,_=null}else v.push(d)}i=v,s=i.length}var b=a-s;if(b>0)for(var x=s>0?i[s-1]:"",p=0;b>p;p++)i.push(x);for(var p=0;a>p;p++)r[o[p]]=i[p]}for(var y="",p=0,k=t.length;k>p;p++){var d=t.charAt(p),E=r[d];y+=l?null==E?c:d:null!=E?E:d}return y},h.$tr_s=function(e,n){var t=this;if(0==e.length)return t;var r={},o=e.split(""),a=o.length,i=n.split(""),s=i.length,l=!1,c=null;"^"===o[0]&&(l=!0,o.shift(),c=i[s-1],a-=1);for(var u=[],_=null,$=!1,p=0;a>p;p++){var d=o[p];if(null==_)_=d,u.push(d);else if("-"===d)"-"===_?(u.push("-"),u.push("-")):p==a-1?u.push("-"):$=!0;else if($){for(var f=_.charCodeAt(0)+1,m=d.charCodeAt(0),h=f;m>h;h++)u.push(String.fromCharCode(h));u.push(d),$=null,_=null}else u.push(d)}if(o=u,a=o.length,l)for(var p=0;a>p;p++)r[o[p]]=!0;else{if(s>0){for(var v=[],g=null,$=!1,p=0;s>p;p++){var d=i[p];if(null==_)_=d,v.push(d);else if("-"===d)"-"===g?(v.push("-"),v.push("-")):p==s-1?v.push("-"):$=!0;else if($){for(var f=_.charCodeAt(0)+1,m=d.charCodeAt(0),h=f;m>h;h++)v.push(String.fromCharCode(h));v.push(d),$=null,_=null}else v.push(d)}i=v,s=i.length}var b=a-s;if(b>0)for(var x=s>0?i[s-1]:"",p=0;b>p;p++)i.push(x);for(var p=0;a>p;p++)r[o[p]]=i[p]}for(var y="",k=null,p=0,E=t.length;E>p;p++){var d=t.charAt(p),S=r[d];l?null==S?null==k&&(y+=c,k=!0):(y+=d,k=null):null!=S?(null==k||k!==S)&&(y+=S,k=S):(y+=d,k=null)}return y},h.$upcase=function(){var e=this;return e.toUpperCase()},h.$freeze=function(){var e=this;return e},h["$frozen?"]=function(){return!0},o}(t,null),e.cdecl(r,"Symbol",null==(n=r.String)?e.cm("String"):n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.klass,a=e.gvars;return e.add_stubs(["$attr_reader","$pre_match","$post_match","$[]","$===","$!","$==","$raise","$inspect"]),function(n,$super){function i(){}var s,l=i=o(n,$super,"MatchData",i),c=l._proto,u=l._scope;return c.string=c.matches=c.begin=t,l.$attr_reader("post_match","pre_match","regexp","string"),e.defs(l,"$new",s=function(n,r){var o=this,l=(s._p,t);return s._p=null,l=e.find_super_dispatcher(o,"new",s,null,i).apply(o,[n,r]),a["`"]=l.$pre_match(),a["'"]=l.$post_match(),a["~"]=l,l}),c.$initialize=function(e,n){var r=this;r.regexp=e,r.begin=n.index,r.string=n.input,r.pre_match=r.string.substr(0,e.lastIndex-n[0].length),r.post_match=r.string.substr(e.lastIndex),r.matches=[];for(var o=0,a=n.length;a>o;o++){var i=n[o];null==i?r.matches.push(t):r.matches.push(i)}},c["$[]"]=function(e){var n,t=this;return e=r.call(arguments,0),(n=t.matches)["$[]"].apply(n,[].concat(e))},c["$=="]=function(n){var r,o,a,i,s=this;return(r=(null==(o=u.MatchData)?e.cm("MatchData"):o)["$==="](n))===t||r._isBoolean&&1!=r?!1:(i=s.string==n.string,a=i!==!1&&i!==t?s.regexp==n.regexp:i,o=a!==!1&&a!==t?s.pre_match==n.pre_match:a,r=o!==!1&&o!==t?s.post_match==n.post_match:o,r!==!1&&r!==t?s.begin==n.begin:r)},c.$begin=function(n){var r,o,a=this;return o=n["$=="](0)["$!"](),(r=o!==!1&&o!==t?n["$=="](1)["$!"]():o)===t||r._isBoolean&&1!=r||a.$raise(null==(r=u.ArgumentError)?e.cm("ArgumentError"):r,"MatchData#begin only supports 0th element"),a.begin},c.$captures=function(){var e=this;return e.matches.slice(1)},c.$inspect=function(){for(var e=this,n="#<MatchData "+e.matches[0].$inspect(),t=1,r=e.matches.length;r>t;t++)n+=" "+t+":"+e.matches[t].$inspect();return n+">"},c.$length=function(){var e=this;return e.matches.length},e.defn(l,"$size",c.$length),c.$to_a=function(){var e=this;return e.matches},c.$to_s=function(){var e=this;return e.matches[0]},c.$values_at=function(e){var n=this;e=r.call(arguments,0);for(var o=[],a=n.matches.length,i=0,s=e.length;s>i;i++){var l=e[i];l>=0?o.push(n.matches[l]):(l+=a,l>0?o.push(n.matches[l]):o.push(t))}return o},t}(n,null)}(Opal),function(e){var n,t,r,o,a,i,s,l,c=e.top,u=e,_=e.nil,$=e.breaker,p=(e.slice,e.klass),d=e.hash2;return e.add_stubs(["$+","$[]","$new","$to_proc","$each","$const_set","$sub","$===","$const_get","$==","$name","$include?","$names","$constants","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$find","$getbyte"]),function(n,$super){function t(){}var r,o=t=p(n,$super,"Encoding",t),a=o._proto,i=o._scope;return a.ascii=a.dummy=a.name=_,e.defs(o,"$register",r=function(n,t){var o,a,s,l,c=this,u=r._p,$=u||_,p=_,f=_;return null==t&&(t=d([],{})),r._p=null,p=[n]["$+"]((o=t["$[]"]("aliases"))!==!1&&o!==_?o:[]),f=(o=(a=null==(s=i.Class)?e.cm("Class"):s).$new,o._p=$.$to_proc(),o).call(a,c).$new(n,p,(o=t["$[]"]("ascii"))!==!1&&o!==_?o:!1,(o=t["$[]"]("dummy"))!==!1&&o!==_?o:!1),(o=(s=p).$each,o._p=(l=function(e){var n=l._s||this;return null==e&&(e=_),n.$const_set(e.$sub("-","_"),f)},l._s=c,l),o).call(s)}),e.defs(o,"$find",function(n){try{var t,r,o,a=this;return(t=a["$==="](n))===_||t._isBoolean&&1!=t?((t=(r=a.$constants()).$each,t._p=(o=function(t){var r,a,i=o._s||this,s=_;return null==t&&(t=_),s=i.$const_get(t),(r=(a=s.$name()["$=="](n))!==!1&&a!==_?a:s.$names()["$include?"](n))===_||r._isBoolean&&1!=r?_:(e.$return(s),void 0)},o._s=a,o),t).call(r),a.$raise(null==(t=i.ArgumentError)?e.cm("ArgumentError"):t,"unknown encoding name - "+n)):n}catch(s){if(s===e.returner)return s.$v;throw s}}),function(e){return e._scope,e._proto,e.$attr_accessor("default_external")}(o.$singleton_class()),o.$attr_reader("name","names"),a.$initialize=function(e,n,t,r){var o=this;return o.name=e,o.names=n,o.ascii=t,o.dummy=r},a["$ascii_compatible?"]=function(){var e=this;return e.ascii},a["$dummy?"]=function(){var e=this;return e.dummy},a.$to_s=function(){var e=this;return e.name},a.$inspect=function(){var e,n=this;return"#<Encoding:"+n.name+function(){return(e=n.dummy)===_||e._isBoolean&&1!=e?_:" (dummy)"}()+">"},a.$each_byte=function(){var n,t=this;return t.$raise(null==(n=i.NotImplementedError)?e.cm("NotImplementedError"):n)},a.$getbyte=function(){var n,t=this;return t.$raise(null==(n=i.NotImplementedError)?e.cm("NotImplementedError"):n)},a.$bytesize=function(){var n,t=this;return t.$raise(null==(n=i.NotImplementedError)?e.cm("NotImplementedError"):n)},_}(c,null),(n=(t=null==(o=u.Encoding)?e.cm("Encoding"):o).$register,n._p=(r=function(){var n,t=r._s||this;return e.defn(t,"$each_byte",n=function(t){var r,o=n._p,a=o||_;n._p=null;for(var i=0,s=t.length;s>i;i++){var l=t.charCodeAt(i);if(127>=l)(r=e.$yield1(a,l))===$?$.$v:r;else for(var c=encodeURIComponent(t.charAt(i)).substr(1).split("%"),u=0,p=c.length;p>u;u++)(r=e.$yield1(a,parseInt(c[u],16)))===$?$.$v:r}}),e.defn(t,"$bytesize",function(){var e=this;return e.$bytes().$length()}),_},r._s=c,r),n).call(t,"UTF-8",d(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})),(n=(o=null==(i=u.Encoding)?e.cm("Encoding"):i).$register,n._p=(a=function(){var n,t=a._s||this;return e.defn(t,"$each_byte",n=function(t){var r,o=n._p,a=o||_;n._p=null;for(var i=0,s=t.length;s>i;i++){var l=t.charCodeAt(i);(r=e.$yield1(a,255&l))===$?$.$v:r,(r=e.$yield1(a,l>>8))===$?$.$v:r}}),e.defn(t,"$bytesize",function(){var e=this;return e.$bytes().$length()}),_},a._s=c,a),n).call(o,"UTF-16LE"),(n=(i=null==(l=u.Encoding)?e.cm("Encoding"):l).$register,n._p=(s=function(){var n,t=s._s||this;return e.defn(t,"$each_byte",n=function(t){var r,o=n._p,a=o||_;n._p=null;for(var i=0,s=t.length;s>i;i++)(r=e.$yield1(a,255&t.charCodeAt(i)))===$?$.$v:r}),e.defn(t,"$bytesize",function(){var e=this;return e.$bytes().$length()}),_},s._s=c,s),n).call(i,"ASCII-8BIT",d(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})),function(n,$super){function t(){}var r,o,a,i=t=p(n,$super,"String",t),s=i._proto,l=i._scope;return s.encoding=_,s.encoding=null==(r=(null==(o=l.Encoding)?e.cm("Encoding"):o)._scope).UTF_16LE?r.cm("UTF_16LE"):r.UTF_16LE,s.$bytes=function(){var e=this;return e.$each_byte().$to_a()},s.$bytesize=function(){var e=this;return e.encoding.$bytesize(e)},s.$each_byte=a=function(){var e,n,t=this,r=a._p,o=r||_;return a._p=null,o===_?t.$enum_for("each_byte"):((e=(n=t.encoding).$each_byte,e._p=o.$to_proc(),e).call(n,t),t)},s.$encoding=function(){var e=this;return e.encoding},s.$force_encoding=function(n){var t,r=this;if(n=(null==(t=l.Encoding)?e.cm("Encoding"):t).$find(n),n["$=="](r.encoding))return r;var o=new native_string(r);return o.encoding=n,o},s.$getbyte=function(e){var n=this;return n.encoding.$getbyte(n,e)},_}(c,null)}(Opal),function(e){var n,t=e.top,r=e,o=e.nil,a=e.breaker,i=e.slice,s=e.klass;return e.add_stubs(["$include","$undef_method","$coerce","$===","$raise","$class","$__send__","$send_coerced","$to_int","$respond_to?","$==","$enum_for","$<","$>","$floor","$/","$%"]),function(n,$super){function t(){}var r,l,c,u,_,$,p=t=s(n,$super,"Numeric",t),d=p._proto,f=p._scope;return p.$include(null==(r=f.Comparable)?e.cm("Comparable"):r),d._isNumber=!0,function(e){return e._scope,e._proto,e.$undef_method("new")}(p.$singleton_class()),d.$coerce=function(n,t){var r,a=this,i=o;null==t&&(t="operation");try{return n._isNumber?[a,n]:n.$coerce(a)}catch(s){return function(){return i=t,"operation"["$==="](i)?a.$raise(null==(r=f.TypeError)?e.cm("TypeError"):r,""+n.$class()+" can't be coerce into Numeric"):"comparison"["$==="](i)?a.$raise(null==(r=f.ArgumentError)?e.cm("ArgumentError"):r,"comparison of "+a.$class()+" with "+n.$class()+" failed"):o}()}},d.$send_coerced=function(n,t){var r,a=this,i=o,s=o,l=o,c=o;return i=function(){return s=n,"+"["$==="](s)||"-"["$==="](s)||"*"["$==="](s)||"/"["$==="](s)||"%"["$==="](s)||"&"["$==="](s)||"|"["$==="](s)||"^"["$==="](s)||"**"["$==="](s)?"operation":">"["$==="](s)||">="["$==="](s)||"<"["$==="](s)||"<="["$==="](s)||"<=>"["$==="](s)?"comparison":o}(),r=e.to_ary(a.$coerce(t,i)),l=null==r[0]?o:r[0],c=null==r[1]?o:r[1],l.$__send__(n,c)},d["$+"]=function(e){var n=this;return e._isNumber?n+e:n.$send_coerced("+",e)},d["$-"]=function(e){var n=this;return e._isNumber?n-e:n.$send_coerced("-",e)},d["$*"]=function(e){var n=this;return e._isNumber?n*e:n.$send_coerced("*",e)},d["$/"]=function(e){var n=this;return e._isNumber?n/e:n.$send_coerced("/",e)},d["$%"]=function(e){var n=this;return e._isNumber?0>e||0>n?(n%e+e)%e:n%e:n.$send_coerced("%",e)},d["$&"]=function(e){var n=this;return e._isNumber?n&e:n.$send_coerced("&",e)},d["$|"]=function(e){var n=this;return e._isNumber?n|e:n.$send_coerced("|",e)},d["$^"]=function(e){var n=this;return e._isNumber?n^e:n.$send_coerced("^",e)},d["$<"]=function(e){var n=this;return e._isNumber?e>n:n.$send_coerced("<",e)},d["$<="]=function(e){var n=this;return e._isNumber?e>=n:n.$send_coerced("<=",e)},d["$>"]=function(e){var n=this;return e._isNumber?n>e:n.$send_coerced(">",e)},d["$>="]=function(e){var n=this;return e._isNumber?n>=e:n.$send_coerced(">=",e)},d["$<=>"]=function(n){var t,r=this;try{return n._isNumber?r>n?1:n>r?-1:0:r.$send_coerced("<=>",n)}catch(a){if((null==(t=f.ArgumentError)?e.cm("ArgumentError"):t)["$==="](a))return o;throw a}},d["$<<"]=function(e){var n=this;return n<<e.$to_int()},d["$>>"]=function(e){var n=this;return n>>e.$to_int()},d["$+@"]=function(){var e=this;return+e},d["$-@"]=function(){var e=this;return-e},d["$~"]=function(){var e=this;return~e},d["$**"]=function(e){var n=this;return e._isNumber?Math.pow(n,e):n.$send_coerced("**",e)},d["$=="]=function(e){var n=this;return e._isNumber?n==Number(e):e["$respond_to?"]("==")?e["$=="](n):!1},d.$abs=function(){var e=this;return Math.abs(e)},d.$ceil=function(){var e=this;return Math.ceil(e)},d.$chr=function(){var e=this;return String.fromCharCode(e)},d.$conj=function(){var e=this;return e},e.defn(p,"$conjugate",d.$conj),d.$downto=l=function(e){var n=this,t=l._p,r=t||o;if(l._p=null,r===!1||r===o)return n.$enum_for("downto",e);for(var i=n;i>=e;i--)if(r(i)===a)return a.$v;return n},e.defn(p,"$eql?",d["$=="]),e.defn(p,"$equal?",d["$=="]),d["$even?"]=function(){var e=this;return 0===e%2},d.$floor=function(){var e=this;return Math.floor(e)},d.$hash=function(){var e=this;return e.toString()},d["$integer?"]=function(){var e=this;return 0===e%1},d["$is_a?"]=c=function(n){var t,r,a,s=i.call(arguments,0),l=this,u=c._p;return c._p=null,(t=(r=n["$=="](null==(a=f.Float)?e.cm("Float"):a))?(null==(a=f.Float)?e.cm("Float"):a)["$==="](l):r)===o||t._isBoolean&&1!=t?(t=(r=n["$=="](null==(a=f.Integer)?e.cm("Integer"):a))?(null==(a=f.Integer)?e.cm("Integer"):a)["$==="](l):r)===o||t._isBoolean&&1!=t?e.find_super_dispatcher(l,"is_a?",c,u).apply(l,s):!0:!0},e.defn(p,"$magnitude",d.$abs),e.defn(p,"$modulo",d["$%"]),d.$next=function(){var e=this;return e+1},d["$nonzero?"]=function(){var e=this;return 0==e?o:e},d["$odd?"]=function(){var e=this;return 0!==e%2},d.$ord=function(){var e=this;return e},d.$pred=function(){var e=this;return e-1},d.$step=u=function(n,t){var r,a=this,i=u._p,s=i||o;if(null==t&&(t=1),u._p=null,s===!1||s===o)return a.$enum_for("step",n,t);(r=0==t)===o||r._isBoolean&&1!=r||a.$raise(null==(r=f.ArgumentError)?e.cm("ArgumentError"):r,"step cannot be 0");var l=a;if(t>0)for(;n>=l;)s(l),l+=t;else for(;l>=n;)s(l),l+=t;return a},e.defn(p,"$succ",d.$next),d.$times=_=function(){var e=this,n=_._p,t=n||o;if(_._p=null,t===!1||t===o)return e.$enum_for("times");for(var r=0;e>r;r++)if(t(r)===a)return a.$v;return e},d.$to_f=function(){var e=this;return parseFloat(e)},d.$to_i=function(){var e=this;return parseInt(e)},e.defn(p,"$to_int",d.$to_i),d.$to_s=function(n){var t,r,a=this;return null==n&&(n=10),(t=(r=n["$<"](2))!==!1&&r!==o?r:n["$>"](36))===o||t._isBoolean&&1!=t||a.$raise(null==(t=f.ArgumentError)?e.cm("ArgumentError"):t,"base must be between 2 and 36"),a.toString(n)},e.defn(p,"$inspect",d.$to_s),d.$divmod=function(e){var n=this,t=o,r=o;return t=n["$/"](e).$floor(),r=n["$%"](e),[t,r]},d.$upto=$=function(e){var n=this,t=$._p,r=t||o;if($._p=null,r===!1||r===o)return n.$enum_for("upto",e);for(var i=n;e>=i;i++)if(r(i)===a)return a.$v;return n},d["$zero?"]=function(){var e=this;return 0==e},d.$size=function(){return 4},d["$nan?"]=function(){var e=this;return isNaN(e)},d["$finite?"]=function(){var e=this;return 1/0==e||e==-1/0},d["$infinite?"]=function(){var e,n=this;return(e=1/0==n)===o||e._isBoolean&&1!=e?(e=n==-1/0)===o||e._isBoolean&&1!=e?o:-1:1},o}(t,null),e.cdecl(r,"Fixnum",null==(n=r.Numeric)?e.cm("Numeric"):n),function(n,$super){function t(){}var r=t=s(n,$super,"Integer",t);return r._proto,r._scope,e.defs(r,"$===",function(e){return!(!e._isNumber||0!=e%1)}),o}(t,null==(n=r.Numeric)?e.cm("Numeric"):n),function(n,$super){function t(){}var r=t=s(n,$super,"Float",t),o=(r._proto,r._scope);return e.defs(r,"$===",function(e){return!(!e._isNumber||0==e%1)}),e.cdecl(o,"INFINITY",1/0),e.cdecl(o,"NAN",0/0)}(t,null==(n=r.Numeric)?e.cm("Numeric"):n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=e.slice,a=e.klass;return e.add_stubs(["$raise"]),function(n,$super){function i(){}var s,l,c=i=a(n,$super,"Proc",i),u=c._proto,_=c._scope;return u._isProc=!0,u.is_lambda=!1,e.defs(c,"$new",s=function(){var n,r=this,o=s._p,a=o||t;return s._p=null,a!==!1&&a!==t||r.$raise(null==(n=_.ArgumentError)?e.cm("ArgumentError"):n,"tried to create a Proc object without a block"),a}),u.$call=l=function(e){var n=this,a=l._p,i=a||t;e=o.call(arguments,0),l._p=null,i!==t&&(n._p=i);var s;return s=n.is_lambda?n.apply(null,e):Opal.$yieldX(n,e),s===r?r.$v:s},e.defn(c,"$[]",u.$call),u.$to_proc=function(){var e=this;return e},u["$lambda?"]=function(){var e=this;return!!e.is_lambda},u.$arity=function(){var e=this;return e.length},t}(n,null)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.klass;return e.add_stubs(["$attr_reader","$class","$arity","$new","$name"]),function(n,$super){function a(){}var i,s=a=o(n,$super,"Method",a),l=s._proto,c=s._scope;return l.method=l.receiver=l.owner=l.name=l.obj=t,s.$attr_reader("owner","receiver","name"),l.$initialize=function(e,n,t){var r=this;return r.receiver=e,r.owner=e.$class(),r.name=t,r.method=n},l.$arity=function(){var e=this;return e.method.$arity()},l.$call=i=function(e){var n=this,o=i._p,a=o||t;return e=r.call(arguments,0),i._p=null,n.method._p=a,n.method.apply(n.receiver,e)},e.defn(s,"$[]",l.$call),l.$unbind=function(){var n,t=this;return(null==(n=c.UnboundMethod)?e.cm("UnboundMethod"):n).$new(t.owner,t.method,t.name)},l.$to_proc=function(){var e=this;return e.method},l.$inspect=function(){var e=this;return"#<Method: "+e.obj.$class().$name()+"#"+e.name+"}>"},t}(n,null),function(n,$super){function r(){}var a=r=o(n,$super,"UnboundMethod",r),i=a._proto,s=a._scope;return i.method=i.name=i.owner=t,a.$attr_reader("owner","name"),i.$initialize=function(e,n,t){var r=this;return r.owner=e,r.method=n,r.name=t},i.$arity=function(){var e=this;return e.method.$arity()},i.$bind=function(n){var t,r=this;return(null==(t=s.Method)?e.cm("Method"):t).$new(n,r.method,r.name)},i.$inspect=function(){var e=this;return"#<UnboundMethod: "+e.owner.$name()+"#"+e.name+">"},t}(n,null)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=e.slice,a=e.klass;return e.add_stubs(["$include","$attr_reader","$include?","$<=","$<","$enum_for","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$cover?","$raise","$inspect"]),function(n,$super){function i(){}var s,l,c,u,_=i=a(n,$super,"Range",i),$=_._proto,p=_._scope;return $.begin=$.exclude=$.end=t,_.$include(null==(s=p.Enumerable)?e.cm("Enumerable"):s),$._isRange=!0,_.$attr_reader("begin","end"),$.$initialize=function(e,n,t){var r=this;return null==t&&(t=!1),r.begin=e,r.end=n,r.exclude=t},$["$=="]=function(e){var n=this;return e._isRange?n.exclude===e.exclude&&n.begin==e.begin&&n.end==e.end:!1},$["$==="]=function(e){var n=this;return n["$include?"](e)},$["$cover?"]=function(e){var n,r,o=this;return(n=o.begin["$<="](e))?function(){return(r=o.exclude)===t||r._isBoolean&&1!=r?e["$<="](o.end):e["$<"](o.end)}():n},e.defn(_,"$last",$.$end),$.$each=l=function(){var n,o,a=this,i=l._p,s=i||t,c=t,u=t;if(l._p=null,s===t)return a.$enum_for("each");for(c=a.begin,u=a.end;c["$<"](u);){if(e.$yield1(s,c)===r)return r.$v;c=c.$succ()}return o=a.exclude["$!"](),(n=o!==!1&&o!==t?c["$=="](u):o)===t||n._isBoolean&&1!=n||e.$yield1(s,c)!==r?a:r.$v},$["$eql?"]=function(n){var r,o,a=this;return(r=(null==(o=p.Range)?e.cm("Range"):o)["$==="](n))===t||r._isBoolean&&1!=r?!1:(o=a.exclude["$==="](n["$exclude_end?"]()),r=o!==!1&&o!==t?a.begin["$eql?"](n.$begin()):o,r!==!1&&r!==t?a.end["$eql?"](n.$end()):r)},$["$exclude_end?"]=function(){var e=this;return e.exclude},e.defn(_,"$first",$.$begin),$["$include?"]=function(e){var n=this;return n["$cover?"](e)},$.$max=c=function(){var n=o.call(arguments,0),r=this,a=c._p,i=a||t;return c._p=null,i!==t?e.find_super_dispatcher(r,"max",c,a).apply(r,n):r.exclude?r.end-1:r.end},$.$min=u=function(){var n=o.call(arguments,0),r=this,a=u._p,i=a||t;return u._p=null,i!==t?e.find_super_dispatcher(r,"min",u,a).apply(r,n):r.begin},e.defn(_,"$member?",$["$include?"]),$.$step=function(n){var t,r=this;return null==n&&(n=1),r.$raise(null==(t=p.NotImplementedError)?e.cm("NotImplementedError"):t)},$.$to_s=function(){var e=this;return e.begin.$inspect()+(e.exclude?"...":"..")+e.end.$inspect()},e.defn(_,"$inspect",$.$to_s)}(n,null)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.klass;return e.add_stubs(["$include","$kind_of?","$to_i","$coerce_to","$between?","$raise","$new","$compact","$nil?","$===","$<=>","$to_f","$strftime","$is_a?","$zero?","$utc?","$warn","$yday","$rjust","$ljust","$zone","$sec","$min","$hour","$day","$month","$year","$wday","$isdst"]),function(n,$super){function a(){}var i,s=a=o(n,$super,"Time",a),l=s._proto,c=s._scope;s.$include(null==(i=c.Comparable)?e.cm("Comparable"):i);var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],_=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],$=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p=["January","Febuary","March","April","May","June","July","August","September","October","November","December"];return e.defs(s,"$at",function(e,n){return null==n&&(n=0),new Date(1e3*e+n)}),e.defs(s,"$new",function(e,n,t,r,o,a){switch(arguments.length){case 1:return new Date(e,0);case 2:return new Date(e,n-1);case 3:return new Date(e,n-1,t);case 4:return new Date(e,n-1,t,r);case 5:return new Date(e,n-1,t,r,o);case 6:return new Date(e,n-1,t,r,o,a);case 7:return new Date(e,n-1,t,r,o,a);default:return new Date}}),e.defs(s,"$local",function(n,o,a,i,s,l,u){var _,$,p=this;if(null==o&&(o=t),null==a&&(a=t),null==i&&(i=t),null==s&&(s=t),null==l&&(l=t),null==u&&(u=t),(_=10===arguments.length)!==t&&(!_._isBoolean||1==_)){var d=r.call(arguments).reverse();l=d[9],s=d[8],i=d[7],a=d[6],o=d[5],n=d[4]}return n=function(){return(_=n["$kind_of?"](null==($=c.String)?e.cm("String"):$))===t||_._isBoolean&&1!=_?(null==(_=c.Opal)?e.cm("Opal"):_).$coerce_to(n,null==(_=c.Integer)?e.cm("Integer"):_,"to_int"):n.$to_i()}(),o=function(){return(_=o["$kind_of?"](null==($=c.String)?e.cm("String"):$))===t||_._isBoolean&&1!=_?(null==(_=c.Opal)?e.cm("Opal"):_).$coerce_to((_=o)!==!1&&_!==t?_:1,null==(_=c.Integer)?e.cm("Integer"):_,"to_int"):o.$to_i()}(),((_=o["$between?"](1,12))===t||_._isBoolean&&1!=_)&&p.$raise(null==(_=c.ArgumentError)?e.cm("ArgumentError"):_,"month out of range: "+o),a=function(){return(_=a["$kind_of?"](null==($=c.String)?e.cm("String"):$))===t||_._isBoolean&&1!=_?(null==(_=c.Opal)?e.cm("Opal"):_).$coerce_to((_=a)!==!1&&_!==t?_:1,null==(_=c.Integer)?e.cm("Integer"):_,"to_int"):a.$to_i()}(),((_=a["$between?"](1,31))===t||_._isBoolean&&1!=_)&&p.$raise(null==(_=c.ArgumentError)?e.cm("ArgumentError"):_,"day out of range: "+a),i=function(){return(_=i["$kind_of?"](null==($=c.String)?e.cm("String"):$))===t||_._isBoolean&&1!=_?(null==(_=c.Opal)?e.cm("Opal"):_).$coerce_to((_=i)!==!1&&_!==t?_:0,null==(_=c.Integer)?e.cm("Integer"):_,"to_int"):i.$to_i()}(),((_=i["$between?"](0,24))===t||_._isBoolean&&1!=_)&&p.$raise(null==(_=c.ArgumentError)?e.cm("ArgumentError"):_,"hour out of range: "+i),s=function(){return(_=s["$kind_of?"](null==($=c.String)?e.cm("String"):$))===t||_._isBoolean&&1!=_?(null==(_=c.Opal)?e.cm("Opal"):_).$coerce_to((_=s)!==!1&&_!==t?_:0,null==(_=c.Integer)?e.cm("Integer"):_,"to_int"):s.$to_i()}(),((_=s["$between?"](0,59))===t||_._isBoolean&&1!=_)&&p.$raise(null==(_=c.ArgumentError)?e.cm("ArgumentError"):_,"minute out of range: "+s),l=function(){return(_=l["$kind_of?"](null==($=c.String)?e.cm("String"):$))===t||_._isBoolean&&1!=_?(null==(_=c.Opal)?e.cm("Opal"):_).$coerce_to((_=l)!==!1&&_!==t?_:0,null==(_=c.Integer)?e.cm("Integer"):_,"to_int"):l.$to_i()}(),((_=l["$between?"](0,59))===t||_._isBoolean&&1!=_)&&p.$raise(null==(_=c.ArgumentError)?e.cm("ArgumentError"):_,"second out of range: "+l),(_=p).$new.apply(_,[].concat([n,o,a,i,s,l].$compact()))}),e.defs(s,"$gm",function(n,r,o,a,i,s){var l,u=this;(l=n["$nil?"]())===t||l._isBoolean&&1!=l||u.$raise(null==(l=c.TypeError)?e.cm("TypeError"):l,"missing year (got nil)"),(r>12||o>31||a>24||i>59||s>59)&&u.$raise(null==(l=c.ArgumentError)?e.cm("ArgumentError"):l);var _=new Date(Date.UTC(n,(r||1)-1,o||1,a||0,i||0,s||0));return _.tz_offset=0,_}),function(e){return e._scope,e._proto,e._proto.$mktime=e._proto.$local,e._proto.$utc=e._proto.$gm}(s.$singleton_class()),e.defs(s,"$now",function(){return new Date}),l["$+"]=function(n){var r,o,a=this;(r=(null==(o=c.Time)?e.cm("Time"):o)["$==="](n))===t||r._isBoolean&&1!=r||a.$raise(null==(r=c.TypeError)?e.cm("TypeError"):r,"time + time?"),n=(null==(r=c.Opal)?e.cm("Opal"):r).$coerce_to(n,null==(r=c.Integer)?e.cm("Integer"):r,"to_int");var i=new Date(a.getTime()+1e3*n);return i.tz_offset=a.tz_offset,i},l["$-"]=function(n){var r,o,a=this;if((r=(null==(o=c.Time)?e.cm("Time"):o)["$==="](n))===t||r._isBoolean&&1!=r){n=(null==(r=c.Opal)?e.cm("Opal"):r).$coerce_to(n,null==(r=c.Integer)?e.cm("Integer"):r,"to_int");var i=new Date(a.getTime()-1e3*n);return i.tz_offset=a.tz_offset,i}return(a.getTime()-n.getTime())/1e3},l["$<=>"]=function(e){var n=this;return n.$to_f()["$<=>"](e.$to_f())},l["$=="]=function(e){var n=this;return n.$to_f()===e.$to_f()},l.$asctime=function(){var e=this;return e.$strftime("%a %b %e %H:%M:%S %Y")},e.defn(s,"$ctime",l.$asctime),l.$day=function(){var e=this;return e.getDate()},l.$yday=function(){var e=this,n=new Date(e.getFullYear(),0,1);return Math.ceil((e-n)/864e5)},l.$isdst=function(){var n,t=this;return t.$raise(null==(n=c.NotImplementedError)?e.cm("NotImplementedError"):n)},l["$eql?"]=function(n){var r,o,a=this;return r=n["$is_a?"](null==(o=c.Time)?e.cm("Time"):o),r!==!1&&r!==t?a["$<=>"](n)["$zero?"]():r},l["$friday?"]=function(){var e=this;return 5===e.getDay()},l.$hour=function(){var e=this;return e.getHours()},l.$inspect=function(){var e,n=this;return(e=n["$utc?"]())===t||e._isBoolean&&1!=e?n.$strftime("%Y-%m-%d %H:%M:%S %z"):n.$strftime("%Y-%m-%d %H:%M:%S UTC")},e.defn(s,"$mday",l.$day),l.$min=function(){var e=this;return e.getMinutes()},l.$mon=function(){var e=this;return e.getMonth()+1},l["$monday?"]=function(){var e=this;return 1===e.getDay()},e.defn(s,"$month",l.$mon),l["$saturday?"]=function(){var e=this;return 6===e.getDay()},l.$sec=function(){var e=this;return e.getSeconds()},l.$usec=function(){var e=this;return e.$warn("Microseconds are not supported"),0},l.$zone=function(){var e,n=this,t=n.toString();
return e=-1==t.indexOf("(")?t.match(/[A-Z]{3,4}/)[0]:t.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join(""),"GMT"==e&&/(GMT\W*\d{4})/.test(t)?RegExp.$1:e},l.$getgm=function(){var e=this,n=new Date(e.getTime());return n.tz_offset=0,n},l["$gmt?"]=function(){var e=this;return 0==e.tz_offset},l.$gmt_offset=function(){var e=this;return 60*-e.getTimezoneOffset()},l.$strftime=function(e){var n=this;return e.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(e,t,r,o,a){var i="",r=parseInt(r),s=-1!==t.indexOf("0"),l=-1===t.indexOf("-"),c=-1!==t.indexOf("_"),d=-1!==t.indexOf("^"),f=-1!==t.indexOf("#"),m=(t.match(":")||[]).length;switch(s&&c&&(t.indexOf("0")<t.indexOf("_")?s=!1:c=!1),a){case"Y":i+=n.getFullYear();break;case"C":s=!c,i+=Match.round(n.getFullYear()/100);break;case"y":s=!c,i+=n.getFullYear()%100;break;case"m":s=!c,i+=n.getMonth()+1;break;case"B":i+=p[n.getMonth()];break;case"b":case"h":c=!s,i+=$[n.getMonth()];break;case"d":s=!c,i+=n.getDate();break;case"e":c=!s,i+=n.getDate();break;case"j":i+=n.$yday();break;case"H":s=!c,i+=n.getHours();break;case"k":c=!s,i+=n.getHours();break;case"I":s=!c,i+=n.getHours()%12||12;break;case"l":c=!s,i+=n.getHours()%12||12;break;case"P":i+=n.getHours()>=12?"pm":"am";break;case"p":i+=n.getHours()>=12?"PM":"AM";break;case"M":s=!c,i+=n.getMinutes();break;case"S":s=!c,i+=n.getSeconds();break;case"L":s=!c,r=isNaN(r)?3:r,i+=n.getMilliseconds();break;case"N":r=isNaN(r)?9:r,i+=n.getMilliseconds().toString().$rjust(3,"0"),i=i.$ljust(r,"0");break;case"z":var h=n.getTimezoneOffset(),v=Math.floor(Math.abs(h)/60),g=Math.abs(h)%60;i+=0>h?"+":"-",i+=10>v?"0":"",i+=v,m>0&&(i+=":"),i+=10>g?"0":"",i+=g,m>1&&(i+=":00");break;case"Z":i+=n.$zone();break;case"A":i+=u[n.getDay()];break;case"a":i+=_[n.getDay()];break;case"u":i+=n.getDay()+1;break;case"w":i+=n.getDay();break;case"s":i+=parseInt(n.getTime()/1e3);break;case"n":i+="\n";break;case"t":i+="	";break;case"%":i+="%";break;case"c":i+=n.$strftime("%a %b %e %T %Y");break;case"D":case"x":i+=n.$strftime("%m/%d/%y");break;case"F":i+=n.$strftime("%Y-%m-%d");break;case"v":i+=n.$strftime("%e-%^b-%4Y");break;case"r":i+=n.$strftime("%I:%M:%S %p");break;case"R":i+=n.$strftime("%H:%M");break;case"T":case"X":i+=n.$strftime("%H:%M:%S");break;default:return e}return d&&(i=i.toUpperCase()),f&&(i=i.replace(/[A-Z]/,function(e){e.toLowerCase()}).replace(/[a-z]/,function(e){e.toUpperCase()})),l&&(s||c)&&(i=i.$rjust(isNaN(r)?2:r,c?" ":"0")),i})},l["$sunday?"]=function(){var e=this;return 0===e.getDay()},l["$thursday?"]=function(){var e=this;return 4===e.getDay()},l.$to_a=function(){var e=this;return[e.$sec(),e.$min(),e.$hour(),e.$day(),e.$month(),e.$year(),e.$wday(),e.$yday(),e.$isdst(),e.$zone()]},l.$to_f=function(){var e=this;return e.getTime()/1e3},l.$to_i=function(){var e=this;return parseInt(e.getTime()/1e3)},e.defn(s,"$to_s",l.$inspect),l["$tuesday?"]=function(){var e=this;return 2===e.getDay()},e.defn(s,"$utc?",l["$gmt?"]),l.$utc_offset=function(){var e=this;return-60*e.getTimezoneOffset()},l.$wday=function(){var e=this;return e.getDay()},l["$wednesday?"]=function(){var e=this;return 3===e.getDay()},l.$year=function(){var e=this;return e.getFullYear()},t}(n,null)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=e.slice,a=e.klass;return e.add_stubs(["$==","$[]","$upcase","$const_set","$new","$unshift","$each","$define_struct_attribute","$instance_eval","$to_proc","$raise","$<<","$members","$define_method","$instance_variable_get","$instance_variable_set","$include","$each_with_index","$class","$===","$>=","$size","$include?","$to_sym","$enum_for","$hash","$all?","$length","$map","$+","$name","$join","$inspect","$each_pair"]),function(n,$super){function i(){}var s,l,c,u,_=i=a(n,$super,"Struct",i),$=_._proto,p=_._scope;return e.defs(_,"$new",s=function(n,r){var a,l,c,u,_,$=o.call(arguments,0),d=this,f=s._p,m=f||t;return r=o.call(arguments,1),s._p=null,d["$=="](null==(a=p.Struct)?e.cm("Struct"):a)?n["$[]"](0)["$=="](n["$[]"](0).$upcase())?(null==(a=p.Struct)?e.cm("Struct"):a).$const_set(n,(a=d).$new.apply(a,[].concat(r))):(r.$unshift(n),(l=(c=null==(_=p.Class)?e.cm("Class"):_).$new,l._p=(u=function(){var e,n,o,a,i=u._s||this;return(e=(n=r).$each,e._p=(o=function(e){var n=o._s||this;return null==e&&(e=t),n.$define_struct_attribute(e)},o._s=i,o),e).call(n),m!==!1&&m!==t?(e=(a=i).$instance_eval,e._p=m.$to_proc(),e).call(a):t},u._s=d,u),l).call(c,d)):e.find_super_dispatcher(d,"new",s,f,i).apply(d,$)}),e.defs(_,"$define_struct_attribute",function(n){var r,o,a,i,s,l=this;return l["$=="](null==(r=p.Struct)?e.cm("Struct"):r)&&l.$raise(null==(r=p.ArgumentError)?e.cm("ArgumentError"):r,"you cannot define attributes to the Struct class"),l.$members()["$<<"](n),(r=(o=l).$define_method,r._p=(a=function(){var e=a._s||this;return e.$instance_variable_get("@"+n)},a._s=l,a),r).call(o,n),(r=(i=l).$define_method,r._p=(s=function(e){var r=s._s||this;return null==e&&(e=t),r.$instance_variable_set("@"+n,e)},s._s=l,s),r).call(i,""+n+"=")}),e.defs(_,"$members",function(){var n,r=this;return null==r.members&&(r.members=t),r["$=="](null==(n=p.Struct)?e.cm("Struct"):n)&&r.$raise(null==(n=p.ArgumentError)?e.cm("ArgumentError"):n,"the Struct class has no members"),(n=r.members)!==!1&&n!==t?n:r.members=[]}),e.defs(_,"$inherited",function(n){var r,o,a,i=this,s=t;return null==i.members&&(i.members=t),i["$=="](null==(r=p.Struct)?e.cm("Struct"):r)?t:(s=i.members,(r=(o=n).$instance_eval,r._p=(a=function(){var e=a._s||this;return e.members=s},a._s=i,a),r).call(o))}),function(e){return e._scope,e._proto,e._proto["$[]"]=e._proto.$new}(_.$singleton_class()),_.$include(null==(l=p.Enumerable)?e.cm("Enumerable"):l),$.$initialize=function(e){var n,r,a,i=this;return e=o.call(arguments,0),(n=(r=i.$members()).$each_with_index,n._p=(a=function(n,r){var o=a._s||this;return null==n&&(n=t),null==r&&(r=t),o.$instance_variable_set("@"+n,e["$[]"](r))},a._s=i,a),n).call(r)},$.$members=function(){var e=this;return e.$class().$members()},$["$[]"]=function(n){var r,o,a=this;return(r=(null==(o=p.Integer)?e.cm("Integer"):o)["$==="](n))===t||r._isBoolean&&1!=r?((r=a.$members()["$include?"](n.$to_sym()))===t||r._isBoolean&&1!=r)&&a.$raise(null==(r=p.NameError)?e.cm("NameError"):r,"no member '"+n+"' in struct"):(n["$>="](a.$members().$size())&&a.$raise(null==(r=p.IndexError)?e.cm("IndexError"):r,"offset "+n+" too large for struct(size:"+a.$members().$size()+")"),n=a.$members()["$[]"](n)),a.$instance_variable_get("@"+n)},$["$[]="]=function(n,r){var o,a,i=this;return(o=(null==(a=p.Integer)?e.cm("Integer"):a)["$==="](n))===t||o._isBoolean&&1!=o?((o=i.$members()["$include?"](n.$to_sym()))===t||o._isBoolean&&1!=o)&&i.$raise(null==(o=p.NameError)?e.cm("NameError"):o,"no member '"+n+"' in struct"):(n["$>="](i.$members().$size())&&i.$raise(null==(o=p.IndexError)?e.cm("IndexError"):o,"offset "+n+" too large for struct(size:"+i.$members().$size()+")"),n=i.$members()["$[]"](n)),i.$instance_variable_set("@"+n,r)},$.$each=c=function(){var n,o,a,i=this,s=c._p,l=s||t;return c._p=null,l===t?i.$enum_for("each"):((n=(o=i.$members()).$each,n._p=(a=function(n){var o,i=a._s||this;return null==n&&(n=t),o=e.$yield1(l,i["$[]"](n)),o===r?o:o},a._s=i,a),n).call(o),i)},$.$each_pair=u=function(){var n,o,a,i=this,s=u._p,l=s||t;return u._p=null,l===t?i.$enum_for("each_pair"):((n=(o=i.$members()).$each,n._p=(a=function(n){var o,i=a._s||this;return null==n&&(n=t),o=e.$yieldX(l,[n,i["$[]"](n)]),o===r?o:o},a._s=i,a),n).call(o),i)},$["$eql?"]=function(e){var n,r,o,a,i=this;return(n=i.$hash()["$=="](e.$hash()))!==!1&&n!==t?n:(r=(o=e.$each_with_index())["$all?"],r._p=(a=function(e,n){var r=a._s||this;return null==e&&(e=t),null==n&&(n=t),r["$[]"](r.$members()["$[]"](n))["$=="](e)},a._s=i,a),r).call(o)},$.$length=function(){var e=this;return e.$members().$length()},e.defn(_,"$size",$.$length),$.$to_a=function(){var e,n,r,o=this;return(e=(n=o.$members()).$map,e._p=(r=function(e){var n=r._s||this;return null==e&&(e=t),n["$[]"](e)},r._s=o,r),e).call(n)},e.defn(_,"$values",$.$to_a),$.$inspect=function(){var n,r,o,a=this,i=t;return i="#<struct ",a.$class()["$=="](null==(n=p.Struct)?e.cm("Struct"):n)&&(i=i["$+"](""+a.$class().$name()+" ")),i=i["$+"]((n=(r=a.$each_pair()).$map,n._p=(o=function(e,n){return o._s||this,null==e&&(e=t),null==n&&(n=t),""+e+"="+n.$inspect()},o._s=a,o),n).call(r).$join(", ")),i=i["$+"](">")},e.defn(_,"$to_s",$.$inspect)}(n,null)}(Opal),function(e){var n,t=e.top,r=e,o=e.nil,a=(e.breaker,e.slice),i=e.klass,s=e.module,l=e.gvars;return e.add_stubs(["$write","$join","$map","$String","$getbyte","$getc","$raise","$new","$puts","$to_s"]),function(n,$super){function t(){}var r=t=i(n,$super,"IO",t),c=(r._proto,r._scope);return e.cdecl(c,"SEEK_SET",0),e.cdecl(c,"SEEK_CUR",1),e.cdecl(c,"SEEK_END",2),function(n){var t=s(n,"Writable"),r=t._proto;t._scope,r["$<<"]=function(e){var n=this;return n.$write(e),n},r.$print=function(e){var n,t,r,i=this;return e=a.call(arguments,0),i.$write((n=(t=e).$map,n._p=(r=function(e){var n=r._s||this;return null==e&&(e=o),n.$String(e)},r._s=i,r),n).call(t).$join(l[","]))},r.$puts=function(e){var n,t,r,i=this;return e=a.call(arguments,0),i.$write((n=(t=e).$map,n._p=(r=function(e){var n=r._s||this;return null==e&&(e=o),n.$String(e)},r._s=i,r),n).call(t).$join(l["/"]))},e.donate(t,["$<<","$print","$puts"])}(r),function(n){var t=s(n,"Readable"),r=t._proto,a=t._scope;r.$readbyte=function(){var e=this;return e.$getbyte()},r.$readchar=function(){var e=this;return e.$getc()},r.$readline=function(n){var t,r=this;return null==n&&(n=l["/"]),r.$raise(null==(t=a.NotImplementedError)?e.cm("NotImplementedError"):t)},r.$readpartial=function(n,t){var r,i=this;return null==t&&(t=o),i.$raise(null==(r=a.NotImplementedError)?e.cm("NotImplementedError"):r)},e.donate(t,["$readbyte","$readchar","$readline","$readpartial"])}(r)}(t,null),e.cdecl(r,"STDERR",l.stderr=(null==(n=r.IO)?e.cm("IO"):n).$new()),e.cdecl(r,"STDIN",l.stdin=(null==(n=r.IO)?e.cm("IO"):n).$new()),e.cdecl(r,"STDOUT",l.stdout=(null==(n=r.IO)?e.cm("IO"):n).$new()),e.defs(l.stdout,"$puts",function(e){var n,t=this;e=a.call(arguments,0);for(var r=0;r<e.length;r++)e[r]instanceof Array?(n=t).$puts.apply(n,[].concat(e[r])):console.log(e[r].$to_s());return o}),e.defs(l.stderr,"$puts",function(e){var n,t=this;e=a.call(arguments,0);for(var r=0;r<e.length;r++)e[r]instanceof Array?(n=t).$puts.apply(n,[].concat(e[r])):console.warn(e[r].$to_s());return o}),o}(Opal),function(e){var n=e.top,t=e,r=e.nil;return e.breaker,e.slice,e.add_stubs(["$include"]),e.defs(n,"$to_s",function(){return"main"}),e.defs(n,"$include",function(n){var r;return(null==(r=t.Object)?e.cm("Object"):r).$include(n)}),r}(Opal),function(e){var n,t=(e.top,e),r=e.nil,o=(e.breaker,e.slice,e.gvars),a=e.hash2;return e.add_stubs(["$new"]),o["&"]=o["~"]=o["`"]=o["'"]=r,o[":"]=[],o['"']=[],o["/"]="\n",o[","]=" ",e.cdecl(t,"ARGV",[]),e.cdecl(t,"ARGF",(null==(n=t.Object)?e.cm("Object"):n).$new()),e.cdecl(t,"ENV",a([],{})),o.VERBOSE=!1,o.DEBUG=!1,o.SAFE=0,e.cdecl(t,"RUBY_PLATFORM","opal"),e.cdecl(t,"RUBY_ENGINE","opal"),e.cdecl(t,"RUBY_VERSION","2.0.0"),e.cdecl(t,"RUBY_ENGINE_VERSION","0.6.0"),e.cdecl(t,"RUBY_RELEASE_DATE","2013-11-20")}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.klass);return e.add_stubs([]),function(n,$super){function o(){}var a=o=r(n,$super,"File",o),i=(a._proto,a._scope);return e.cdecl(i,"SEPARATOR","/"),e.defs(a,"$expand_path",function(e){return e}),t}(n,null)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.klass);return e.add_stubs([]),function(n,$super){function o(){}var a=o=r(n,$super,"Dir",o);return a._proto,a._scope,e.defs(a,"$getwd",function(){return"."}),t}(n,null)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.klass),o=e.hash2;return e.add_stubs(["$new","$[]","$[]="]),function(n,$super){function a(){}var i=a=r(n,$super,"Thread",a),s=i._proto;return i._scope,s.vars=t,e.defs(i,"$current",function(){var e,n=this;return null==n.current&&(n.current=t),(e=n.current)!==!1&&e!==t?e:n.current=n.$new()}),s.$initialize=function(){var e=this;return e.vars=o([],{})},s["$[]"]=function(e){var n=this;return n.vars["$[]"](e)},s["$[]="]=function(e,n){var t=this;return t.vars["$[]="](e,n)},t}(n,null),function(e,$super){function n(){}var o=n=r(e,$super,"Queue",n);return o._proto,o._scope,t}(n,null)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.klass,a=e.module;return e.add_stubs(["$include","$new","$nil?","$do_with_enum","$add","$[]","$merge","$equal?","$instance_of?","$class","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$enum_for","$each_key","$to_proc","$empty?","$clear","$each","$keys"]),function(n,$super){function a(){}var i,s,l,c,u=a=o(n,$super,"Set",a),_=u._proto,$=u._scope;return _.hash=t,u.$include(null==(i=$.Enumerable)?e.cm("Enumerable"):i),e.defs(u,"$[]",function(e){var n=this;return e=r.call(arguments,0),n.$new(e)}),_.$initialize=s=function(n){var r,o,a,i=this,l=s._p,c=l||t;return null==n&&(n=t),s._p=null,i.hash=(null==(r=$.Hash)?e.cm("Hash"):r).$new(),(r=n["$nil?"]())===t||r._isBoolean&&1!=r?c!==!1&&c!==t?(r=(o=i).$do_with_enum,r._p=(a=function(e){var n=a._s||this;return null==e&&(e=t),n.$add(c["$[]"](e))},a._s=i,a),r).call(o,n):i.$merge(n):t},_["$=="]=function(n){var r,o,a,i,s=this;return(r=s["$equal?"](n))===t||r._isBoolean&&1!=r?(r=n["$instance_of?"](s.$class()))===t||r._isBoolean&&1!=r?(o=n["$is_a?"](null==(a=$.Set)?e.cm("Set"):a),(r=o!==!1&&o!==t?s.$size()["$=="](n.$size()):o)===t||r._isBoolean&&1!=r?!1:(r=(o=n)["$all?"],r._p=(i=function(e){var n=i._s||this;return null==n.hash&&(n.hash=t),null==e&&(e=t),n.hash["$include?"](e)},i._s=s,i),r).call(o)):s.hash["$=="](n.$instance_variable_get("@hash")):!0},_.$add=function(e){var n=this;return n.hash["$[]="](e,!0),n},e.defn(u,"$<<",_.$add),_["$add?"]=function(e){var n,r=this;return(n=r["$include?"](e))===t||n._isBoolean&&1!=n?r.$add(e):t},_.$each=l=function(){var e,n,r=this,o=l._p,a=o||t;return l._p=null,a===t?r.$enum_for("each"):((e=(n=r.hash).$each_key,e._p=a.$to_proc(),e).call(n),r)},_["$empty?"]=function(){var e=this;return e.hash["$empty?"]()},_.$clear=function(){var e=this;return e.hash.$clear(),e},_["$include?"]=function(e){var n=this;return n.hash["$include?"](e)},e.defn(u,"$member?",_["$include?"]),_.$merge=function(e){var n,r,o,a=this;return(n=(r=a).$do_with_enum,n._p=(o=function(e){var n=o._s||this;return null==e&&(e=t),n.$add(e)},o._s=a,o),n).call(r,e),a},_.$do_with_enum=c=function(e){var n,r,o=c._p,a=o||t;return c._p=null,(n=(r=e).$each,n._p=a.$to_proc(),n).call(r)},_.$size=function(){var e=this;return e.hash.$size()},e.defn(u,"$length",_.$size),_.$to_a=function(){var e=this;return e.hash.$keys()},t}(n,null),function(n){var o,i=a(n,"Enumerable"),s=i._proto,l=i._scope;s.$to_set=o=function(n,a){var i,s,c=this,u=o._p,_=u||t;return a=r.call(arguments,1),null==n&&(n=null==(i=l.Set)?e.cm("Set"):i),o._p=null,(i=(s=n).$new,i._p=_.$to_proc(),i).apply(s,[c].concat(a))},e.donate(i,["$to_set"])}(n)}(Opal),function(e){var n=e.top,t=e,r=e.nil,o=(e.breaker,e.slice,e.module),a=e.hash2;return e.add_stubs(["$split","$[]"]),function(n){var t,i=o(n,"RbConfig"),s=(i._proto,i._scope),l=r;l=(null==(t=s.RUBY_VERSION)?e.cm("RUBY_VERSION"):t).$split("."),e.cdecl(s,"CONFIG",a(["ruby_version","MAJOR","MINOR","TEENY","RUBY","RUBY_INSTALL_NAME","RUBY_SO_NAME","target_os","host_os","PATH_SEPARATOR"],{ruby_version:null==(t=s.RUBY_VERSION)?e.cm("RUBY_VERSION"):t,MAJOR:l["$[]"](0),MINOR:l["$[]"](1),TEENY:l["$[]"](2),RUBY:null==(t=s.RUBY_ENGINE)?e.cm("RUBY_ENGINE"):t,RUBY_INSTALL_NAME:null==(t=s.RUBY_ENGINE)?e.cm("RUBY_ENGINE"):t,RUBY_SO_NAME:null==(t=s.RUBY_ENGINE)?e.cm("RUBY_ENGINE"):t,target_os:"ECMA-262",host_os:"ECMA-262",PATH_SEPARATOR:":"}))}(n),e.cdecl(t,"RUBY_NAME","opal"),e.cdecl(t,"RUBY_EXE","opal"),e.cdecl(t,"RUBY_PATCHLEVEL","327")}(Opal),function(e){var n=e.top,t=(e.nil,e.breaker,e.slice,e.module);return e.add_stubs([]),function(n){var r=t(n,"RSpec");r._proto,r._scope,function(n){var r=t(n,"Support");r._proto,r._scope,function(n){var r=t(n,"Version"),o=(r._proto,r._scope);e.cdecl(o,"STRING","3.0.0.beta1")}(r)}(r)}(n)}(Opal),function(e){var n=e.top,t=(e.nil,e.breaker,e.slice,e.module);return e.add_stubs([]),function(e){var n=t(e,"RSpec");n._proto,n._scope,function(e){var n=t(e,"Support");n._proto,n._scope}(n)}(n)}(Opal),function(e){var n=e.top,t=(e.nil,e.breaker,e.slice,e.module);return e.add_stubs([]),function(n){var r=t(n,"RSpec");r._proto,r._scope,function(n){var r=t(n,"Core");r._proto,r._scope,function(n){var r=t(n,"Version"),o=(r._proto,r._scope);e.cdecl(o,"STRING","3.0.0.beta1")}(r)}(r)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$join","$+","$>=","$!","$caller","$raise","$find","$=~","$*"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n,$super){function r(){}var a,i=r=o(n,$super,"CallerFilter",r),s=(i._proto,i._scope);return e.cdecl(s,"RSPEC_LIBS",["core","mocks","expectations","support","matchers","rails"]),e.cdecl(s,"ADDITIONAL_TOP_LEVEL_FILES",["autorun"]),e.cdecl(s,"LIB_REGEX",new RegExp("/lib/rspec/("+(null==(a=s.RSPEC_LIBS)?e.cm("RSPEC_LIBS"):a)["$+"](null==(a=s.ADDITIONAL_TOP_LEVEL_FILES)?e.cm("ADDITIONAL_TOP_LEVEL_FILES"):a).$join("|")+")(\\.rb|/)")),(null==(a=s.RUBY_VERSION)?e.cm("RUBY_VERSION"):a)["$>="]("2.0.0")?(e.defs(i,"$first_non_rspec_line",function(){var n,r,o,a=this,i=t,l=t,c=t,u=t;for(i=5,l=1,c=t;(n=c["$!"]())!==t&&(!n._isBoolean||1==n);)u=a.$caller(l,i),u!==!1&&u!==t||a.$raise("No non-lib lines in stack"),c=(n=(r=u).$find,n._p=(o=function(n){var r,a;return o._s||this,null==n&&(n=t),r=n["$=~"](null==(a=s.LIB_REGEX)?e.cm("LIB_REGEX"):a),r===t||r===!1},o._s=a,o),n).call(r),l=l["$+"](i),i=i["$*"](2);return c}),t):(e.defs(i,"$first_non_rspec_line",function(){var n,r,o,a=this;return(n=(r=a.$caller()).$find,n._p=(o=function(n){var r,a;return o._s||this,null==n&&(n=t),r=n["$=~"](null==(a=s.LIB_REGEX)?e.cm("LIB_REGEX"):a),r===t||r===!1},o._s=a,o),n).call(r)}),t)}(a,null)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=(e.slice,e.module);return e.add_stubs(["$respond_to?","$flat_map","$flatten","$map","$module_function"]),function(n){var a=o(n,"RSpec");a._proto,a._scope,function(n){var a=o(n,"Core");a._proto,a._scope,function(n){var a,i,s,l=o(n,"FlatMap"),c=l._proto;l._scope,c.$flat_map=(a=[]["$respond_to?"]("flat_map"))===t||a._isBoolean&&1!=a?s=function(n){var o,a,i,l=this,c=s._p,u=c||t;return s._p=null,(o=(a=n).$map,o._p=(i=function(n){var o;return i._s||this,null==n&&(n=t),o=e.$yield1(u,n),o===r?o:o},i._s=l,i),o).call(a).$flatten()}:i=function(n){var o,a,s,l=this,c=i._p,u=c||t;return i._p=null,(o=(a=n).$flat_map,o._p=(s=function(n){var o;return s._s||this,null==n&&(n=t),o=e.$yield1(u,n),o===r?o:o},s._s=l,s),o).call(a)},l.$module_function("flat_map"),e.donate(l,["$flat_map","$flat_map"])}(a)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=e.slice,a=e.module,i=e.klass,s=e.hash2;return e.add_stubs(["$expand_path","$gsub","$inspect","$inspect_filter_hash","$lambda","$!","$each","$store","$without_conditional_filters","$empty?","$private","$reject","$==","$[]","$_warn_deprecated_keys","$last","$has_key?","$_warn_deprecated_key","$deprecate","$[]=","$delete","$attr_reader","$new","$extend","$push","$replace","$clear","$inclusions","$empty_without_conditional_filters?","$exclusions","$select","$exclude?","$include?","$merge","$reverse_merge","$any_apply?","$unless_standalone","$already_set_standalone_filter?","$is_standalone_filter?","$each_key","$merge!","$each_pair","$any?"]),function(n){var l=a(n,"RSpec");l._proto,l._scope,function(n){var l=a(n,"Core");l._proto,l._scope,function(n,$super){function l(){}var c,u,_=l=i(n,$super,"FilterManager",l),$=_._proto,p=_._scope;return $.inclusions=$.exclusions=t,e.cdecl(p,"STANDALONE_FILTERS",["locations","line_numbers","full_description"]),e.cdecl(p,"PROC_HEX_NUMBER",/0x[0-9a-f]+@/),e.cdecl(p,"PROJECT_DIR",(null==(c=p.File)?e.cm("File"):c).$expand_path(".")),e.defs(_,"$inspect_filter_hash",function(n){var t;return n.$inspect().$gsub(null==(t=p.PROC_HEX_NUMBER)?e.cm("PROC_HEX_NUMBER"):t,"").$gsub(null==(t=p.PROJECT_DIR)?e.cm("PROJECT_DIR"):t,".").$gsub(" (lambda)","")}),function(n,$super){function r(){}var o=r=i(n,$super,"InclusionFilterHash",r),a=o._proto,s=o._scope;return a.$description=function(){var n,t=this;return(null==(n=s.FilterManager)?e.cm("FilterManager"):n).$inspect_filter_hash(t)},t}(_,null==(c=p.Hash)?e.cm("Hash"):c),function(n,$super){function r(){}var a,l,c,u,_,$,p=r=i(n,$super,"ExclusionFilterHash",r),d=p._proto,f=p._scope;return e.cdecl(f,"CONDITIONAL_FILTERS",s(["if","unless"],{"if":(a=(l=p).$lambda,a._p=(c=function(e){return c._s||this,null==e&&(e=t),e["$!"]()},c._s=p,c),a).call(l),unless:(a=(u=p).$lambda,a._p=(_=function(e){return _._s||this,null==e&&(e=t),e},_._s=p,_),a).call(u)})),d.$initialize=$=function(){var n,r,a,i,s=o.call(arguments,0),l=this,c=$._p;return $._p=null,e.find_super_dispatcher(l,"initialize",$,c).apply(l,s),(n=(r=null==(i=f.CONDITIONAL_FILTERS)?e.cm("CONDITIONAL_FILTERS"):i).$each,n._p=(a=function(e,n){var r=a._s||this;return null==e&&(e=t),null==n&&(n=t),r.$store(e,n)},a._s=l,a),n).call(r)},d.$description=function(){var n,t=this;return(null==(n=f.FilterManager)?e.cm("FilterManager"):n).$inspect_filter_hash(t.$without_conditional_filters())},d["$empty_without_conditional_filters?"]=function(){var e=this;return e.$without_conditional_filters()["$empty?"]()},p.$private(),d.$without_conditional_filters=function(){var n,r,o,a=this;return(n=(r=a).$reject,n._p=(o=function(n,r){var a;return o._s||this,null==n&&(n=t),null==r&&(r=t),(null==(a=f.CONDITIONAL_FILTERS)?e.cm("CONDITIONAL_FILTERS"):a)["$[]"](n)["$=="](r)},o._s=a,o),n).call(r)},t}(_,null==(c=p.Hash)?e.cm("Hash"):c),function(n){var r,i,s=a(n,"BackwardCompatibility"),l=s._proto,c=s._scope;l.$merge=r=function(n,t,a){var i=o.call(arguments,0),s=this,l=r._p;return a=o.call(arguments,2),r._p=null,s.$_warn_deprecated_keys(a.$last()),e.find_super_dispatcher(s,"merge",r,l).apply(s,i)},l.$reverse_merge=i=function(n,t,r){var a=o.call(arguments,0),s=this,l=i._p;return r=o.call(arguments,2),i._p=null,s.$_warn_deprecated_keys(r.$last()),e.find_super_dispatcher(s,"reverse_merge",i,l).apply(s,a)},l.$_warn_deprecated_keys=function(e){var n,r=this;return(n=e["$has_key?"]("unless"))===t||n._isBoolean&&1!=n||r.$_warn_deprecated_key("unless",e),(n=e["$has_key?"]("if"))===t||n._isBoolean&&1!=n?t:r.$_warn_deprecated_key("if",e)},l.$_warn_deprecated_key=function(n,r){var o,a=this;return null==a.exclusions&&(a.exclusions=t),(null==(o=c.RSpec)?e.cm("RSpec"):o).$deprecate("FilterManager#exclude("+n.$inspect()+" => "+r["$[]"](n).$inspect()+")"),a.exclusions["$[]="](n,r.$delete(n))},e.donate(s,["$merge","$reverse_merge","$_warn_deprecated_keys","$_warn_deprecated_key"])}(_),_.$attr_reader("exclusions","inclusions"),$.$initialize=function(){var n,t=this;return t.exclusions=(null==(n=p.ExclusionFilterHash)?e.cm("ExclusionFilterHash"):n).$new(),t.inclusions=(null==(n=p.InclusionFilterHash)?e.cm("InclusionFilterHash"):n).$new(),t.$extend(null==(n=p.BackwardCompatibility)?e.cm("BackwardCompatibility"):n)},$.$add_location=function(n,r){var o,a,i,l,c,u=this,_=t;return _=(o=u.inclusions.$delete("locations"))!==!1&&o!==t?o:(a=(i=null==(c=p.Hash)?e.cm("Hash"):c).$new,a._p=(l=function(e,n){return l._s||this,null==e&&(e=t),null==n&&(n=t),e["$[]="](n,[])},l._s=u,l),a).call(i),(o=_["$[]"]((null==(a=p.File)?e.cm("File"):a).$expand_path(n))).$push.apply(o,[].concat(r)),u.inclusions.$replace(s(["locations"],{locations:_})),u.exclusions.$clear()},$["$empty?"]=function(){var e,n=this;return e=n.$inclusions()["$empty?"](),e!==!1&&e!==t?n.$exclusions()["$empty_without_conditional_filters?"]():e},$.$prune=function(e){var n,r,o,a=this;return(n=(r=e).$select,n._p=(o=function(e){var n,r=o._s||this;return null==e&&(e=t),n=r["$exclude?"](e)["$!"](),n!==!1&&n!==t?r["$include?"](e):n},o._s=a,o),n).call(r)},$.$exclude=function(e){var n,t=this;return e=o.call(arguments,0),(n=t).$merge.apply(n,[t.exclusions,t.inclusions].concat(e))},$["$exclude!"]=function(e){var n,t=this;return e=o.call(arguments,0),(n=t).$replace.apply(n,[t.exclusions,t.inclusions].concat(e))},$.$exclude_with_low_priority=function(e){var n,t=this;return e=o.call(arguments,0),(n=t).$reverse_merge.apply(n,[t.exclusions,t.inclusions].concat(e))},$["$exclude?"]=function(e){var n,r=this;return(n=r.exclusions["$empty?"]())===t||n._isBoolean&&1!=n?e["$any_apply?"](r.exclusions):!1},$.$include=function(e){var n,r,a,i=this;return e=o.call(arguments,0),(n=(r=i).$unless_standalone,n._p=(a=function(){var n,r=a._s||this;return null==r.inclusions&&(r.inclusions=t),null==r.exclusions&&(r.exclusions=t),(n=r).$merge.apply(n,[r.inclusions,r.exclusions].concat(e))},a._s=i,a),n).apply(r,[].concat(e))},$["$include!"]=function(e){var n,r,a,i=this;return e=o.call(arguments,0),(n=(r=i).$unless_standalone,n._p=(a=function(){var n,r=a._s||this;return null==r.inclusions&&(r.inclusions=t),null==r.exclusions&&(r.exclusions=t),(n=r).$replace.apply(n,[r.inclusions,r.exclusions].concat(e))},a._s=i,a),n).apply(r,[].concat(e))},$.$include_with_low_priority=function(e){var n,r,a,i=this;return e=o.call(arguments,0),(n=(r=i).$unless_standalone,n._p=(a=function(){var n,r=a._s||this;return null==r.inclusions&&(r.inclusions=t),null==r.exclusions&&(r.exclusions=t),(n=r).$reverse_merge.apply(n,[r.inclusions,r.exclusions].concat(e))},a._s=i,a),n).apply(r,[].concat(e))},$["$include?"]=function(e){var n,r=this;return(n=r.inclusions["$empty?"]())===t||n._isBoolean&&1!=n?e["$any_apply?"](r.inclusions):!0},_.$private(),$.$unless_standalone=u=function(n){var a,i=this,s=u._p,l=s||t;return n=o.call(arguments,0),u._p=null,(a=i["$already_set_standalone_filter?"]())===t||a._isBoolean&&1!=a?(a=i["$is_standalone_filter?"](n.$last()))===t||a._isBoolean&&1!=a?(a=e.$yieldX(l,[]),a===r?a:a):i.inclusions.$replace(n.$last()):t},$.$merge=function(e,n,r){var a,i,s,l=this;return r=o.call(arguments,2),(a=(i=e["$merge!"](r.$last())).$each_key,a._p=(s=function(e){return s._s||this,null==e&&(e=t),n.$delete(e)},s._s=l,s),a).call(i)},$.$replace=function(e,n,r){var a,i,s,l=this;return r=o.call(arguments,2),(a=(i=r.$last()).$each_key,a._p=(s=function(e){return s._s||this,null==e&&(e=t),n.$delete(e)},s._s=l,s),a).call(i),e.$replace(r.$last())},$.$reverse_merge=function(e,n,r){var a,i,s,l=this,c=t;return r=o.call(arguments,2),c=r.$last().$merge(e),(a=(i=n).$each_pair,a._p=(s=function(e,n){return s._s||this,null==e&&(e=t),null==n&&(n=t),c["$[]"](e)["$=="](n)?c.$delete(e):t},s._s=l,s),a).call(i),e.$replace(c)},$["$already_set_standalone_filter?"]=function(){var e=this;return e["$is_standalone_filter?"](e.$inclusions())},$["$is_standalone_filter?"]=function(n){var r,o,a,i,s=this;return(r=(o=null==(i=p.STANDALONE_FILTERS)?e.cm("STANDALONE_FILTERS"):i)["$any?"],r._p=(a=function(e){return a._s||this,null==e&&(e=t),n["$has_key?"](e)},a._s=s,a),r).call(o)},t}(l,null)}(l)}(n)}(Opal),function(e){var n,t,r,o=e.top,a=e,i=e.nil,s=(e.breaker,e.slice),l=e.module;return e.add_stubs(["$register","$describe","$to_proc","$extend","$send"]),function(n){var t=l(n,"RSpec");t._proto,t._scope,function(n){var t=l(n,"Core");t._proto,t._scope,function(n){var t,r=l(n,"DSL"),o=r._proto,a=r._scope;o.$describe=t=function(n){var r,o,l,c,u,_=t._p,$=_||i;return n=s.call(arguments,0),t._p=null,(r=(o=null==(l=(null==(c=(null==(u=a.RSpec)?e.cm("RSpec"):u)._scope).Core?c.cm("Core"):c.Core)._scope).ExampleGroup?l.cm("ExampleGroup"):l.ExampleGroup).$describe,r._p=$.$to_proc(),r).apply(o,[].concat(n)).$register()},e.donate(r,["$describe"])}(t)}(t)}(o),o.$extend(null==(n=(null==(t=(null==(r=a.RSpec)?e.cm("RSpec"):r)._scope).Core?t.cm("Core"):t.Core)._scope).DSL?n.cm("DSL"):n.DSL),(null==(n=a.Module)?e.cm("Module"):n).$send("include",null==(n=(null==(t=(null==(r=a.RSpec)?e.cm("RSpec"):r)._scope).Core?t.cm("Core"):t.Core)._scope).DSL?n.cm("DSL"):n.DSL)}(Opal),function(e){var n=e.top,t=(e.nil,e.breaker,e.slice,e.module),r=e.hash2;return e.add_stubs(["$deprecation","$reporter","$configuration","$merge","$first_non_rspec_line"]),function(n){var o=t(n,"RSpec"),a=(o._proto,o._scope);e.defs(o,"$deprecate",function(n,t){var o;return null==t&&(t=r([],{})),(null==(o=a.RSpec)?e.cm("RSpec"):o).$configuration().$reporter().$deprecation(r(["deprecated","call_site"],{deprecated:n,call_site:(null==(o=a.CallerFilter)?e.cm("CallerFilter"):o).$first_non_rspec_line()}).$merge(t))}),e.defs(o,"$warn_deprecation",function(n){var t;return(null==(t=a.RSpec)?e.cm("RSpec"):t).$configuration().$reporter().$deprecation(r(["message"],{message:n}))})}(n)}(Opal),function(e){var n,t=(e.top,e),r=e.nil,o=e.breaker,a=e.slice,i=e.module,s=e.klass;return e.add_stubs(["$map","$to_proc","$new","$[]=","$each","$register_listener","$respond_to?","$<<","$[]","$to_sym","$start","$finish","$now","$notify","$empty?","$descendant_filtered_examples","$+","$stop","$seed_used?","$seed","$alias_method","$to_f","$-","$send","$registered_listeners","$private"]),function(n){var t=i(n,"Core");t._proto,t._scope,function(n,$super){function t(){}var i,l,c,u,_=t=s(n,$super,"Reporter",t),$=_._proto,p=_._scope;return $.listeners=$.example_count=$.failure_count=$.pending_count=$.duration=$.configuration=$.start=r,e.cdecl(p,"NOTIFICATIONS",(i=(l=["start","message","example_group_started","example_group_finished","example_started","example_passed","example_failed","example_pending","start_dump","dump_pending","dump_failures","dump_summary","seed","close","stop","deprecation","deprecation_summary"]).$map,i._p="to_sym".$to_proc(),i).call(l)),$.$initialize=function(n,t){var o,i,s,l,c,u=this;return t=a.call(arguments,1),u.configuration=n,u.listeners=(o=(i=null==(l=p.Hash)?e.cm("Hash"):l).$new,o._p=(s=function(e,n){return s._s||this,null==e&&(e=r),null==n&&(n=r),e["$[]="](n,[])},s._s=u,s),o).call(i),(o=(l=t).$each,o._p=(c=function(n){var t,o,a=c._s||this;return null==n&&(n=r),(t=a).$register_listener.apply(t,[n].concat(null==(o=p.NOTIFICATIONS)?e.cm("NOTIFICATIONS"):o))},c._s=u,c),o).call(l),u.example_count=u.failure_count=u.pending_count=0,u.duration=u.start=r},$.$register_listener=function(e,n){var t,o,i,s=this;return n=a.call(arguments,1),(t=(o=n).$each,t._p=(i=function(n){var t,o=i._s||this;return null==o.listeners&&(o.listeners=r),null==n&&(n=r),(t=e["$respond_to?"](n))===r||t._isBoolean&&1!=t?r:o.listeners["$[]"](n.$to_sym())["$<<"](e)},i._s=s,i),t).call(o),!0},$.$registered_listeners=function(e){var n=this;return n.listeners["$[]"](e)},$.$report=c=function(n){var t,a=this,i=c._p,s=i||r;c._p=null,a.$start(n);try{return t=e.$yield1(s,a),t===o?t:t}finally{a.$finish()}},$.$start=function(n){var t,r,o,a=this;return a.start=(null==(t=(null==(r=(null==(o=p.RSpec)?e.cm("RSpec"):o)._scope).Core?r.cm("Core"):r.Core)._scope).Time?t.cm("Time"):t.Time).$now(),a.$notify("start",n)},$.$message=function(e){var n=this;return n.$notify("message",e)},$.$example_group_started=function(e){var n,t=this;return(n=e.$descendant_filtered_examples()["$empty?"]())===r||n._isBoolean&&1!=n?t.$notify("example_group_started",e):r},$.$example_group_finished=function(e){var n,t=this;return(n=e.$descendant_filtered_examples()["$empty?"]())===r||n._isBoolean&&1!=n?t.$notify("example_group_finished",e):r},$.$example_started=function(e){var n=this;return n.example_count=n.example_count["$+"](1),n.$notify("example_started",e)},$.$example_passed=function(e){var n=this;return n.$notify("example_passed",e)},$.$example_failed=function(e){var n=this;return n.failure_count=n.failure_count["$+"](1),n.$notify("example_failed",e)},$.$example_pending=function(e){var n=this;return n.pending_count=n.pending_count["$+"](1),n.$notify("example_pending",e)},$.$deprecation=function(e){var n=this;return n.$notify("deprecation",e)},$.$finish=function(){var e,n=this;try{return n.$stop(),n.$notify("start_dump"),n.$notify("dump_pending"),n.$notify("dump_failures"),n.$notify("dump_summary",n.duration,n.example_count,n.failure_count,n.pending_count),n.$notify("deprecation_summary"),(e=n["$seed_used?"]())===r||e._isBoolean&&1!=e?r:n.$notify("seed",n.configuration.$seed())}finally{n.$notify("close")}},_.$alias_method("abort","finish"),$.$stop=function(){var n,t,o,a=this;return(n=a.start)===r||n._isBoolean&&1!=n||(a.duration=(null==(n=(null==(t=(null==(o=p.RSpec)?e.cm("RSpec"):o)._scope).Core?t.cm("Core"):t.Core)._scope).Time?n.cm("Time"):n.Time).$now()["$-"](a.start).$to_f()),a.$notify("stop")},$.$notify=u=function(e,n){var t,o,i,s=this,l=u._p,c=l||r;return n=a.call(arguments,1),u._p=null,(t=(o=s.$registered_listeners(e)).$each,t._p=(i=function(t){var o,a;return i._s||this,null==t&&(t=r),(o=(a=t).$send,o._p=c.$to_proc(),o).apply(a,[e].concat(n))},i._s=s,i),t).call(o)},_.$private(),$["$seed_used?"]=function(){var e,n=this;return e=n.configuration.$seed(),e!==!1&&e!==r?n.configuration["$seed_used?"]():e
},r}(t,null)}(null==(n=t.RSpec)?e.cm("RSpec"):n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass,i=e.hash2;return e.add_stubs(["$attr_reader","$all_apply?","$options","$instance_exec","$to_proc","$block","$instance_exec_with_rescue","$===","$message","$reporter","$configuration","$class","$first","$backtrace","$each","$define_method","$__send__","$hooks","$public_instance_methods","$protected","$with","$new","$select","$options_apply?","$run","$call","$reduce","$wrap","$empty?","$shift","$[]","$process","$private","$==","$any?","$include?","$parent_groups","$<<","$register_hook","$alias_method","$dry_run?","$find_hook","$for","$flat_map","$[]=","$reverse","$scope_and_options_from","$send","$before_all_hooks_for","$after_all_hooks_for","$around_each_hooks_for","$before_each_hooks_for","$after_each_hooks_for","$extract_scope_from","$build_hash_from","$is_a?","$raise"]),function(n){var s=o(n,"RSpec");s._proto,s._scope,function(n){var s=o(n,"Core");s._proto,s._scope,function(n){var s,l,c,u,_,$,p,d,f,m,h,v,g,b,x=o(n,"Hooks"),y=x._proto,k=x._scope;!function(e,$super){function n(){}var r=n=a(e,$super,"Hook",n),o=r._proto;return r._scope,r.$attr_reader("block","options"),o.$initialize=function(e,n){var t=this;return t.block=e,t.options=n},o["$options_apply?"]=function(e){var n=this;return e["$all_apply?"](n.$options())},t}(x,null),function(e,$super){function n(){}var r=n=a(e,$super,"BeforeHook",n),o=r._proto;return r._scope,o.$run=function(e){var n,t,r=this;return(n=(t=e).$instance_exec,n._p=r.$block().$to_proc(),n).call(t,e)},o.$display_name=function(){return"before hook"},t}(x,null==(s=k.Hook)?e.cm("Hook"):s),function(e,$super){function n(){}var r=n=a(e,$super,"AfterHook",n),o=r._proto;return r._scope,o.$run=function(e){var n,t,r=this;return(n=(t=e).$instance_exec_with_rescue,n._p=r.$block().$to_proc(),n).call(t,"in an after hook")},o.$display_name=function(){return"after hook"},t}(x,null==(s=k.Hook)?e.cm("Hook"):s),function(n,$super){function r(){}var o=r=a(n,$super,"AfterAllHook",r),i=o._proto,s=o._scope;return i.$run=function(n){var r,o,a=this,i=t;try{return(r=(o=n).$instance_exec,r._p=a.$block().$to_proc(),r).call(o,n)}catch(l){if((null==(r=s.Exception)?e.cm("Exception"):r)["$==="](l))return i=l,(null==(r=s.RSpec)?e.cm("RSpec"):r).$configuration().$reporter().$message("\nAn error occurred in an after(:all) hook.\n  "+i.$class()+": "+i.$message()+"\n  occurred at "+i.$backtrace().$first()+"\n\n");throw l}},i.$display_name=function(){return"after(:all) hook"},t}(x,null==(s=k.Hook)?e.cm("Hook"):s),function(e,$super){function n(){}var r=n=a(e,$super,"AroundHook",n),o=r._proto;return r._scope,o.$display_name=function(){return"around hook"},t}(x,null==(s=k.Hook)?e.cm("Hook"):s),function(n,$super){function o(){}var i,s,l,c,u=o=a(n,$super,"BaseHookCollection",o),_=u._proto,$=u._scope;return(i=(s=(null==(c=$.Array)?e.cm("Array"):c).$public_instance_methods(!1)).$each,i._p=(l=function(e){var n,o,a,i=l._s||this;return null==e&&(e=t),(n=(o=i).$define_method,n._p=(a=function(n){var o,i,s,l=a._s||this;return n=r.call(arguments,0),o=a._p||t,a._p=null,(i=(s=l.$hooks()).$__send__,i._p=o.$to_proc(),i).apply(s,[e].concat(n))},a._s=i,a),n).call(o,e)},l._s=u,l),i).call(s),u.$attr_reader("hooks"),u.$protected("hooks"),e.defn(u,"$append",_.$push),e.defn(u,"$prepend",_.$unshift),_.$initialize=function(e){var n=this;return null==e&&(e=[]),n.hooks=e},t}(x,null),function(e,$super){function n(){}var r=n=a(e,$super,"HookCollection",n),o=r._proto;return r._scope,o.$for=function(e){var n,r,o,a=this;return a.$class().$new((n=(r=a.$hooks()).$select,n._p=(o=function(n){return o._s||this,null==n&&(n=t),n["$options_apply?"](e)},o._s=a,o),n).call(r)).$with(e)},o.$with=function(e){var n=this;return n.example=e,n},o.$run=function(){var e,n,r,o=this;return(e=(n=o.$hooks()).$each,e._p=(r=function(e){var n=r._s||this;return null==n.example&&(n.example=t),null==e&&(e=t),e.$run(n.example)},r._s=o,r),e).call(n)},t}(x,null==(s=k.BaseHookCollection)?e.cm("BaseHookCollection"):s),function(e,$super){function n(){}var r=n=a(e,$super,"AroundHookCollection",n),o=r._proto;return r._scope,o.initial_procsy=t,o.$for=function(e,n){var r,o,a,i=this;return null==n&&(n=t),i.$class().$new((r=(o=i.$hooks()).$select,r._p=(a=function(n){return a._s||this,null==n&&(n=t),n["$options_apply?"](e)},a._s=i,a),r).call(o)).$with(e,n)},o.$with=function(e,n){var t=this;return t.example=e,t.initial_procsy=n,t},o.$run=function(){var e,n,r,o=this;return(e=(n=o.$hooks()).$reduce,e._p=(r=function(e,n){var o,a,i,s=r._s||this;return null==e&&(e=t),null==n&&(n=t),(o=(a=e).$wrap,o._p=(i=function(){var r,o,a=i._s||this;return null==a.example&&(a.example=t),(r=(o=a.example).$instance_exec,r._p=n.$block().$to_proc(),r).call(o,e)},i._s=s,i),o).call(a)},r._s=o,r),e).call(n,o.initial_procsy).$call()},t}(x,null==(s=k.BaseHookCollection)?e.cm("BaseHookCollection"):s),function(e,$super){function n(){}var r=n=a(e,$super,"GroupHookCollection",n),o=r._proto;return r._scope,o.group=t,o.$for=function(e){var n=this;return n.group=e,n},o.$run=function(){var e,n=this;return function(){for(;(e=n.$hooks()["$empty?"]())===t||e._isBoolean&&1!=e;)n.$hooks().$shift().$run(n.group);return t}()},t}(x,null==(s=k.BaseHookCollection)?e.cm("BaseHookCollection"):s),function(e,$super){function n(){}var r=n=a(e,$super,"HookCollections",n),o=r._proto;return r._scope,o.data=t,o.$initialize=function(e){var n=this;return n.data=e},o["$[]"]=function(e){var n=this;return n.data["$[]"](e)},o.$register_globals=function(e,n){var t=this;return t.$process(e,n,"before","each"),t.$process(e,n,"after","each"),t.$process(e,n,"around","each"),t.$process(e,n,"before","all"),t.$process(e,n,"after","all")},r.$private(),o.$process=function(e,n,r,o){var a,i,s,l=this;return(a=(i=n["$[]"](r)["$[]"](o)).$each,a._p=(s=function(n){var a,i,l,c,u=s._s||this;return null==n&&(n=t),(a=(i=o["$=="]("each"))!==!1&&i!==t?i:n["$options_apply?"](e))===t||a._isBoolean&&1!=a?t:(a=(i=(l=e.$parent_groups())["$any?"],i._p=(c=function(e){return c._s||this,null==e&&(e=t),e.$hooks()["$[]"](r)["$[]"](o)["$include?"](n)},c._s=u,c),i).call(l))===t||a._isBoolean&&1!=a?u["$[]"](r)["$[]"](o)["$<<"](n):t},s._s=l,s),a).call(i)},t}(x,null),y.$hooks=function(){var n,r,o=this;return null==o.hooks&&(o.hooks=t),(n=o.hooks)!==!1&&n!==t?n:o.hooks=(null==(r=k.HookCollections)?e.cm("HookCollections"):r).$new(i(["around","before","after"],{around:i(["each"],{each:(null==(r=k.AroundHookCollection)?e.cm("AroundHookCollection"):r).$new()}),before:i(["each","all","suite"],{each:(null==(r=k.HookCollection)?e.cm("HookCollection"):r).$new(),all:(null==(r=k.HookCollection)?e.cm("HookCollection"):r).$new(),suite:(null==(r=k.HookCollection)?e.cm("HookCollection"):r).$new()}),after:i(["each","all","suite"],{each:(null==(r=k.HookCollection)?e.cm("HookCollection"):r).$new(),all:(null==(r=k.HookCollection)?e.cm("HookCollection"):r).$new(),suite:(null==(r=k.HookCollection)?e.cm("HookCollection"):r).$new()})}))},y.$before=l=function(e){var n,o,a=this,i=l._p,s=i||t;return e=r.call(arguments,0),l._p=null,(n=(o=a).$register_hook,n._p=s.$to_proc(),n).apply(o,["append","before"].concat(e))},x.$alias_method("append_before","before"),y.$prepend_before=c=function(e){var n,o,a=this,i=c._p,s=i||t;return e=r.call(arguments,0),c._p=null,(n=(o=a).$register_hook,n._p=s.$to_proc(),n).apply(o,["prepend","before"].concat(e))},y.$after=u=function(e){var n,o,a=this,i=u._p,s=i||t;return e=r.call(arguments,0),u._p=null,(n=(o=a).$register_hook,n._p=s.$to_proc(),n).apply(o,["prepend","after"].concat(e))},x.$alias_method("prepend_after","after"),y.$append_after=_=function(e){var n,o,a=this,i=_._p,s=i||t;return e=r.call(arguments,0),_._p=null,(n=(o=a).$register_hook,n._p=s.$to_proc(),n).apply(o,["append","after"].concat(e))},y.$around=$=function(e){var n,o,a=this,i=$._p,s=i||t;return e=r.call(arguments,0),$._p=null,(n=(o=a).$register_hook,n._p=s.$to_proc(),n).apply(o,["prepend","around"].concat(e))},y.$run_hook=function(n,r,o,a){var i,s,l=this;return null==o&&(o=(null==(i=k.ExampleGroup)?e.cm("ExampleGroup"):i).$new()),null==a&&(a=t),(i=(null==(s=k.RSpec)?e.cm("RSpec"):s).$configuration()["$dry_run?"]())===t||i._isBoolean&&1!=i?l.$find_hook(n,r,o,a).$run():t},y.$around_each_hooks_for=function(n,r){var o,a,i,s,l=this;return null==r&&(r=t),(null==(o=k.AroundHookCollection)?e.cm("AroundHookCollection"):o).$new((o=(a=null==(s=k.FlatMap)?e.cm("FlatMap"):s).$flat_map,o._p=(i=function(e){return i._s||this,null==e&&(e=t),e.$hooks()["$[]"]("around")["$[]"]("each")},i._s=l,i),o).call(a,l.$parent_groups())).$for(n,r)},x.$private(),e.cdecl(k,"SCOPES",["each","all","suite"]),e.cdecl(k,"HOOK_TYPES",i(["before","after","around"],{before:(s=(p=null==(f=k.Hash)?e.cm("Hash"):f).$new,s._p=(d=function(){var n;return d._s||this,null==(n=k.BeforeHook)?e.cm("BeforeHook"):n},d._s=x,d),s).call(p),after:(s=(f=null==(h=k.Hash)?e.cm("Hash"):h).$new,s._p=(m=function(){var n;return m._s||this,null==(n=k.AfterHook)?e.cm("AfterHook"):n},m._s=x,m),s).call(f),around:(s=(h=null==(g=k.Hash)?e.cm("Hash"):g).$new,s._p=(v=function(){var n;return v._s||this,null==(n=k.AroundHook)?e.cm("AroundHook"):n},v._s=x,v),s).call(h)})),(null==(s=k.HOOK_TYPES)?e.cm("HOOK_TYPES"):s)["$[]"]("after")["$[]="]("all",null==(s=k.AfterAllHook)?e.cm("AfterAllHook"):s),y.$before_all_hooks_for=function(n){var t,r=this;return(null==(t=k.GroupHookCollection)?e.cm("GroupHookCollection"):t).$new(r.$hooks()["$[]"]("before")["$[]"]("all")).$for(n)},y.$after_all_hooks_for=function(n){var t,r=this;return(null==(t=k.GroupHookCollection)?e.cm("GroupHookCollection"):t).$new(r.$hooks()["$[]"]("after")["$[]"]("all")).$for(n)},y.$before_each_hooks_for=function(n){var r,o,a,i,s=this;return(null==(r=k.HookCollection)?e.cm("HookCollection"):r).$new((r=(o=null==(i=k.FlatMap)?e.cm("FlatMap"):i).$flat_map,r._p=(a=function(e){return a._s||this,null==e&&(e=t),e.$hooks()["$[]"]("before")["$[]"]("each")},a._s=s,a),r).call(o,s.$parent_groups().$reverse())).$for(n)},y.$after_each_hooks_for=function(n){var r,o,a,i,s=this;return(null==(r=k.HookCollection)?e.cm("HookCollection"):r).$new((r=(o=null==(i=k.FlatMap)?e.cm("FlatMap"):i).$flat_map,r._p=(a=function(e){return a._s||this,null==e&&(e=t),e.$hooks()["$[]"]("after")["$[]"]("each")},a._s=s,a),r).call(o,s.$parent_groups())).$for(n)},y.$register_hook=b=function(n,o,a){var i,s,l=this,c=b._p,u=c||t,_=t,$=t;return a=r.call(arguments,2),b._p=null,i=e.to_ary((s=l).$scope_and_options_from.apply(s,[].concat(a))),_=null==i[0]?t:i[0],$=null==i[1]?t:i[1],l.$hooks()["$[]"](o)["$[]"](_).$send(n,(null==(i=k.HOOK_TYPES)?e.cm("HOOK_TYPES"):i)["$[]"](o)["$[]"](_).$new(u,$))},y.$find_hook=function(e,n,r,o){var a=this,i=t;return function(){return i=[e,n],["before","all"]["$==="](i)?a.$before_all_hooks_for(r):["after","all"]["$==="](i)?a.$after_all_hooks_for(r):["around","each"]["$==="](i)?a.$around_each_hooks_for(r,o):["before","each"]["$==="](i)?a.$before_each_hooks_for(r):["after","each"]["$==="](i)?a.$after_each_hooks_for(r):["before","suite"]["$==="](i)||["after","suite"]["$==="](i)?a.$hooks()["$[]"](e)["$[]"]("suite").$with(r):t}()},y.$scope_and_options_from=function(n){var t,o=this;return n=r.call(arguments,0),[o.$extract_scope_from(n),(null==(t=k.Metadata)?e.cm("Metadata"):t).$build_hash_from(n)]},y.$extract_scope_from=function(n){var r,o,a,i,s=this;return(r=(null==(o=k.SCOPES)?e.cm("SCOPES"):o)["$include?"](n.$first()))===t||r._isBoolean&&1!=r?(r=(o=(a=n)["$any?"],o._p=(i=function(n){var r;return i._s||this,null==n&&(n=t),n["$is_a?"](null==(r=k.Symbol)?e.cm("Symbol"):r)},i._s=s,i),o).call(a))===t||r._isBoolean&&1!=r?"each":s.$raise((null==(r=k.ArgumentError)?e.cm("ArgumentError"):r).$new("You must explicitly give a scope (:each, :all, or :suite) when using symbols as metadata for a hook.")):n.$shift()},e.donate(x,["$hooks","$before","$prepend_before","$after","$append_after","$around","$run_hook","$around_each_hooks_for","$before_all_hooks_for","$after_all_hooks_for","$before_each_hooks_for","$after_each_hooks_for","$register_hook","$find_hook","$scope_and_options_from","$extract_scope_from"])}(s)}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=(e.slice,e.module),a=e.hash2,i=e.klass;return e.add_stubs(["$fetch","$[]=","$__memoized","$described_class","$description","$class","$===","$new","$handle_matcher","$subject","$private","$instance_eval","$==","$raise","$article","$hook_expression","$first_non_rspec_line","$hook_intention","$extend","$nil?","$send","$to_proc","$module_for","$arity","$define_method","$current_example","$let","$before","$__send__","$alias_method","$get_constant_or_yield","$include","$const_set","$method","$const_defined?","$const_get"]),function(n){var s=o(n,"RSpec");s._proto,s._scope,function(n){var s=o(n,"Core");s._proto,s._scope,function(n){var s,l,c,u=o(n,"MemoizedHelpers"),_=u._proto,$=u._scope;_.$subject=function(){var n,r,o,a=this;return(n=(r=a.$__memoized()).$fetch,n._p=(o=function(){var n,r,a=o._s||this,i=t;return a.$__memoized()["$[]="]("subject",function(){return i=(n=a.$described_class())!==!1&&n!==t?n:a.$class().$description(),(n=(null==(r=$.Class)?e.cm("Class"):r)["$==="](i))===t||n._isBoolean&&1!=n?i:i.$new()}())},o._s=a,o),n).call(r,"subject")},_.$should=function(n,r){var o,a,i,s=this;return null==n&&(n=t),null==r&&(r=t),(null==(o=(null==(a=(null==(i=$.RSpec)?e.cm("RSpec"):i)._scope).Expectations?a.cm("Expectations"):a.Expectations)._scope).PositiveExpectationHandler?o.cm("PositiveExpectationHandler"):o.PositiveExpectationHandler).$handle_matcher(s.$subject(),n,r)},_.$should_not=function(n,r){var o,a,i,s=this;return null==n&&(n=t),null==r&&(r=t),(null==(o=(null==(a=(null==(i=$.RSpec)?e.cm("RSpec"):i)._scope).Expectations?a.cm("Expectations"):a.Expectations)._scope).NegativeExpectationHandler?o.cm("NegativeExpectationHandler"):o.NegativeExpectationHandler).$handle_matcher(s.$subject(),n,r)},u.$private(),_.$__memoized=function(){var e,n=this;return null==n.__memoized&&(n.__memoized=t),(e=n.__memoized)!==!1&&e!==t?e:n.__memoized=a([],{})},function(n,$super){function o(){}var a,s,l=o=i(n,$super,"AllHookMemoizedHash",o),c=(l._proto,l._scope);return e.defs(l,"$isolate_for_all_hook",a=function(n){var o,i,s,l=this,c=a._p,u=c||t,_=t;return a._p=null,_=l,(o=(i=n).$instance_eval,o._p=(s=function(){var n,o=s._s||this;o.__memoized=_;try{return n=e.$yieldX(u,[]),n===r?n:n}finally{o.__memoized=t}},s._s=l,s),o).call(i)}),e.defs(l,"$fetch",s=function(n){var r,o=this,a=(s._p,t);return s._p=null,a=function(){return n["$=="]("subject")?"subject":"let declaration `"+n+"`"}(),o.$raise(""+a+" accessed in "+o.$article()+" "+o.$hook_expression()+" hook at:\n  "+(null==(r=c.CallerFilter)?e.cm("CallerFilter"):r).$first_non_rspec_line()+"\n\n`let` and `subject` declarations are not intended to be called\nin "+o.$article()+" "+o.$hook_expression()+" hook, as they exist to define state that\nis reset between each example, while "+o.$hook_expression()+" exists to\n"+o.$hook_intention()+".\n")}),function(n,$super){function r(){}var o=r=i(n,$super,"Before",r);return o._proto,o._scope,e.defs(o,"$hook_expression",function(){return"`before(:all)`"}),e.defs(o,"$article",function(){return"a"}),e.defs(o,"$hook_intention",function(){return"define state that is shared across examples in an example group"}),t}(l,l),function(n,$super){function r(){}var o=r=i(n,$super,"After",r);return o._proto,o._scope,e.defs(o,"$hook_expression",function(){return"`after(:all)`"}),e.defs(o,"$article",function(){return"an"}),e.defs(o,"$hook_intention",function(){return"cleanup state that is shared across examples in an example group"}),t}(l,l)}(u,null),e.defs(u,"$included",function(n){var t;return n.$extend(null==(t=$.ClassMethods)?e.cm("ClassMethods"):t)}),function(n){var r,a,i,s,l=o(n,"ClassMethods"),c=l._proto,u=l._scope;c.$let=r=function(n){var o,a,i,s,l,c,_=this,$=r._p,p=$||t;return r._p=null,(o=p["$nil?"]())===t||o._isBoolean&&1!=o||_.$raise("#let or #subject called without a block"),(o=(a=(null==(i=u.MemoizedHelpers)?e.cm("MemoizedHelpers"):i).$module_for(_)).$send,o._p=p.$to_proc(),o).call(a,"define_method",n),p.$arity()["$=="](1)?(o=(i=_).$define_method,o._p=(s=function(){var o,a,i,l=s._s||this;return(o=(a=l.$__memoized()).$fetch,o._p=(i=function(n){var o,a=i._s||this;return null==n&&(n=t),a.$__memoized()["$[]="](n,e.find_iter_super_dispatcher(a,"let",i._def||s._def||r,null).apply(a,[(null==(o=u.RSpec)?e.cm("RSpec"):o).$current_example(),t.$to_proc()]))},i._s=l,i),o).call(a,n)},s._s=_,s),o).call(i,n):(o=(l=_).$define_method,o._p=(c=function(){var o,a,i,s=c._s||this;return(o=(a=s.$__memoized()).$fetch,o._p=(i=function(n){var o=i._s||this;return null==n&&(n=t),o.$__memoized()["$[]="](n,e.find_iter_super_dispatcher(o,"let",i._def||c._def||r,null).apply(o,[t.$to_proc()]))},i._s=s,i),o).call(a,n)},c._s=_,c),o).call(l,n)},c["$let!"]=a=function(e){var n,r,o,i,s=this,l=a._p,c=l||t;return a._p=null,(n=(r=s).$let,n._p=c.$to_proc(),n).call(r,e),(n=(o=s).$before,n._p=(i=function(){var n=i._s||this;return n.$__send__(e)},i._s=s,i),n).call(o)},c.$subject=i=function(n){var r,o,a,s,l,c=this,_=i._p,$=_||t;return null==n&&(n=t),i._p=null,n!==!1&&n!==t?((r=(o=c).$let,r._p=$.$to_proc(),r).call(o,n),c.$alias_method("subject",n),(r=(a=null==(l=c._scope).NamedSubjectPreventSuper?l.cm("NamedSubjectPreventSuper"):l.NamedSubjectPreventSuper).$send,r._p=(s=function(){var n,t=s._s||this;return t.$raise(null==(n=u.NotImplementedError)?e.cm("NotImplementedError"):n,"`super` in named subjects is not supported")},s._s=c,s),r).call(a,"define_method",n)):(r=(l=c).$let,r._p=$.$to_proc(),r).call(l,"subject")},c["$subject!"]=s=function(e){var n,r,o,a,i=this,l=s._p,c=l||t;return null==e&&(e=t),s._p=null,(n=(r=i).$subject,n._p=c.$to_proc(),n).call(r,e),(n=(o=i).$before,n._p=(a=function(){var e=a._s||this;return e.$subject()},a._s=i,a),n).call(o)},e.donate(l,["$let","$let!","$subject","$subject!"])}(u),e.defs(u,"$module_for",function(n){var r,o,a,i=this;return(r=(o=i).$get_constant_or_yield,r._p=(a=function(){var r,o,i,s,l=a._s||this,c=t;return c=(r=(o=null==(s=$.Module)?e.cm("Module"):s).$new,r._p=(i=function(){var t,r,o,a,s=i._s||this;return s.$include((t=(r=null==(a=$.Module)?e.cm("Module"):a).$new,t._p=(o=function(){var e=o._s||this;return n.$const_set("NamedSubjectPreventSuper",e)},o._s=s,o),t).call(r))},i._s=l,i),r).call(o),n.$const_set("LetDefinitions",c),c},a._s=i,a),r).call(o,n,"LetDefinitions")}),e.defs(u,"$define_helpers_on",function(e){var n=this;return e.$send("include",n.$module_for(e))}),(null==(s=$.Module)?e.cm("Module"):s).$method("const_defined?").$arity()["$=="](1)?e.defs(u,"$get_constant_or_yield",l=function(n,o){var a,i=l._p,s=i||t;return l._p=null,(a=n["$const_defined?"](o))===t||a._isBoolean&&1!=a?(a=e.$yieldX(s,[]),a===r?a:a):n.$const_get(o)}):e.defs(u,"$get_constant_or_yield",c=function(n,o){var a,i=c._p,s=i||t,l=t;return c._p=null,(a=n["$const_defined?"](o,l=!1))===t||a._isBoolean&&1!=a?(a=e.$yieldX(s,[]),a===r?a:a):n.$const_get(o,l)}),e.donate(u,["$subject","$should","$should_not","$__memoized"])}(s)}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=e.slice,a=e.module,i=e.klass,s=e.hash2,l=e.hash;return e.add_stubs(["$sub","$expand_path","$==","$===","$is_a?","$last","$pop","$[]=","$has_key?","$store_computed","$private","$store","$location","$file_and_line_number","$described_class","$full_description","$build_description_from","$[]","$=~","$first_caller_from_outside_rspec","$relative_path","$to_i","$detect","$inject","$to_s","$method_description_after_module?","$+","$include","$each","$nil?","$container_stack","$first","$reverse","$flat_map","$<<","$update","$extend","$ensure_valid_keys","$delete","$caller","$configure_for_example","$dup","$any?","$filter_applies?","$all?","$!","$filter_applies_to_any_value?","$line_number_filter_applies?","$location_filter_applies?","$filters_apply?","$arity","$call","$example_group_declaration_line","$map","$preceding_declaration_line","$world","$empty?","$&","$relevant_line_numbers","$protected","$raise","$*","$first_non_rspec_line","$join"]),function(n){var c=a(n,"RSpec");c._proto,c._scope,function(n){var c,u=a(n,"Core"),_=(u._proto,u._scope);!function(n,$super){function c(){}var u,_=c=i(n,$super,"Metadata",c),$=_._proto,p=_._scope;return e.defs(_,"$relative_path",function(n){var r;try{return n=n.$sub((null==(r=p.File)?e.cm("File"):r).$expand_path("."),"."),n=n.$sub(/\A([^:]+:\d+)$/,"\\1"),n["$=="]("-e:1")?t:n}catch(o){if((null==(r=p.SecurityError)?e.cm("SecurityError"):r)["$==="](o))return t;throw o}}),e.defs(_,"$build_hash_from",function(n){var r,o,a,i=t;for(i=function(){return(r=n.$last()["$is_a?"](null==(o=p.Hash)?e.cm("Hash"):o))===t||r._isBoolean&&1!=r?s([],{}):n.$pop()}();(o=n.$last()["$is_a?"](null==(a=p.Symbol)?e.cm("Symbol"):a))!==t&&(!o._isBoolean||1==o);)i["$[]="](n.$pop(),!0);return i}),function(n){var r,i,l=a(n,"MetadataHash"),c=l._proto,u=l._scope;c["$[]"]=r=function(n){var a,i=o.call(arguments,0),s=this,l=r._p;return r._p=null,((a=s["$has_key?"](n))===t||a._isBoolean&&1!=a)&&s.$store_computed(n),e.find_super_dispatcher(s,"[]",r,l).apply(s,i)},c.$fetch=i=function(n,r){var a,s=o.call(arguments,0),l=this,c=i._p;return r=o.call(arguments,1),i._p=null,((a=l["$has_key?"](n))===t||a._isBoolean&&1!=a)&&l.$store_computed(n),e.find_super_dispatcher(l,"fetch",i,c).apply(l,s)},l.$private(),c.$store_computed=function(n){var r,o=this,a=t,i=t,l=t,c=t;return function(){return a=n,"location"["$==="](a)?o.$store("location",o.$location()):"file_path"["$==="](a)||"line_number"["$==="](a)?(r=e.to_ary(o.$file_and_line_number()),i=null==r[0]?t:r[0],l=null==r[1]?t:r[1],o.$store("file_path",i),o.$store("line_number",l)):"execution_result"["$==="](a)?o.$store("execution_result",s([],{})):"describes"["$==="](a)||"described_class"["$==="](a)?(c=o.$described_class(),o.$store("described_class",c),o.$store("describes",c)):"full_description"["$==="](a)?o.$store("full_description",o.$full_description()):"description"["$==="](a)?o.$store("description",(r=o).$build_description_from.apply(r,[].concat(o["$[]"]("description_args")))):"description_args"["$==="](a)?o.$store("description_args",[]):t}()},c.$location=function(){var e=this;return""+e["$[]"]("file_path")+":"+e["$[]"]("line_number")},c.$file_and_line_number=function(){var n,r=this;return r.$first_caller_from_outside_rspec()["$=~"](/(.+?):(\d+)(|:\d+)/),[(null==(n=u.Metadata)?e.cm("Metadata"):n).$relative_path(t),t.$to_i()]},c.$first_caller_from_outside_rspec=function(){var e,n,r,o=this;return(e=(n=o["$[]"]("caller")).$detect,e._p=(r=function(e){var n;return r._s||this,null==e&&(e=t),n=e["$=~"](/\/lib\/rspec\/core/),n===t||n===!1},r._s=o,r),e).call(n)},c["$method_description_after_module?"]=function(n,r){var o,a;return(o=n["$is_a?"](null==(a=u.Module)?e.cm("Module"):a))===t||o._isBoolean&&1!=o?!1:r["$=~"](/^(#|::|\.)/)},c.$build_description_from=function(n,r){var a,i,s,l,c=this,u=t,_=t;return r=o.call(arguments,1),null==n&&(n=""),a=e.to_ary((i=(s=r).$inject,i._p=(l=function(e,n){var r,o=l._s||this;return desc=e[0],last_part=e[1],null==n&&(n=t),n=n.$to_s(),((r=o["$method_description_after_module?"](last_part,n))===t||r._isBoolean&&1!=r)&&(n=" "["$+"](n)),[desc["$+"](n),n]},l._s=c,l),i).call(s,[n.$to_s(),n])),u=null==a[0]?t:a[0],_=null==a[1]?t:a[1],u},e.donate(l,["$[]","$fetch","$store_computed","$location","$file_and_line_number","$first_caller_from_outside_rspec","$method_description_after_module?","$build_description_from"])}(_),function(n){var t,r=a(n,"ExampleMetadataHash"),o=r._proto,i=r._scope;r.$include(null==(t=i.MetadataHash)?e.cm("MetadataHash"):t),o.$described_class=function(){var e=this;return e["$[]"]("example_group").$described_class()},o.$full_description=function(){var e,n=this;return(e=n).$build_description_from.apply(e,[n["$[]"]("example_group")["$[]"]("full_description")].concat(n["$[]"]("description_args")))},e.donate(r,["$described_class","$full_description"])}(_),function(n){var r,o=a(n,"GroupMetadataHash"),i=o._proto,s=o._scope;o.$include(null==(r=s.MetadataHash)?e.cm("MetadataHash"):r),i.$described_class=function(){try{var n,r,o,a,i,l=this;return(n=(r=l.$container_stack()).$each,n._p=(o=function(n){var r,a,i,s=o._s||this;return null==n&&(n=t),(r=(a=["described_class","describes"]).$each,r._p=(i=function(r){var o,a=(i._s||this,t);return null==r&&(r=t),(o=n["$has_key?"](r))===t||o._isBoolean&&1!=o?t:(a=n["$[]"](r),(o=a["$nil?"]())===t||o._isBoolean&&1!=o?(e.$return(a),void 0):t)},i._s=s,i),r).call(a)},o._s=l,o),n).call(r),(n=(a=l.$container_stack().$reverse()).$each,n._p=(i=function(n){var r,o,a,l=(i._s||this,t);return null==n&&(n=t),l=n["$[]"]("description_args").$first(),(r=(o=(null==(a=s.String)?e.cm("String"):a)["$==="](l))!==!1&&o!==t?o:(null==(a=s.Symbol)?e.cm("Symbol"):a)["$==="](l))===t||r._isBoolean&&1!=r?(e.$return(l),void 0):t},i._s=l,i),n).call(a),t}catch(c){if(c===e.returner)return c.$v;throw c}},i.$full_description=function(){var n,r,o,a,i,l=this;return(n=l).$build_description_from.apply(n,[].concat((r=(o=null==(i=s.FlatMap)?e.cm("FlatMap"):i).$flat_map,r._p=(a=function(e){return a._s||this,null==e&&(e=t),e["$[]"]("description_args")},a._s=l,a),r).call(o,l.$container_stack().$reverse())))},i.$container_stack=function(){var e,n,r=this,o=t,a=t;return null==r.container_stack&&(r.container_stack=t),(e=r.container_stack)!==!1&&e!==t?e:r.container_stack=function(){for(o=[a=r];(n=a["$has_key?"]("example_group"))!==t&&(!n._isBoolean||1==n);)o["$<<"](a["$[]"]("example_group")),a=a["$[]"]("example_group");return o}()},e.donate(o,["$described_class","$full_description","$container_stack"])}(_),$.$initialize=u=function(n){var o,a=this,i=u._p,l=i||t;return null==n&&(n=t),u._p=null,n!==!1&&n!==t?(a.$update(n),a.$store("example_group",s(["example_group"],{example_group:n["$[]"]("example_group").$extend(null==(o=p.GroupMetadataHash)?e.cm("GroupMetadataHash"):o)}).$extend(null==(o=p.GroupMetadataHash)?e.cm("GroupMetadataHash"):o))):a.$store("example_group",s([],{}).$extend(null==(o=p.GroupMetadataHash)?e.cm("GroupMetadataHash"):o)),l!==t?(o=e.$yield1(l,a),o===r?o:o):t},$.$process=function(n){var r,a,i=this,l=t;return n=o.call(arguments,0),l=function(){return(r=n.$last()["$is_a?"](null==(a=p.Hash)?e.cm("Hash"):a))===t||r._isBoolean&&1!=r?s([],{}):n.$pop()}(),i.$ensure_valid_keys(l),i["$[]"]("example_group").$store("description_args",n),i["$[]"]("example_group").$store("caller",(r=l.$delete("caller"))!==!1&&r!==t?r:i.$caller()),i.$update(l)},$.$for_example=function(n,t){var r,o=this;return o.$dup().$extend(null==(r=p.ExampleMetadataHash)?e.cm("ExampleMetadataHash"):r).$configure_for_example(n,t)},$["$any_apply?"]=function(e){var n,r,o,a=this;return(n=(r=e)["$any?"],n._p=(o=function(e,n){var r=o._s||this;return null==e&&(e=t),null==n&&(n=t),r["$filter_applies?"](e,n)},o._s=a,o),n).call(r)},$["$all_apply?"]=function(e){var n,r,o,a=this;return(n=(r=e)["$all?"],n._p=(o=function(e,n){var r=o._s||this;return null==e&&(e=t),null==n&&(n=t),r["$filter_applies?"](e,n)},o._s=a,o),n).call(r)},$["$filter_applies?"]=function(n,r,o){var a,i,s,l=this,c=t;return null==o&&(o=l),i=(null==(s=p.Array)?e.cm("Array"):s)["$==="](o["$[]"](n)),(a=i!==!1&&i!==t?(null==(s=p.Proc)?e.cm("Proc"):s)["$==="](r)["$!"]():i)===t||a._isBoolean&&1!=a?n["$=="]("line_numbers")?o["$line_number_filter_applies?"](r):n["$=="]("locations")?o["$location_filter_applies?"](r):(a=(null==(i=p.Hash)?e.cm("Hash"):i)["$==="](r))===t||a._isBoolean&&1!=a?(a=o["$has_key?"](n))===t||a._isBoolean&&1!=a?!1:function(){return c=r,(null==(a=p.Regexp)?e.cm("Regexp"):a)["$==="](c)?o["$[]"](n)["$=~"](r):(null==(a=p.Proc)?e.cm("Proc"):a)["$==="](c)?function(){return c=r.$arity(),0["$==="](c)?r.$call():2["$==="](c)?r.$call(o["$[]"](n),o):r.$call(o["$[]"](n))}():o["$[]"](n).$to_s()["$=="](r.$to_s())}():o["$filters_apply?"](n,r):o["$filter_applies_to_any_value?"](n,r)},$["$filters_apply?"]=function(e,n){var r,o,a,i=this;return(r=(o=n)["$all?"],r._p=(a=function(n,r){var o=a._s||this;return null==n&&(n=t),null==r&&(r=t),o["$filter_applies?"](n,r,o["$[]"](e))},a._s=i,a),r).call(o)},$["$filter_applies_to_any_value?"]=function(e,n){var r,o,a,i=this;return(r=(o=i["$[]"](e))["$any?"],r._p=(a=function(r){var o=a._s||this;return null==r&&(r=t),o["$filter_applies?"](e,r,l(e,n))},a._s=i,a),r).call(o)},$["$location_filter_applies?"]=function(e){var n=this,r=t;return r=n.$example_group_declaration_line(e),r!==!1&&r!==t?n["$line_number_filter_applies?"](r):!0},$["$line_number_filter_applies?"]=function(n){var r,o,a,i=this,s=t;return s=(r=(o=n).$map,r._p=(a=function(n){var r;return a._s||this,null==n&&(n=t),(null==(r=p.RSpec)?e.cm("RSpec"):r).$world().$preceding_declaration_line(n)},a._s=i,a),r).call(o),i.$relevant_line_numbers()["$&"](s)["$empty?"]()["$!"]()},_.$protected(),$.$configure_for_example=function(e,n){var r,o=this;return e!==!1&&e!==t&&o.$store("description_args",[e]),o.$store("caller",(r=n.$delete("caller"))!==!1&&r!==t?r:o.$caller()),o.$update(n)},_.$private(),e.cdecl(p,"RESERVED_KEYS",["description","example_group","execution_result","file_path","full_description","line_number","location"]),$.$ensure_valid_keys=function(n){var r,o,a,i,s=this;return(r=(o=null==(i=p.RESERVED_KEYS)?e.cm("RESERVED_KEYS"):i).$each,r._p=(a=function(r){var o,i=a._s||this;return null==r&&(r=t),(o=n["$has_key?"](r))===t||o._isBoolean&&1!=o?t:i.$raise("            "+"*"["$*"](50)+"\n:"+r+" is not allowed\n\nRSpec reserves some hash keys for its own internal use,\nincluding :"+r+", which is used on:\n\n            "+(null==(o=p.CallerFilter)?e.cm("CallerFilter"):o).$first_non_rspec_line()+".\n\nHere are all of RSpec's reserved hash keys:\n\n            "+(null==(o=p.RESERVED_KEYS)?e.cm("RESERVED_KEYS"):o).$join("\n  ")+"\n            "+"*"["$*"](50)+"\n")},a._s=s,a),r).call(o)},$.$example_group_declaration_line=function(n){var r,o=this;return(r=o["$[]"]("example_group"))===t||r._isBoolean&&1!=r?t:n["$[]"]((null==(r=p.File)?e.cm("File"):r).$expand_path(o["$[]"]("example_group")["$[]"]("file_path")))},$.$relevant_line_numbers=function(e){var n,r=this;return null==e&&(e=r),[e["$[]"]("line_number")]["$+"](function(){return(n=e["$[]"]("example_group"))===t||n._isBoolean&&1!=n?[]:r.$relevant_line_numbers(e["$[]"]("example_group"))}())},t}(u,null==(c=_.Hash)?e.cm("Hash"):c)}(c)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=e.slice,a=e.module,i=e.klass,s=e.hash2;return e.add_stubs(["$current_example","$before","$pending","$class","$is_a?","$last","$pop","$first","$[]","$has_key?","$!","$[]=","$metadata","$execution_result","$instance_eval","$verify_mocks_for_rspec","$example_group_instance","$===","$teardown_mocks_for_rspec","$raise","$new"]),function(n){var l=a(n,"RSpec");l._proto,l._scope,function(n){var l=a(n,"Core");l._proto,l._scope,function(n){var l,c,u,_,$=a(n,"Pending"),p=$._proto,d=$._scope;!function(e,$super){function n(){}var r=n=i(e,$super,"PendingDeclaredInExample",n);return r._proto,r._scope,t}($,null==(l=d.StandardError)?e.cm("StandardError"):l);try{!function(e,$super){function n(){}var r=n=i(e,$super,"PendingExampleFixedError",n);return r._proto,r._scope,t}($,null==(l=(null==(c=(null==(u=d.Test)?e.cm("Test"):u)._scope).Unit?c.cm("Unit"):c.Unit)._scope).AssertionFailedError?l.cm("AssertionFailedError"):l.AssertionFailedError)}catch(f){!function(e,$super){function n(){}var r=n=i(e,$super,"PendingExampleFixedError",n);return r._proto,r._scope,t}($,null==(l=d.StandardError)?e.cm("StandardError"):l)}e.cdecl(d,"NO_REASON_GIVEN","No reason given"),e.cdecl(d,"NOT_YET_IMPLEMENTED","Not yet implemented"),p.$pending=_=function(n){var a,i,l,c,u,$,p=this,f=_._p,m=f||t,h=t,v=t,g=t,b=t,x=t;if(n=o.call(arguments,0),_._p=null,h=(null==(a=d.RSpec)?e.cm("RSpec"):a).$current_example(),h===!1||h===t)return(a=(i=p.$class()).$before,a._p=(l=function(){var e,t=l._s||this;return(e=t).$pending.apply(e,[].concat(n))},l._s=p,l),a).call(i,"each");if(v=function(){return(a=n.$last()["$is_a?"](null==(c=d.Hash)?e.cm("Hash"):c))===t||a._isBoolean&&1!=a?s([],{}):n.$pop()}(),g=(a=n.$first())!==!1&&a!==t?a:null==(c=d.NO_REASON_GIVEN)?e.cm("NO_REASON_GIVEN"):c,(a=(c=v["$[]"]("unless"))!==!1&&c!==t?c:(u=v["$has_key?"]("if"),u!==!1&&u!==t?v["$[]"]("if")["$!"]():u))!==t&&(!a._isBoolean||1==a))return function(){return m!==t?(a=e.$yieldX(m,[]),a===r?a:a):t}();if(h.$metadata()["$[]="]("pending",!0),h.$metadata()["$[]"]("execution_result")["$[]="]("pending_message",g),h.$execution_result()["$[]="]("pending_fixed",!1),m!==t){try{try{b=function(){return e.$yieldX(m,[])===r?r.$v:(a=(c=h.$example_group_instance()).$instance_eval,a._p=($=function(){var e=$._s||this;return e.$verify_mocks_for_rspec()},$._s=p,$),a).call(c)}(),h.$metadata()["$[]="]("pending",!1)}catch(y){if(!(null==(a=d.Exception)?e.cm("Exception"):a)["$==="](y))throw y;x=y,h.$execution_result()["$[]="]("exception",x)}}finally{p.$teardown_mocks_for_rspec()
}b!==!1&&b!==t&&(h.$execution_result()["$[]="]("pending_fixed",!0),p.$raise((null==(a=d.PendingExampleFixedError)?e.cm("PendingExampleFixedError"):a).$new()))}return p.$raise((null==(a=d.PendingDeclaredInExample)?e.cm("PendingDeclaredInExample"):a).$new(g))},e.donate($,["$pending"])}(l)}(l)}(n)}(Opal),function(e){var n,t,r=(e.top,e),o=(e.nil,e.breaker,e.slice,e.module);return e.add_stubs([]),function(e){var n=o(e,"Formatters");n._proto,n._scope}(null==(n=(null==(t=r.RSpec)?e.cm("RSpec"):t)._scope).Core?n.cm("Core"):n.Core)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=(e.slice,e.module),a=e.klass,s=e.range;return e.add_stubs(["$kind_of?","$__send__","$===","$raise","$inspect","$class","$coerce_to","$new","$-","$seed=","$times","$|","$&","$[]","$+","$[]=","$^","$>>","$odd?","$each","$*","$>=","$size","$max","$next_state","$<<","$/","$random_32_bits","$>","$mask_32_bits","$<","$map","$pack","$each_with_index","$state_as_bignum","$left","$abs","$==","$pop","$first","$convert_seed","$private","$attr_reader","$seed_rand","$coerce_to_int","$nonzero?","$new_seed","$random_float","$<=","$_rand_range","$random_integer","$random_bytes","$is_a?","$seed","$send","$state","$marshal_dump","$allocate","$marshal_load","$end","$begin","$!","$respond_to?","$exclude_end?","$loop","$**","$rand","$include"]),function(n){var l=o(n,"RSpec");l._proto,l._scope,function(n){var l=o(n,"Core");l._proto,l._scope,function(n){var l,c=o(n,"Backports"),u=(c._proto,c._scope);e.defs(c,"$coerce_to",function(n,r,o){var a,i=this,s=t,l=t;if((a=n["$kind_of?"](r))!==t&&(!a._isBoolean||1==a))return n;try{s=n.$__send__(o)}catch(c){if(!(null==(a=u.Exception)?e.cm("Exception"):a)["$==="](c))throw c;l=c,i.$raise(null==(a=u.TypeError)?e.cm("TypeError"):a,"Coercion error: "+n.$inspect()+"."+o+" => "+r+" failed:\n")}return((a=s["$kind_of?"](r))===t||a._isBoolean&&1!=a)&&i.$raise(null==(a=u.TypeError)?e.cm("TypeError"):a,"Coercion error: obj."+o+" did NOT return a "+r+" (was "+s.$class()+")"),s}),e.defs(c,"$coerce_to_int",function(n){var t,r=this;return r.$coerce_to(n,null==(t=u.Integer)?e.cm("Integer"):t,"to_int")}),e.cdecl(u,"Undefined",(null==(l=u.Object)?e.cm("Object"):l).$new()),function(n,$super){function l(){}var c=l=a(n,$super,"Random",l),u=(c._proto,c._scope);return function(n,$super){function r(){}var o,l=r=a(n,$super,"MT19937",r),c=l._proto,u=l._scope;return c.state=c.last_read=t,e.cdecl(u,"STATE_SIZE",624),e.cdecl(u,"LAST_STATE",(null==(o=u.STATE_SIZE)?e.cm("STATE_SIZE"):o)["$-"](1)),e.cdecl(u,"PAD_32_BITS",4294967295),c.$initialize=function(e){var n=this;return n["$seed="](e)},e.cdecl(u,"LAST_31_BITS",2147483647),e.cdecl(u,"OFFSET",397),c.$next_state=function(){var n,r,o,a,i=this;return(n=(r=null==(a=u.STATE_SIZE)?e.cm("STATE_SIZE"):a).$times,n._p=(o=function(n){var r,a,i=o._s||this,s=t;return null==i.state&&(i.state=t),null==n&&(n=t),s=i.state["$[]"](n)["$&"](2147483648)["$|"](i.state["$[]"](n["$+"](1)["$-"](null==(r=u.STATE_SIZE)?e.cm("STATE_SIZE"):r))["$&"](2147483647)),i.state["$[]="](n,i.state["$[]"](n["$+"](null==(r=u.OFFSET)?e.cm("OFFSET"):r)["$-"](null==(r=u.STATE_SIZE)?e.cm("STATE_SIZE"):r))["$^"](s["$>>"](1))),(r=s["$odd?"]())===t||r._isBoolean&&1!=r?t:(r=n,a=i.state,a["$[]="](r,a["$[]"](r)["$+"](2567483615)))},o._s=i,o),n).call(r),i.last_read=-1},c["$seed="]=function(n){var r,o,a,l,c,_,$,p,d=this,f=t,m=t;return function(){return f=n,(null==(r=u.Integer)?e.cm("Integer"):r)["$==="](f)?(d.state=(null==(r=u.Array)?e.cm("Array"):r).$new(null==(r=u.STATE_SIZE)?e.cm("STATE_SIZE"):r),d.state["$[]="](0,n["$&"](null==(r=u.PAD_32_BITS)?e.cm("PAD_32_BITS"):r)),(r=(o=s(1,null==(l=u.LAST_STATE)?e.cm("LAST_STATE"):l,!1)).$each,r._p=(a=function(n){var r,o=a._s||this;return null==o.state&&(o.state=t),null==n&&(n=t),o.state["$[]="](n,1812433253["$*"](o.state["$[]"](n["$-"](1))["$^"](o.state["$[]"](n["$-"](1))["$>>"](30)))["$+"](n)["$&"](null==(r=u.PAD_32_BITS)?e.cm("PAD_32_BITS"):r))},a._s=d,a),r).call(o),d.last_read=null==(r=u.LAST_STATE)?e.cm("LAST_STATE"):r):(null==(r=u.Array)?e.cm("Array"):r)["$==="](f)?(d["$seed="](19650218),i=1,m=0,(r=(l=[null==(_=u.STATE_SIZE)?e.cm("STATE_SIZE"):_,n.$size()].$max()).$times,r._p=(c=function(){var r,o=c._s||this;return null==o.state&&(o.state=t),o.state["$[]="](i,o.state["$[]"](i)["$^"](o.state["$[]"](i["$-"](1))["$^"](o.state["$[]"](i["$-"](1))["$>>"](30))["$*"](1664525))["$+"](m)["$+"](n["$[]"](m))["$&"](null==(r=u.PAD_32_BITS)?e.cm("PAD_32_BITS"):r)),(i=i["$+"](1))["$>="](null==(r=u.STATE_SIZE)?e.cm("STATE_SIZE"):r)&&(o.state["$[]="](0,o.state["$[]"](-1)),i=1),(m=m["$+"](1))["$>="](n.$size())?m=0:t},c._s=d,c),r).call(l),(r=(_=(null==(p=u.STATE_SIZE)?e.cm("STATE_SIZE"):p)["$-"](1)).$times,r._p=($=function(){var n,r=$._s||this;return null==r.state&&(r.state=t),r.state["$[]="](i,r.state["$[]"](i)["$^"](r.state["$[]"](i["$-"](1))["$^"](r.state["$[]"](i["$-"](1))["$>>"](30))["$*"](1566083941))["$-"](i)["$&"](null==(n=u.PAD_32_BITS)?e.cm("PAD_32_BITS"):n)),(i=i["$+"](1))["$>="](null==(n=u.STATE_SIZE)?e.cm("STATE_SIZE"):n)?(r.state["$[]="](0,r.state["$[]"](-1)),i=1):t},$._s=d,$),r).call(_),d.state["$[]="](0,2147483648)):d.$raise(null==(r=u.ArgumentError)?e.cm("ArgumentError"):r,"Seed must be an Integer or an Array")}()},c.$random_32_bits=function(){var n,r=this,o=t;return r.last_read["$>="](null==(n=u.LAST_STATE)?e.cm("LAST_STATE"):n)&&r.$next_state(),r.last_read=r.last_read["$+"](1),o=r.state["$[]"](r.last_read),o=o["$^"](o["$>>"](11)),o=o["$^"](o["$<<"](7)["$&"](2636928640)),o=o["$^"](o["$<<"](15)["$&"](4022730752)),o=o["$^"](o["$>>"](18))},e.cdecl(u,"FLOAT_FACTOR",1["$/"](9007199254740992)),c.$random_float=function(){var n,t=this;return t.$random_32_bits()["$>>"](5)["$*"](67108864)["$+"](t.$random_32_bits()["$>>"](6))["$*"](null==(n=u.FLOAT_FACTOR)?e.cm("FLOAT_FACTOR"):n)},c.$random_integer=function(n){var r,o,a,i=this,s=t,l=t,c=t,_=t;for(s=n["$-"](1),l=0;s["$>"](null==(r=u.PAD_32_BITS)?e.cm("PAD_32_BITS"):r);)s=s["$>>"](32),l=l["$+"](1);for(c=i.$mask_32_bits(s);!_["$<"](n);)_=i.$random_32_bits()["$&"](c),(r=(o=l).$times,r._p=(a=function(){var e=a._s||this;return _=_["$<<"](32),_=_["$|"](e.$random_32_bits())},a._s=i,a),r).call(o);return _},c.$random_bytes=function(e){var n,r,o,a=this,i=t,s=t;return i=e["$+"](3)["$/"](4),s=(n=(r=i.$times()).$map,n._p=(o=function(){var e=o._s||this;return e.$random_32_bits()},o._s=a,o),n).call(r),s.$pack("L"["$*"](i))["$[]"](0,e)},c.$state_as_bignum=function(){var e,n,r,o=this,a=t;return a=0,(e=(n=o.state).$each_with_index,e._p=(r=function(e,n){return r._s||this,null==e&&(e=t),null==n&&(n=t),a=a["$|"](e["$<<"](32["$*"](n)))},r._s=o,r),e).call(n),a},c.$left=function(){var n,t,r=this;return(null==(n=(null==(t=u.MT19937)?e.cm("MT19937"):t)._scope).STATE_SIZE?n.cm("STATE_SIZE"):n.STATE_SIZE)["$-"](r.last_read)},c.$marshal_dump=function(){var e=this;return[e.$state_as_bignum(),e.$left()]},c.$marshal_load=function(n){var r,o,a,i,s=this,l=t,c=t;return r=e.to_ary(n),l=null==r[0]?t:r[0],c=null==r[1]?t:r[1],s.last_read=(null==(r=(null==(o=u.MT19937)?e.cm("MT19937"):o)._scope).STATE_SIZE?r.cm("STATE_SIZE"):r.STATE_SIZE)["$-"](c),s.state=(null==(r=u.Array)?e.cm("Array"):r).$new(null==(r=u.STATE_SIZE)?e.cm("STATE_SIZE"):r),(r=(o=null==(i=u.STATE_SIZE)?e.cm("STATE_SIZE"):i).$times,r._p=(a=function(n){var r,o=a._s||this;return null==o.state&&(o.state=t),null==n&&(n=t),o.state["$[]="](n,l["$&"](null==(r=u.PAD_32_BITS)?e.cm("PAD_32_BITS"):r)),l=l["$>>"](32)},a._s=s,a),r).call(o)},e.defs(l,"$convert_seed",function(n){var r,o,a=t;for(n=n.$abs(),a=[];!n["$=="](0);)a["$<<"](n["$&"](null==(o=u.PAD_32_BITS)?e.cm("PAD_32_BITS"):o)),n=n["$>>"](32);return(r=(o=a["$[]"](-1)["$=="](1))?a.$size()["$>"](1):o)===t||r._isBoolean&&1!=r||a.$pop(),a.$size()["$>"](1)?a:a.$first()}),e.defs(l,"$[]",function(e){var n=this;return n.$new(n.$convert_seed(e))}),l.$private(),e.cdecl(u,"MASK_BY",[1,2,4,8,16]),c.$mask_32_bits=function(n){var r,o,a,i,s=this;return(r=(o=null==(i=u.MASK_BY)?e.cm("MASK_BY"):i).$each,r._p=(a=function(e){return a._s||this,null==e&&(e=t),n=n["$|"](n["$>>"](e))},a._s=s,a),r).call(o),n},t}(c,null),function(n){var a,i=o(n,"Implementation"),s=i._proto,l=i._scope;i.$attr_reader("seed"),s.$initialize=a=function(n){var t=this;return a._p,null==n&&(n=0),a._p=null,e.find_super_dispatcher(t,"initialize",a,null).apply(t,[]),t.$seed_rand(n)},s.$seed_rand=function(n){var r,o,a,i=this,s=t;return null==i.seed&&(i.seed=t),null==n&&(n=0),n=(null==(r=l.Backports)?e.cm("Backports"):r).$coerce_to_int(n),o=i.seed,((r=null!=o&&o!==t?"instance-variable":t)===t||r._isBoolean&&1!=r)&&(i.seed=t),r=[i.seed,(o=n["$nonzero?"]())!==!1&&o!==t?o:(null==(a=l.Random)?e.cm("Random"):a).$new_seed()],s=r[0],i.seed=r[1],i.mt=(null==(r=l.MT19937)?e.cm("MT19937"):r)["$[]"](i.seed),s},s.$rand=function(n){var r,o,a,i=this,s=t;return null==i.mt&&(i.mt=t),null==n&&(n=null==(r=(null==(o=l.Backports)?e.cm("Backports"):o)._scope).Undefined?r.cm("Undefined"):r.Undefined),(r=function(){return s=n,(null==(o=(null==(a=l.Backports)?e.cm("Backports"):a)._scope).Undefined?o.cm("Undefined"):o.Undefined)["$==="](s)?i.mt.$random_float():(null==(o=l.Float)?e.cm("Float"):o)["$==="](s)?n["$<="](0)?t:n["$*"](i.mt.$random_float()):(null==(o=l.Range)?e.cm("Range"):o)["$==="](s)?i.$_rand_range(n):(n=(null==(o=l.Backports)?e.cm("Backports"):o).$coerce_to_int(n),n["$<="](0)?t:i.mt.$random_integer(n))}())!==!1&&r!==t?r:i.$raise(null==(o=l.ArgumentError)?e.cm("ArgumentError"):o,"invalid argument "+n)},s.$bytes=function(n){var r,o=this;return null==o.mt&&(o.mt=t),n=(null==(r=l.Backports)?e.cm("Backports"):r).$coerce_to_int(n),n["$<"](0)&&o.$raise(null==(r=l.ArgumentError)?e.cm("ArgumentError"):r,"negative size"),o.mt.$random_bytes(n)},s["$=="]=function(n){var r,o,a,i,s=this;return a=n["$is_a?"](null==(i=l.Random)?e.cm("Random"):i),o=a!==!1&&a!==t?s.$seed()["$=="](n.$seed()):a,r=o!==!1&&o!==t?s.$left()["$=="](n.$send("left")):o,r!==!1&&r!==t?s.$state()["$=="](n.$send("state")):r},s.$marshal_dump=function(){var e=this;return null==e.mt&&(e.mt=t),null==e.seed&&(e.seed=t),e.mt.$marshal_dump()["$<<"](e.seed)},s.$marshal_load=function(n){var r,o=this;return null==o.mt&&(o.mt=t),o.seed=n.$pop(),o.mt=(null==(r=l.MT19937)?e.cm("MT19937"):r).$allocate(),o.mt.$marshal_load(n)},i.$private(),s.$state=function(){var e=this;return null==e.mt&&(e.mt=t),e.mt.$state_as_bignum()},s.$left=function(){var e=this;return null==e.mt&&(e.mt=t),e.mt.$left()},s.$_rand_range=function(n){var o,a,i,s,c,u=this,_=t;return null==u.mt&&(u.mt=t),_=n.$end()["$-"](n.$begin()),i=_["$is_a?"](null==(s=l.Float)?e.cm("Float"):s)["$!"](),a=i!==!1&&i!==t?_["$respond_to?"]("to_int"):i,(o=a!==!1&&a!==t?_=(null==(i=l.Backports)?e.cm("Backports"):i).$coerce_to_int(_):a)===t||o._isBoolean&&1!=o?(o=_=(null==(a=l.Backports)?e.cm("Backports"):a).$coerce_to(_,null==(a=l.Float)?e.cm("Float"):a,"to_f"))===t||o._isBoolean&&1!=o?t:_["$<"](0)?t:(o=n["$exclude_end?"]())===t||o._isBoolean&&1!=o?(o=(a=u).$loop,o._p=(c=function(){var e=c._s||this,o=t;return null==e.mt&&(e.mt=t),o=e.mt.$random_float()["$*"](_)["$*"](1.0001),o["$>"](_)?t:(r.$v=n.$begin()["$+"](o),r)},c._s=u,c),o).call(a):_["$<="](0)?t:n.$begin()["$+"](u.mt.$random_float()["$*"](_)):(((o=n["$exclude_end?"]())===t||o._isBoolean&&1!=o)&&(_=_["$+"](1)),_["$<="](0)?t:n.$begin()["$+"](u.mt.$random_integer(_)))},e.donate(i,["$initialize","$seed_rand","$rand","$bytes","$==","$marshal_dump","$marshal_load","$state","$left","$_rand_range"])}(c),e.defs(c,"$new_seed",function(){var n;return 2["$**"](62)["$+"]((null==(n=u.Kernel)?e.cm("Kernel"):n).$rand(2["$**"](62)))}),t}(c,null),function(n,$super){function t(){}var r,o=t=a(n,$super,"Random",t),i=(o._proto,o._scope);return o.$include(null==(r=i.Implementation)?e.cm("Implementation"):r),function(n){var t=n._scope;return n._proto,n.$include(null==(r=t.Implementation)?e.cm("Implementation"):r)}(o.$singleton_class())}(c,null)}(l)}(l)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=(e.slice,e.module),a=e.klass,i=e.hash2;return e.add_stubs(["$new","$seed","$shuffle","$>","$dup","$times","$+","$rand","$-","$size","$==","$[]","$[]=","$call","$register","$fetch","$to_proc","$used?","$attr_reader","$used_random_seed?","$ordering_registry","$register_ordering","$to_i","$split","$to_s","$include?","$has_key?","$seed=","$order="]),function(n){var s=o(n,"RSpec");s._proto,s._scope,function(n){var s,l,c,u,_=o(n,"Core"),$=(_._proto,_._scope);(s=null==e.Object._scope.Random?t:"constant")===t||s._isBoolean&&1!=s?e.cdecl($,"RandomNumberGenerator",null==(s=(null==(l=(null==(c=(null==(u=$.RSpec)?e.cm("RSpec"):u)._scope).Core?c.cm("Core"):c.Core)._scope).Backports?l.cm("Backports"):l.Backports)._scope).Random?s.cm("Random"):s.Random):e.cdecl($,"RandomNumberGenerator",null==(s=e.Object._scope.Random)?e.cm("Random"):s),function(n){var s=o(n,"Ordering");s._proto,s._scope,function(e,$super){function n(){}var r=n=a(e,$super,"Identity",n),o=r._proto;return r._scope,o.$order=function(e){return e},t}(s,null),function(n,$super){function r(){}var o,s=r=a(n,$super,"Random",r),l=s._proto,c=s._scope;return l.used=l.configuration=t,l.$initialize=function(e){var n=this;return n.configuration=e,n.used=!1},l["$used?"]=function(){var e=this;return e.used},l.$order=function(n){var r,o=this,a=t;return o.used=!0,a=(null==(r=c.RandomNumberGenerator)?e.cm("RandomNumberGenerator"):r).$new(o.configuration.$seed()),o.$shuffle(n,a)},(null==(o=c.RUBY_VERSION)?e.cm("RUBY_VERSION"):o)["$>"]("1.9.3")?(l.$shuffle=function(e,n){return e.$shuffle(i(["random"],{random:n}))},t):(l.$shuffle=function(e,n){var r,o,a,i=this,s=t;return s=e.$dup(),(r=(o=s.$size()).$times,r._p=(a=function(e){var r,o=(a._s||this,t);return null==e&&(e=t),o=e["$+"](n.$rand(s.$size()["$-"](e))),e["$=="](o)?t:(r=[s["$[]"](o),s["$[]"](e)],s["$[]="](e,r[0]),s["$[]="](o,r[1]))},a._s=i,a),r).call(o),s},t)}(s,null),function(e,$super){function n(){}var r=n=a(e,$super,"Custom",n),o=r._proto;return r._scope,o.callable=t,o.$initialize=function(e){var n=this;return n.callable=e},o.$order=function(e){var n=this;return n.callable.$call(e)},t}(s,null),function(n,$super){function r(){}var o,s=r=a(n,$super,"Registry",r),l=s._proto,c=s._scope;return l.strategies=t,l.$initialize=function(n){var r,o=this,a=t;return o.configuration=n,o.strategies=i([],{}),o.$register("random",(null==(r=c.Random)?e.cm("Random"):r).$new(n)),a=(null==(r=c.Identity)?e.cm("Identity"):r).$new(),o.$register("defined",a),o.$register("global",a)},l.$fetch=o=function(e){var n,r,a=this,i=o._p,s=i||t;return o._p=null,(n=(r=a.strategies).$fetch,n._p=s.$to_proc(),n).call(r,e)},l.$register=function(e,n){var t=this;return t.strategies["$[]="](e,n)},l["$used_random_seed?"]=function(){var e=this;return e.strategies["$[]"]("random")["$used?"]()},t}(s,null),function(n,$super){function o(){}var i,s=o=a(n,$super,"ConfigurationManager",o),l=s._proto,c=s._scope;return l.seed_forced=l.order_forced=t,s.$attr_reader("seed","ordering_registry"),l.$initialize=function(){var n,t=this;return t.ordering_registry=(null==(n=c.Registry)?e.cm("Registry"):n).$new(t),t.seed=t.$rand(65535),t.seed_forced=!1,t.order_forced=!1},l["$seed_used?"]=function(){var e=this;return e.$ordering_registry()["$used_random_seed?"]()},l["$seed="]=function(e){var n,r=this;return(n=r.seed_forced)===t||n._isBoolean&&1!=n?(r.$register_ordering("global",r.$ordering_registry().$fetch("random")),r.seed=e.$to_i()):t},l["$order="]=function(n){var r,o=this,a=t,i=t,s=t;return r=e.to_ary(n.$to_s().$split(":")),a=null==r[0]?t:r[0],i=null==r[1]?t:r[1],i!==!1&&i!==t&&(o.seed=i=i.$to_i()),s=function(){return(r=a["$include?"]("rand"))===t||r._isBoolean&&1!=r?a["$=="]("defined")?"defined":t:"random"}(),s!==!1&&s!==t?o.$register_ordering("global",o.$ordering_registry().$fetch(s)):t},l.$force=function(e){var n,r=this;return(n=e["$has_key?"]("seed"))===t||n._isBoolean&&1!=n?(n=e["$has_key?"]("order"))===t||n._isBoolean&&1!=n?t:(r["$order="](e["$[]"]("order")),r.order_forced=!0):(r["$seed="](e["$[]"]("seed")),r.seed_forced=!0,r.order_forced=!0)},l.$register_ordering=i=function(n,o){var a,s,l,u,_=this,$=i._p,p=$||t;return null==o&&(o=(null==(a=c.Custom)?e.cm("Custom"):a).$new((a=(s=null==(u=c.Proc)?e.cm("Proc"):u).$new,a._p=(l=function(n){var o;return l._s||this,null==n&&(n=t),o=e.$yield1(p,n),o===r?o:o},l._s=_,l),a).call(s))),i._p=null,s=_.order_forced,(a=s!==!1&&s!==t?n["$=="]("global"):s)===t||a._isBoolean&&1!=a?_.$ordering_registry().$register(n,o):t},t}(s,null)}(_)}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$include","$attr_reader","$attr_accessor","$new","$[]=","$dup","$examples","$prune","$filter_manager","$uniq!","$configuration","$fetch","$ordering_registry","$order","$clear","$example_groups","$registry","$<<","$inclusion_filter","$exclusion_filter","$configure_group","$inject","$+","$size","$filtered_examples","$flat_map","$descendants","$<=","$sort","$declaration_line_numbers","$reporter","$announce_inclusion_filter","$announce_exclusion_filter","$empty?","$==","$length","$message","$[]","$join","$run_all_when_everything_filtered?","$zero?","$example_count","$everything_filtered_message","$description","$empty_without_conditional_filters?","$private"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Core");a._proto,a._scope,function(n,$super){function r(){}var a,i,s,l=r=o(n,$super,"World",r),c=l._proto,u=l._scope;return c.configuration=c.example_groups=c.line_numbers=t,l.$include(null==(a=(null==(i=(null==(s=u.RSpec)?e.cm("RSpec"):s)._scope).Core?i.cm("Core"):i.Core)._scope).Hooks?a.cm("Hooks"):a.Hooks),l.$attr_reader("example_groups","filtered_examples"),l.$attr_accessor("wants_to_quit"),c.$initialize=function(n){var r,o,a,i,s=this;return null==n&&(n=(null==(r=u.RSpec)?e.cm("RSpec"):r).$configuration()),s.configuration=n,s.example_groups=[],s.filtered_examples=(r=(o=null==(i=u.Hash)?e.cm("Hash"):i).$new,r._p=(a=function(e,n){var r=a._s||this,o=t;return null==e&&(e=t),null==n&&(n=t),e["$[]="](n,function(){return o=n.$examples().$dup(),o=r.$filter_manager().$prune(o),o["$uniq!"](),o}())},a._s=s,a),r).call(o)},c.$ordered_example_groups=function(){var e=this,n=t;return n=e.configuration.$ordering_registry().$fetch("global"),n.$order(e.example_groups)},c.$reset=function(){var n,t=this;return t.$example_groups().$clear(),(null==(n=u.SharedExampleGroup)?e.cm("SharedExampleGroup"):n).$registry().$clear()},c.$filter_manager=function(){var e=this;return e.configuration.$filter_manager()},c.$register=function(e){var n=this;return n.$example_groups()["$<<"](e),e},c.$inclusion_filter=function(){var e=this;return e.configuration.$inclusion_filter()},c.$exclusion_filter=function(){var e=this;return e.configuration.$exclusion_filter()},c.$configure_group=function(e){var n=this;return n.configuration.$configure_group(e)},c.$example_count=function(){var n,r,o,a,i,s,l,c=this;return(n=(r=(a=(i=null==(l=u.FlatMap)?e.cm("FlatMap"):l).$flat_map,a._p=(s=function(e){return s._s||this,null==e&&(e=t),e.$descendants()},s._s=c,s),a).call(i,c.$example_groups())).$inject,n._p=(o=function(e,n){return o._s||this,null==e&&(e=t),null==n&&(n=t),e["$+"](n.$filtered_examples().$size())},o._s=c,o),n).call(r,0)},c.$preceding_declaration_line=function(e){var n,r,o,a=this;return(n=(r=a.$declaration_line_numbers().$sort()).$inject,n._p=(o=function(n,r){return o._s||this,null==n&&(n=t),null==r&&(r=t),r["$<="](e)?r:n},o._s=a,o),n).call(r,t)},c.$reporter=function(){var e=this;return e.configuration.$reporter()},c.$announce_filters=function(){var e,n,r=this,o=t,a=t;return o=[],r.$announce_inclusion_filter(o),r.$announce_exclusion_filter(o),((e=r.$filter_manager()["$empty?"]())===t||e._isBoolean&&1!=e)&&(o.$length()["$=="](1)?r.$reporter().$message("Run options: "+o["$[]"](0)):r.$reporter().$message("Run options:\n  "+o.$join("\n  "))),n=r.configuration["$run_all_when_everything_filtered?"](),(e=n!==!1&&n!==t?r.$example_count()["$zero?"]():n)===t||e._isBoolean&&1!=e||(r.$reporter().$message(""+r.$everything_filtered_message()+"; ignoring "+r.$inclusion_filter().$description()),r.$filtered_examples().$clear(),r.$inclusion_filter().$clear()),(e=r.$example_count()["$zero?"]())===t||e._isBoolean&&1!=e?t:(r.$example_groups().$clear(),(e=r.$filter_manager()["$empty?"]())===t||e._isBoolean&&1!=e?(e=r.$exclusion_filter()["$empty_without_conditional_filters?"]())===t||e._isBoolean&&1!=e?(e=r.$inclusion_filter()["$empty?"]())===t||e._isBoolean&&1!=e?t:r.$reporter().$message(r.$everything_filtered_message()):(a=r.$everything_filtered_message(),(e=r.configuration["$run_all_when_everything_filtered?"]())===t||e._isBoolean&&1!=e||a["$<<"]("; ignoring "+r.$inclusion_filter().$description()),r.$reporter().$message(a)):r.$reporter().$message("No examples found."))},c.$everything_filtered_message=function(){return"\nAll examples were filtered out"},c.$announce_inclusion_filter=function(e){var n,r=this;return(n=r.$inclusion_filter()["$empty?"]())===t||n._isBoolean&&1!=n?e["$<<"]("include "+r.$inclusion_filter().$description()):t},c.$announce_exclusion_filter=function(e){var n,r=this;return(n=r.$exclusion_filter()["$empty_without_conditional_filters?"]())===t||n._isBoolean&&1!=n?e["$<<"]("exclude "+r.$exclusion_filter().$description()):t},l.$private(),c.$declaration_line_numbers=function(){var e,n,r,o,a=this;return(e=a.line_numbers)!==!1&&e!==t?e:a.line_numbers=(n=(r=a.$example_groups()).$inject,n._p=(o=function(e,n){return o._s||this,null==e&&(e=t),null==n&&(n=t),e["$+"](n.$declaration_line_numbers())},o._s=a,o),n).call(r,[])},t}(a,null)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass,a=e.hash2;return e.add_stubs(["$format_backtrace","$backtrace_formatter","$configuration","$attr_accessor","$<<","$union","$map","$new","$gsub","$getwd","$empty?","$[]","$tap","$concat","$compact","$backtrace_line","$take_while","$!","$==","$exclude?","$relative_path","$===","$any?","$=~","$none?"]),function(n){var i=r(n,"RSpec");i._proto,i._scope,function(n){var i=r(n,"Core");i._proto,i._scope,function(n,$super){function r(){}var i=r=o(n,$super,"BacktraceFormatter",r),s=i._proto,l=i._scope;return s.full_backtrace=s.exclusion_patterns=s.inclusion_patterns=t,e.defs(i,"$format_backtrace",function(n,t){var r;return null==t&&(t=a([],{})),(null==(r=l.RSpec)?e.cm("RSpec"):r).$configuration().$backtrace_formatter().$format_backtrace(n,t)}),i.$attr_accessor("exclusion_patterns","inclusion_patterns"),s.$initialize=function(){var n,r,o,a,i=this;return i.full_backtrace=!1,i.exclusion_patterns=[]["$<<"]((n=null==(r=l.Regexp)?e.cm("Regexp"):r).$union.apply(n,[].concat((r=(o=["/libd*/ruby/","org/jruby/","bin/","/gems/","lib/rspec/(core|expectations|matchers|mocks)"]).$map,r._p=(a=function(n){var r,o;return a._s||this,null==n&&(n=t),(null==(r=l.Regexp)?e.cm("Regexp"):r).$new(n.$gsub("/",null==(r=(null==(o=l.File)?e.cm("File"):o)._scope).SEPARATOR?r.cm("SEPARATOR"):r.SEPARATOR))},a._s=i,a),r).call(o)))),i.inclusion_patterns=[(null==(r=l.Regexp)?e.cm("Regexp"):r).$new((null==(r=l.Dir)?e.cm("Dir"):r).$getwd())]},s["$full_backtrace="]=function(e){var n=this;return n.full_backtrace=e},s["$full_backtrace?"]=function(){var e,n=this;return(e=n.full_backtrace)!==!1&&e!==t?e:n.exclusion_patterns["$empty?"]()},s.$format_backtrace=function(n,r){var o,i,s,c,u,_,$,p,d,f=this;return null==r&&(r=a([],{})),(o=r["$[]"]("full_backtrace"))===t||o._isBoolean&&1!=o?(o=(i=(c=(u=($=(p=n).$take_while,$._p=(d=function(n){var r,o,a,i;return d._s||this,null==n&&(n=t),n["$=="](null==(r=(null==(o=(null==(a=(null==(i=l.RSpec)?e.cm("RSpec"):i)._scope).Core?a.cm("Core"):a.Core)._scope).Runner?o.cm("Runner"):o.Runner)._scope).AT_EXIT_HOOK_BACKTRACE_LINE?r.cm("AT_EXIT_HOOK_BACKTRACE_LINE"):r.AT_EXIT_HOOK_BACKTRACE_LINE)["$!"]()},d._s=f,d),$).call(p)).$map,c._p=(_=function(e){var n=_._s||this;return null==e&&(e=t),n.$backtrace_line(e)},_._s=f,_),c).call(u).$compact()).$tap,o._p=(s=function(e){var r;return s._s||this,null==e&&(e=t),(r=e["$empty?"]())===t||r._isBoolean&&1!=r?t:(e.$concat(n),e["$<<"](""),e["$<<"]("  Showing full backtrace because every line was filtered out."),e["$<<"]("  See docs for RSpec::Configuration#backtrace_exclusion_patterns and"),e["$<<"]("  RSpec::Configuration#backtrace_inclusion_patterns for more information."))},s._s=f,s),o).call(i):n},s.$backtrace_line=function(n){var r,o,a,i=this;try{return(r=i["$exclude?"](n))===t||r._isBoolean&&1!=r?(null==(r=(null==(o=(null==(a=l.RSpec)?e.cm("RSpec"):a)._scope).Core?o.cm("Core"):o.Core)._scope).Metadata?r.cm("Metadata"):r.Metadata).$relative_path(n):t}catch(s){if((null==(r=l.SecurityError)?e.cm("SecurityError"):r)["$==="](s))return t;throw s}},s["$exclude?"]=function(e){var n,r,o,a,i,s,l=this;return(n=l.full_backtrace)===t||n._isBoolean&&1!=n?(n=(r=(o=l.exclusion_patterns)["$any?"],r._p=(a=function(n){return a._s||this,null==n&&(n=t),n["$=~"](e)},a._s=l,a),r).call(o),n!==!1&&n!==t?(r=(i=l.inclusion_patterns)["$none?"],r._p=(s=function(n){return s._s||this,null==n&&(n=t),n["$=~"](e)},s._s=l,s),r).call(i):n):!1},t}(i,null)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.klass),o=e.module;return e.add_stubs(["$==","$raise","$attr_reader","$path","$start_with?","$!","$absolute?"]),function(n,$super){function o(){}var a=o=r(n,$super,"Pathname",o),i=a._proto,s=a._scope;return i.path=t,i.$initialize=function(n){var t,r=this;return n["$=="]("\0")&&r.$raise(null==(t=s.ArgumentError)?e.cm("ArgumentError"):t),r.path=n},a.$attr_reader("path"),i["$=="]=function(e){var n=this;return e.$path()["$=="](n.path)},i["$absolute?"]=function(){var e=this;return e.path["$start_with?"]("/")},i["$relative?"]=function(){var e=this;return e["$absolute?"]()["$!"]()},i.$to_path=function(){var e=this;return e.path},e.defn(a,"$to_str",i.$to_path),e.defn(a,"$to_s",i.$to_path)}(n,null),function(n){var r=o(n,"Kernel"),a=r._proto;r._scope,a.$Pathname=function(){return t},e.donate(r,["$Pathname"])}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=e.slice,a=e.module,i=e.gvars;return e.add_stubs(["$map","$add_dir_to_load_path","$join","$root","$include?","$unshift","$determine_root","$find_first_parent_containing","$ascend_until","$exists?","$ascend","$Pathname","$expand_path","$module_function"]),function(n){var s=a(n,"RSpec");s._proto,s._scope,function(n){var s=a(n,"Core");s._proto,s._scope,function(n){var s,l=a(n,"RubyProject"),c=l._proto,u=l._scope;c.$add_to_load_path=function(n){var r,a,i,s=this;return n=o.call(arguments,0),(r=(a=n).$map,r._p=(i=function(n){var r,o=i._s||this;return null==n&&(n=t),o.$add_dir_to_load_path((null==(r=u.File)?e.cm("File"):r).$join(o.$root(),n))},i._s=s,i),r).call(a)},c.$add_dir_to_load_path=function(e){var n;return(n=i.LOAD_PATH["$include?"](e))===t||n._isBoolean&&1!=n?i.LOAD_PATH.$unshift(e):t},c.$root=function(){var e,n=this;return null==n.project_root&&(n.project_root=t),(e=n.project_root)!==!1&&e!==t?e:n.project_root=n.$determine_root()},c.$determine_root=function(){var e,n=this;return(e=n.$find_first_parent_containing("spec"))!==!1&&e!==t?e:"."},c.$find_first_parent_containing=function(n){var r,o,a,i=this;return(r=(o=i).$ascend_until,r._p=(a=function(r){var o;return a._s||this,null==r&&(r=t),(null==(o=u.File)?e.cm("File"):o)["$exists?"]((null==(o=u.File)?e.cm("File"):o).$join(r,n))},a._s=i,a),r).call(o)},c.$ascend_until=s=function(){try{var n,o,a,i,l=this,c=s._p,_=c||t;return s._p=null,(n=(o=l.$Pathname((null==(i=u.File)?e.cm("File"):i).$expand_path("."))).$ascend,n._p=(a=function(n){var o,i;return a._s||this,null==n&&(n=t),(o=(i=e.$yield1(_,n))===r?r.$v:i)===t||o._isBoolean&&1!=o?t:(e.$return(n),void 0)},a._s=l,a),n).call(o)}catch($){if($===e.returner)return $.$v;throw $}},l.$module_function("add_to_load_path"),l.$module_function("add_dir_to_load_path"),l.$module_function("root"),l.$module_function("determine_root"),l.$module_function("find_first_parent_containing"),l.$module_function("ascend_until"),e.donate(l,["$add_to_load_path","$add_dir_to_load_path","$root","$determine_root","$find_first_parent_containing","$ascend_until"])}(s)}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module);return e.add_stubs(["$<","$>","$to_i","$/","$-","$*","$pluralize","$format_seconds","$sprintf","$strip_trailing_zeroes","$sub","$empty?","$==","$to_f"]),function(n){var o=r(n,"RSpec");o._proto,o._scope,function(n){var o=r(n,"Core");o._proto,o._scope,function(n){var o=r(n,"Formatters");o._proto,o._scope,function(n){var o=r(n,"Helpers"),a=o._proto,i=o._scope;e.cdecl(i,"SUB_SECOND_PRECISION",5),e.cdecl(i,"DEFAULT_PRECISION",2),a.$format_duration=function(n){var r,o=this,a=t,s=t,l=t;return a=function(){return n["$<"](1)?null==(r=i.SUB_SECOND_PRECISION)?e.cm("SUB_SECOND_PRECISION"):r:n["$<"](120)?null==(r=i.DEFAULT_PRECISION)?e.cm("DEFAULT_PRECISION"):r:n["$<"](300)?1:0}(),n["$>"](60)?(s=n.$to_i()["$/"](60).$to_i(),l=n["$-"](s["$*"](60)),""+o.$pluralize(s,"minute")+" "+o.$pluralize(o.$format_seconds(l,a),"second")):o.$pluralize(o.$format_seconds(n,a),"second")},a.$format_seconds=function(n,r){var o,a,s=this,l=t;return null==r&&(r=t),(o=r)!==!1&&o!==t?o:r=function(){return(a=n["$<"](1))===t||a._isBoolean&&1!=a?null==(a=i.DEFAULT_PRECISION)?e.cm("DEFAULT_PRECISION"):a:null==(a=i.SUB_SECOND_PRECISION)?e.cm("SUB_SECOND_PRECISION"):a}(),l=s.$sprintf("%."+r+"f",n),s.$strip_trailing_zeroes(l)},a.$strip_trailing_zeroes=function(e){var n,r=t;return r=e.$sub(/[^1-9]+$/,""),(n=r["$empty?"]())===t||n._isBoolean&&1!=n?r:"0"},a.$pluralize=function(e,n){return""+e+" "+n+function(){return e.$to_f()["$=="](1)?t:"s"}()},e.donate(o,["$format_duration","$format_seconds","$strip_trailing_zeroes","$pluralize"])}(o)}(o)}(o)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$attr_reader","$new","$deprecation_stream","$===","$summary_stream","$include?","$+","$print_deprecation_message","$printer","$<<","$deprecation_summary","$[]","$gsub","$deprecation_type_for","$private","$type","$include","$sync=","$deprecation_message_for","$deprecation_formatter","$puts","$to_s","$>","$count","$pluralize","$path","$[]=","$stash_deprecation_message","$<","$==","$too_many_warnings_message","$any?","$print_deferred_deprecation_warnings","$each","$sort_by","$to_proc","$keys","$raise"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a,i=r(n,"Core"),s=(i._proto,i._scope);!function(n){var a=r(n,"Formatters");a._proto,a._scope,function(n,$super){function r(){}var a,i,s,l,c,u,_=r=o(n,$super,"DeprecationFormatter",r),$=_._proto,p=_._scope;return $.printer=$.seen_deprecations=$.count=t,_.$attr_reader("count","deprecation_stream","summary_stream"),$.$initialize=function(n,t){var r,o=this;return o.deprecation_stream=n,o.summary_stream=t,o.seen_deprecations=(null==(r=p.Set)?e.cm("Set"):r).$new(),o.count=0},$.$printer=function(){var n,r,o=this,a=t;return(n=o.printer)!==!1&&n!==t?n:o.printer=function(){return a=o.$deprecation_stream(),(null==(r=p.File)?e.cm("File"):r)["$==="](a)||(null==(r=p.RaiseErrorStream)?e.cm("RaiseErrorStream"):r)["$==="](a)?(null==(r=p.ImmediatePrinter)?e.cm("ImmediatePrinter"):r).$new(o.$deprecation_stream(),o.$summary_stream(),o):(null==(r=p.DelayedPrinter)?e.cm("DelayedPrinter"):r).$new(o.$deprecation_stream(),o.$summary_stream(),o)}()},$.$deprecation=function(e){var n,r=this;return(n=r.seen_deprecations["$include?"](e))===t||n._isBoolean&&1!=n?(r.count=r.count["$+"](1),r.$printer().$print_deprecation_message(e),r.seen_deprecations["$<<"](e)):t},$.$deprecation_summary=function(){var e=this;return e.$printer().$deprecation_summary()},$.$deprecation_message_for=function(n){var r;return(r=n["$[]"]("message"))===t||r._isBoolean&&1!=r?(null==(r=p.GeneratedDeprecationMessage)?e.cm("GeneratedDeprecationMessage"):r).$new(n):(null==(r=p.SpecifiedDeprecationMessage)?e.cm("SpecifiedDeprecationMessage"):r).$new(n)},e.cdecl(p,"RAISE_ERROR_CONFIG_NOTICE","          |\n          |If you need more of the backtrace for any of these deprecations to\n          |identify where to make the necessary changes, you can configure\n          |`config.raise_errors_for_deprecations!`, and it will turn the\n          |deprecation warnings into errors, giving you the full backtrace.\n".$gsub(/^\s+\|/,"")),e.cdecl(p,"SpecifiedDeprecationMessage",(a=(i=null==(l=p.Struct)?e.cm("Struct"):l).$new,a._p=(s=function(){var n,r=s._s||this;return e.defn(r,"$initialize",n=function(t){var r=this;return n._p,n._p=null,r.message=t["$[]"]("message"),e.find_super_dispatcher(r,"initialize",n,null).apply(r,[r.$deprecation_type_for(t)])}),e.defn(r,"$to_s",function(){var e=this;return null==e.message&&(e.message=t),e.message}),e.defn(r,"$too_many_warnings_message",function(){var e=t;return e="Too many similar deprecation messages reported, disregarding further reports.",e["$<<"](" Set config.deprecation_stream to a File for full output."),e
}),r.$private(),e.defn(r,"$deprecation_type_for",function(e){return e["$[]"]("message").$gsub(/(\w+\/)+\w+\.rb:\d+/,"")}),t},s._s=_,s),a).call(i,"type")),e.cdecl(p,"GeneratedDeprecationMessage",(a=(l=null==(u=p.Struct)?e.cm("Struct"):u).$new,a._p=(c=function(){var n,r=c._s||this;return e.defn(r,"$initialize",n=function(t){var r=this;return n._p,n._p=null,r.data=t,e.find_super_dispatcher(r,"initialize",n,null).apply(r,[t["$[]"]("deprecated")])}),e.defn(r,"$to_s",function(){var e,n=this,r=t;return null==n.data&&(n.data=t),r=""+n.data["$[]"]("deprecated")+" is deprecated.",(e=n.data["$[]"]("replacement"))===t||e._isBoolean&&1!=e||r["$<<"](" Use "+n.data["$[]"]("replacement")+" instead."),(e=n.data["$[]"]("call_site"))===t||e._isBoolean&&1!=e||r["$<<"](" Called from "+n.data["$[]"]("call_site")+"."),r}),e.defn(r,"$too_many_warnings_message",function(){var e=this,n=t;return n="Too many uses of deprecated '"+e.$type()+"'.",n["$<<"](" Set config.deprecation_stream to a File for full output."),n}),t},c._s=_,c),a).call(l,"type")),function(n,$super){function r(){}var a,i,s,l,c=r=o(n,$super,"ImmediatePrinter",r),u=c._proto,_=c._scope;return u.deprecation_stream=t,c.$include(null==(a=(null==(i=(null==(s=(null==(l=e.Object._scope.RSpec)?e.cm("RSpec"):l)._scope).Core?s.cm("Core"):s.Core)._scope).Formatters?i.cm("Formatters"):i.Formatters)._scope).Helpers?a.cm("Helpers"):a.Helpers),c.$attr_reader("deprecation_stream","summary_stream","deprecation_formatter"),u.$initialize=function(e,n,t){var r=this;return r.deprecation_stream=e,r.deprecation_stream["$sync="](!0),r.summary_stream=n,r.deprecation_formatter=t},u.$print_deprecation_message=function(e){var n=this,r=t;return r=n.$deprecation_formatter().$deprecation_message_for(e),n.$deprecation_stream().$puts(r.$to_s())},u.$deprecation_summary=function(){var n,r=this;return r.$deprecation_formatter().$count()["$>"](0)?(r.$summary_stream().$puts("\n"+r.$pluralize(r.$deprecation_formatter().$count(),"deprecation")+" logged to "+r.$deprecation_stream().$path()),r.$deprecation_stream().$puts(null==(n=_.RAISE_ERROR_CONFIG_NOTICE)?e.cm("RAISE_ERROR_CONFIG_NOTICE"):n)):t},t}(_,null),function(n,$super){function r(){}var a,i,s,l,c=r=o(n,$super,"DelayedPrinter",r),u=c._proto,_=c._scope;return u.seen_deprecations=u.deprecation_messages=t,e.cdecl(_,"TOO_MANY_USES_LIMIT",4),c.$include(null==(a=(null==(i=(null==(s=(null==(l=e.Object._scope.RSpec)?e.cm("RSpec"):l)._scope).Core?s.cm("Core"):s.Core)._scope).Formatters?i.cm("Formatters"):i.Formatters)._scope).Helpers?a.cm("Helpers"):a.Helpers),c.$attr_reader("deprecation_stream","summary_stream","deprecation_formatter"),u.$initialize=function(n,r,o){var a,i,s,l,c,u,$=this;return $.deprecation_stream=n,$.summary_stream=r,$.deprecation_formatter=o,$.seen_deprecations=(a=(i=null==(l=_.Hash)?e.cm("Hash"):l).$new,a._p=(s=function(){return s._s||this,0},s._s=$,s),a).call(i),$.deprecation_messages=(a=(l=null==(u=_.Hash)?e.cm("Hash"):u).$new,a._p=(c=function(e,n){return c._s||this,null==e&&(e=t),null==n&&(n=t),e["$[]="](n,[])},c._s=$,c),a).call(l)},u.$print_deprecation_message=function(e){var n,r,o=this,a=t;return a=o.$deprecation_formatter().$deprecation_message_for(e),n=a,r=o.seen_deprecations,r["$[]="](n,r["$[]"](n)["$+"](1)),o.$stash_deprecation_message(a)},u.$stash_deprecation_message=function(n){var r,o=this;return o.seen_deprecations["$[]"](n)["$<"](null==(r=_.TOO_MANY_USES_LIMIT)?e.cm("TOO_MANY_USES_LIMIT"):r)?o.deprecation_messages["$[]"](n)["$<<"](n.$to_s()):o.seen_deprecations["$[]"](n)["$=="](null==(r=_.TOO_MANY_USES_LIMIT)?e.cm("TOO_MANY_USES_LIMIT"):r)?o.deprecation_messages["$[]"](n)["$<<"](n.$too_many_warnings_message()):t},u.$deprecation_summary=function(){var n,r=this;return(n=r.deprecation_messages["$any?"]())===t||n._isBoolean&&1!=n?t:(r.$print_deferred_deprecation_warnings(),r.$deprecation_stream().$puts(null==(n=_.RAISE_ERROR_CONFIG_NOTICE)?e.cm("RAISE_ERROR_CONFIG_NOTICE"):n),r.$summary_stream().$puts("\n"+r.$pluralize(r.$deprecation_formatter().$count(),"deprecation warning")+" total"))},u.$print_deferred_deprecation_warnings=function(){var e,n,r,o,a,i=this;return i.$deprecation_stream().$puts("\nDeprecation Warnings:\n\n"),(e=(n=(o=(a=i.deprecation_messages.$keys()).$sort_by,o._p="type".$to_proc(),o).call(a)).$each,e._p=(r=function(e){var n,o,a,i=r._s||this,s=t;return null==i.deprecation_messages&&(i.deprecation_messages=t),null==e&&(e=t),s=i.deprecation_messages["$[]"](e),(n=(o=s).$each,n._p=(a=function(e){var n=a._s||this;return null==e&&(e=t),n.$deprecation_stream().$puts(e)},a._s=i,a),n).call(o),i.$deprecation_stream().$puts()},r._s=i,r),e).call(n)},t}(_,null),function(n,$super){function r(){}var a=r=o(n,$super,"RaiseErrorStream",r),i=a._proto,s=a._scope;return i.$puts=function(n){var t,r=this;return r.$raise(null==(t=s.DeprecationError)?e.cm("DeprecationError"):t,n)},i["$sync="]=function(){return t},t}(_,null)}(a,null)}(i),e.cdecl(s,"DeprecationError",(null==(a=s.Class)?e.cm("Class"):a).$new(null==(a=s.StandardError)?e.cm("StandardError"):a))}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.hash2;return e.add_stubs(["$respond_to?","$warn_with","$fetch","$first_non_rspec_line","$<<","$warn"]),function(n){var a,i=r(n,"RSpec"),s=(i._proto,i._scope);((a=i["$respond_to?"]("deprecate"))===t||a._isBoolean&&1!=a)&&e.defs(i,"$deprecate",function(e,n){var t=this;return null==n&&(n=o([],{})),t.$warn_with("DEPRECATION: "+e+" is deprecated.",n)}),((a=i["$respond_to?"]("warn_deprecation"))===t||a._isBoolean&&1!=a)&&e.defs(i,"$warn_deprecation",function(e){var n=this;return n.$warn_with("DEPRECATION: \n "+e)}),e.defs(i,"$warning",function(e,n){var t=this;return null==n&&(n=o([],{})),t.$warn_with("WARNING: "+e+".",n)}),e.defs(i,"$warn_with",function(n,r){var a,i,l,c=this,u=t;return null==r&&(r=o([],{})),u=(a=(i=r).$fetch,a._p=(l=function(){var n;return l._s||this,(null==(n=s.CallerFilter)?e.cm("CallerFilter"):n).$first_non_rspec_line()},l._s=c,l),a).call(i,"call_site"),u!==!1&&u!==t&&n["$<<"](" Called from "+u+"."),(null==(a=e.Object._scope.Kernel)?e.cm("Kernel"):a).$warn(n)})}(n)}(Opal),function(e){var n,t,r,o=e.top,a=e,i=e.nil,s=(e.breaker,e.slice),l=e.module,c=e.hash2;return e.add_stubs(["$===","$deprecate","$to_s","$reject!","$=~","$compile","$backtrace","$raise","$extend"]),function(n){var t=l(n,"RSpec");t._proto,t._scope,function(n){var t=l(n,"Expectations"),r=t._proto,o=t._scope;!function(n){var t,r=l(n,"DeprecatedConstants"),o=r._proto,a=r._scope;o.$const_missing=t=function(n){var r,o,l,u=s.call(arguments,0),_=this,$=t._p,p=i,d=i;return t._p=null,function(){if(p=n,"Rspec"["$==="](p)||"Spec"["$==="](p))return(null==(r=a.RSpec)?e.cm("RSpec"):r).$deprecate(n.$to_s(),c(["replacement"],{replacement:"RSpec"})),null==(r=a.RSpec)?e.cm("RSpec"):r;try{return e.find_super_dispatcher(_,"const_missing",t,$).apply(_,u)}catch(s){if((null==(r=a.Exception)?e.cm("Exception"):r)["$==="](s))return d=s,(r=(o=d.$backtrace())["$reject!"],r._p=(l=function(n){var t;return l._s||this,null==n&&(n=i),n["$=~"]((null==(t=a.Regexp)?e.cm("Regexp"):t).$compile("rspec/expectations/extensions/object"))},l._s=_,l),r).call(o),_.$raise(d);throw s}}()},e.donate(r,["$const_missing"])}(t),r["$differ="]=function(){var n;return(null==(n=o.RSpec)?e.cm("RSpec"):n).$deprecate("RSpec::Expectations.differ=(differ)")},e.donate(t,["$differ="])}(t)}(o),o.$extend(null==(n=(null==(t=(null==(r=a.RSpec)?e.cm("RSpec"):r)._scope).Expectations?t.cm("Expectations"):t.Expectations)._scope).DeprecatedConstants?n.cm("DeprecatedConstants"):n.DeprecatedConstants)}(Opal),function(e){return e.top,e.nil,e.breaker,e.slice,e.add_stubs([]),!0}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.range;return e.add_stubs(["$gsub","$to_s","$map","$to_word","$Array","$length","$===","$[]","$join","$each_with_index","$<","$-","$<<","$inspect","$is_matcher_with_description?","$description","$split_words","$name","$to_sentence","$underscore","$last","$split","$class","$dup","$gsub!","$tr!","$downcase!","$private","$is_a_matcher?","$respond_to?"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Matchers");a._proto,a._scope,function(n){var a=r(n,"Pretty"),i=a._proto,s=a._scope;i.$split_words=function(e){return e.$to_s().$gsub(/_/," ")},i.$to_sentence=function(e){var n,r,a,i=this,s=t;return e===!1||e===t?"":(e=(n=(r=i.$Array(e)).$map,n._p=(a=function(e){var n=a._s||this;return null==e&&(e=t),n.$to_word(e)},a._s=i,a),n).call(r),function(){return s=e.$length(),0["$==="](s)?"":1["$==="](s)?" "+e["$[]"](0):2["$==="](s)?" "+e["$[]"](0)+" and "+e["$[]"](1):" "+e["$[]"](o(0,-1,!0)).$join(", ")+", and "+e["$[]"](-1)}())},i.$_pretty_print=function(e){var n,r,o,a=this,i=t;return i="",(n=(r=e).$each_with_index,n._p=(o=function(n,r){return o._s||this,null==n&&(n=t),null==r&&(r=t),r["$<"](e.$length()["$-"](2))?i["$<<"](""+n.$inspect()+", "):r["$<"](e.$length()["$-"](1))?i["$<<"](""+n.$inspect()+" and "):i["$<<"](""+n.$inspect())},o._s=a,o),n).call(r),i},i.$to_word=function(e){var n,r=this;return(n=r["$is_matcher_with_description?"](e))===t||n._isBoolean&&1!=n?e.$inspect():e.$description()},i.$name_to_sentence=function(){var e=this;return e.$split_words(e.$name())},i.$expected_to_sentence=function(){var e,n,r=this;return null==r.expected&&(r.expected=t),n=r.expected,(e=null!=n&&n!==t?"instance-variable":t)===t||e._isBoolean&&1!=e?t:r.$to_sentence(r.expected)},i.$name=function(){var e,n,r=this;return null==r.name&&(r.name=t),n=r.name,(e=null!=n&&n!==t?"instance-variable":t)===t||e._isBoolean&&1!=e?r.$underscore(r.$class().$name().$split("::").$last()):r.name},i.$underscore=function(e){var n=t;return n=e.$to_s().$dup(),n["$gsub!"](/([A-Z]+)([A-Z][a-z])/,"\\1_\\2"),n["$gsub!"](/([a-z\d])([A-Z])/,"\\1_\\2"),n["$tr!"]("-","_"),n["$downcase!"](),n},a.$private(),i["$is_matcher_with_description?"]=function(n){var r,o,a;return r=(null==(o=(null==(a=s.RSpec)?e.cm("RSpec"):a)._scope).Matchers?o.cm("Matchers"):o.Matchers)["$is_a_matcher?"](n),r!==!1&&r!==t?n["$respond_to?"]("description"):r},e.donate(a,["$split_words","$to_sentence","$_pretty_print","$to_word","$name_to_sentence","$expected_to_sentence","$name","$underscore","$is_matcher_with_description?"])}(a)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=e.slice,a=e.module,i=e.klass;return e.add_stubs(["$include","$attr_reader","$match","$expected","$empty?","$unshift","$===","$assert_ivars","$inspect","$name_to_sentence","$expected_to_sentence","$matches?","$private","$all?","$include?","$map","$to_proc","$instance_variables","$raise","$name","$class","$to_sentence"]),function(n){var s=a(n,"RSpec");s._proto,s._scope,function(n){var s=a(n,"Matchers");s._proto,s._scope,function(n){var s=a(n,"BuiltIn");s._proto,s._scope,function(n,$super){function a(){}var s,l,c,u,_=a=i(n,$super,"BaseMatcher",a),$=_._proto,p=_._scope;return $.actual=$.expected=t,_.$include(null==(s=(null==(l=(null==(c=p.RSpec)?e.cm("RSpec"):c)._scope).Matchers?l.cm("Matchers"):l.Matchers)._scope).Pretty?s.cm("Pretty"):s.Pretty),_.$attr_reader("actual","expected","rescued_exception"),$.$initialize=function(e){var n=this;return null==e&&(e=t),n.expected=e},$["$matches?"]=function(e){var n=this;return n.actual=e,n.$match(n.$expected(),e)},$.$match_unless_raises=u=function(n){var a,i=this,s=u._p,l=s||t;n=o.call(arguments,0),u._p=null,(a=n["$empty?"]())===t||a._isBoolean&&1!=a||n.$unshift(null==(a=p.Exception)?e.cm("Exception"):a);try{return e.$yieldX(l,[])===r?r.$v:!0}catch(c){if(n["$==="](c))return i.rescued_exception=c,!1;throw c}},$.$failure_message_for_should=function(){var e=this;return e.$assert_ivars("@actual","@expected"),"expected "+e.actual.$inspect()+" to "+e.$name_to_sentence()+e.$expected_to_sentence()},$.$failure_message_for_should_not=function(){var e=this;return e.$assert_ivars("@actual","@expected"),"expected "+e.actual.$inspect()+" not to "+e.$name_to_sentence()+e.$expected_to_sentence()},$.$description=function(){var e,n=this;return(e=n.$expected())===t||e._isBoolean&&1!=e?n.$name_to_sentence():""+n.$name_to_sentence()+" "+n.expected.$inspect()},$["$diffable?"]=function(){return!1},$["$=="]=function(e){var n=this;return n["$matches?"](e)},_.$private(),$.$assert_ivars=function(e){var n,r,a,i,s=this;return e=o.call(arguments,0),(n=(r=(a=e)["$all?"],r._p=(i=function(e){var n,r,o=i._s||this;return null==e&&(e=t),(n=(r=o.$instance_variables()).$map,n._p="intern".$to_proc(),n).call(r)["$include?"](e)},i._s=s,i),r).call(a))===t||n._isBoolean&&1!=n?s.$raise(""+s.$class().$name()+" needs to supply "+s.$to_sentence(e)):t},t}(s,null)}(s)}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$instance_of?","$expected"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Matchers");a._proto,a._scope,function(n){var a,i=r(n,"BuiltIn"),s=(i._proto,i._scope);!function(e,$super){function n(){}var r=n=o(e,$super,"BeAnInstanceOf",n),a=r._proto;return r._scope,a.$match=function(e,n){return n["$instance_of?"](e)},a.$description=function(){var e=this;return"be an instance of "+e.$expected()},t}(i,null==(a=s.BaseMatcher)?e.cm("BaseMatcher"):a)}(a)}(a)}(n)}(Opal),function(e){var n,t,r,o=e.top,a=e,i=e.nil,s=(e.breaker,e.slice),l=e.module;return e.add_stubs(["$define_method","$new","$matcher_execution_context=","$alias_method","$respond_to?","$configure","$extend"]),function(n){var t=l(n,"RSpec");t._proto,t._scope,function(n){var t=l(n,"Matchers");t._proto,t._scope,function(n){var t,r,o,a,c,u=l(n,"DSL"),_=u._proto,$=u._scope;_.$define=t=function(n){var r,o,a,l=this,c=t._p,u=c||i;return t._p=null,(r=(o=l).$define_method,r._p=(a=function(t){var r,o,l,c,_,p=a._s||this,d=i;return null==p.matcher_execution_context&&(p.matcher_execution_context=i),t=s.call(arguments,0),d=(r=null==(o=(null==(l=(null==(c=(null==(_=$.RSpec)?e.cm("RSpec"):_)._scope).Matchers?c.cm("Matchers"):c.Matchers)._scope).DSL?l.cm("DSL"):l.DSL)._scope).Matcher?o.cm("Matcher"):o.Matcher).$new.apply(r,[n,u].concat(t)),d["$matcher_execution_context="]((o=p.matcher_execution_context)!==!1&&o!==i?o:p.matcher_execution_context=p),d},a._s=l,a),r).call(o,n)},u.$alias_method("matcher","define"),(r=(null==(o=$.RSpec)?e.cm("RSpec"):o)["$respond_to?"]("configure"))===i||r._isBoolean&&1!=r||(r=(o=null==(c=$.RSpec)?e.cm("RSpec"):c).$configure,r._p=(a=function(e){var n=a._s||this;return null==e&&(e=i),e.$extend(n)},a._s=u,a),r).call(o),e.donate(u,["$define"])}(t)}(t)}(o),(null==(n=(null==(t=a.RSpec)?e.cm("RSpec"):t)._scope).Matchers?n.cm("Matchers"):n.Matchers).$extend(null==(n=(null==(t=(null==(r=a.RSpec)?e.cm("RSpec"):r)._scope).Matchers?t.cm("Matchers"):t.Matchers)._scope).DSL?n.cm("DSL"):n.DSL)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass;return e.add_stubs(["$!","$inspect","$actual","$nil?","$private","$empty?","$parenthesize","$join","$inspected_args","$collect","$split_words","$to_sentence","$include","$each","$define_method","$new","$__send__","$gsub","$to_s","$negative_expectation_expression","$raise","$<<","$include?","$expected_to_sentence","$args_to_sentence","$negative_expression","$parse_expected","$shift","$is_private_on?","$predicate","$to_proc","$===","$present_tense_predicate","$args_to_s","$prefix_to_sentence","$is_a?","$first","$methods","$private_methods","$to_sym","$prefix_and_expected","$=~"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Matchers");i._proto,i._scope,function(n){var i,s=o(n,"BuiltIn"),l=(s._proto,s._scope);!function(e,$super){function n(){}var r=n=a(e,$super,"BeTruthy",n),o=r._proto;return r._scope,o.$match=function(e,n){return n["$!"]()["$!"]()},o.$failure_message_for_should=function(){var e=this;return"expected: truthy value\n     got: "+e.$actual().$inspect()},o.$failure_message_for_should_not=function(){var e=this;return"expected: falsey value\n     got: "+e.$actual().$inspect()},t}(s,null==(i=l.BaseMatcher)?e.cm("BaseMatcher"):i),function(e,$super){function n(){}var r=n=a(e,$super,"BeFalsey",n),o=r._proto;return r._scope,o.$match=function(e,n){return n["$!"]()},o.$failure_message_for_should=function(){var e=this;return"expected: falsey value\n     got: "+e.$actual().$inspect()},o.$failure_message_for_should_not=function(){var e=this;return"expected: truthy value\n     got: "+e.$actual().$inspect()},t}(s,null==(i=l.BaseMatcher)?e.cm("BaseMatcher"):i),function(e,$super){function n(){}var r=n=a(e,$super,"BeNil",n),o=r._proto;return r._scope,o.$match=function(e,n){return n["$nil?"]()},o.$failure_message_for_should=function(){var e=this;return"expected: nil\n     got: "+e.$actual().$inspect()},o.$failure_message_for_should_not=function(){return"expected: not nil\n     got: nil"},t}(s,null==(i=l.BaseMatcher)?e.cm("BaseMatcher"):i),function(n){var r=o(n,"BeHelpers"),a=r._proto;r._scope,r.$private(),a.$args_to_s=function(){var e,n=this;return null==n.args&&(n.args=t),(e=n.args["$empty?"]())===t||e._isBoolean&&1!=e?n.$parenthesize(n.$inspected_args().$join(", ")):""},a.$parenthesize=function(e){return"("+e+")"},a.$inspected_args=function(){var e,n,r,o=this;return null==o.args&&(o.args=t),(e=(n=o.args).$collect,e._p=(r=function(e){return r._s||this,null==e&&(e=t),e.$inspect()},r._s=o,r),e).call(n)},a.$expected_to_sentence=function(){var e=this;return null==e.expected&&(e.expected=t),e.$split_words(e.expected)},a.$args_to_sentence=function(){var e=this;return null==e.args&&(e.args=t),e.$to_sentence(e.args)},e.donate(r,["$args_to_s","$parenthesize","$inspected_args","$expected_to_sentence","$args_to_sentence"])}(s),function(n,$super){function o(){}var i,s,l,c,u=o=a(n,$super,"Be",o),_=u._proto,$=u._scope;return _.actual=t,u.$include(null==(i=$.BeHelpers)?e.cm("BeHelpers"):i),_.$initialize=s=function(e){var n=this;return s._p,e=r.call(arguments,0),s._p=null,n.args=e},_.$match=function(e,n){return n["$!"]()["$!"]()},_.$failure_message_for_should=function(){var e=this;return"expected "+e.actual.$inspect()+" to evaluate to true"},_.$failure_message_for_should_not=function(){var e=this;return"expected "+e.actual.$inspect()+" to evaluate to false"},(i=(l=["==","<","<=",">=",">","===","=~"]).$each,i._p=(c=function(n){var r,o,a,i=c._s||this;return null==n&&(n=t),(r=(o=i).$define_method,r._p=(a=function(r){var o;return a._s||this,null==r&&(r=t),(null==(o=$.BeComparedTo)?e.cm("BeComparedTo"):o).$new(r,n)},a._s=i,a),r).call(o,n)},c._s=u,c),i).call(l)}(s,null==(i=l.BaseMatcher)?e.cm("BaseMatcher"):i),function(n,$super){function r(){}var o=r=a(n,$super,"BeComparedTo",r),i=o._proto,s=o._scope;return i.actual=i.operator=i.expected=t,i.$initialize=function(e,n){var t,r=this;return t=[e,n],r.expected=t[0],r.operator=t[1],r.args=[]},i["$matches?"]=function(e){var n=this;return n.actual=e,n.actual.$__send__(n.operator,n.expected)},i.$failure_message_for_should=function(){var e=this;return"expected: "+e.operator+" "+e.expected.$inspect()+"\n     got: "+e.operator.$to_s().$gsub(/./," ")+" "+e.actual.$inspect()},i.$failure_message_for_should_not=function(){var e,n=this,r=t;return r="`"+n.$negative_expectation_expression()+"` not only FAILED,\nit is a bit confusing.\n",n.$raise(r["$<<"](function(){return(e=["===","=="]["$include?"](n.operator))===t||e._isBoolean&&1!=e?"It might be more clearly expressed in the positive?":'It might be more clearly expressed without the "be"?'}()))},i.$description=function(){var e=this;return"be "+e.operator+" "+e.$expected_to_sentence()+e.$args_to_sentence()},i.$negative_expectation_expression=function(){var n,t,r=this;return(null==(n=(null==(t=s.Expectations)?e.cm("Expectations"):t)._scope).Syntax?n.cm("Syntax"):n.Syntax).$negative_expression("actual","be "+r.operator+" "+r.expected)},t}(s,null==(i=l.Be)?e.cm("Be"):i),function(n,$super){function o(){}var i,s,l,c=o=a(n,$super,"BePredicate",o),u=c._proto,_=c._scope;return u.actual=u.block=u.args=u.result=u.expected=u.prefix=t,c.$include(null==(i=_.BeHelpers)?e.cm("BeHelpers"):i),u.$initialize=s=function(e){var n=this,o=s._p,a=o||t;return e=r.call(arguments,0),s._p=null,n.expected=n.$parse_expected(e.$shift()),n.args=e,n.block=a},u["$matches?"]=function(n){var r,o,a,i=this,s=t;i.actual=n,(r=i["$is_private_on?"](i.actual))===t||r._isBoolean&&1!=r||i.$raise((null==(r=(null==(o=_.Expectations)?e.cm("Expectations"):o)._scope).ExpectationNotMetError?r.cm("ExpectationNotMetError"):r.ExpectationNotMetError).$new("expectation set on private method `"+i.$predicate()+"`"));try{return i.result=(r=(o=n).$__send__,r._p=i.block.$to_proc(),r).apply(o,[i.$predicate()].concat(i.args))}catch(l){if(!(null==(r=_.NameError)?e.cm("NameError"):r)["$==="](l))throw l;s=l}try{return i.result=(r=(a=n).$__send__,r._p=i.block.$to_proc(),r).apply(a,[i.$present_tense_predicate()].concat(i.args))}catch(l){if((null==(r=_.NameError)?e.cm("NameError"):r)["$==="](l))return i.$raise(s);throw l}},e.defn(c,"$===",u["$matches?"]),u.$failure_message_for_should=function(){var e=this;return"expected "+e.$predicate()+e.$args_to_s()+" to return true, got "+e.result.$inspect()},u.$failure_message_for_should_not=function(){var e=this;return"expected "+e.$predicate()+e.$args_to_s()+" to return false, got "+e.result.$inspect()},u.$description=function(){var e=this;return""+e.$prefix_to_sentence()+e.$expected_to_sentence()+e.$args_to_sentence()},c.$private(),u["$is_private_on?"]=(i=c.$methods().$first()["$is_a?"](null==(l=_.String)?e.cm("String"):l))===t||i._isBoolean&&1!=i?function(e){var n=this;return e.$private_methods()["$include?"](n.$predicate())}:function(e){var n=this;return e.$private_methods()["$include?"](n.$predicate().$to_s())},u.$predicate=function(){var e=this;return(""+e.expected+"?").$to_sym()},u.$present_tense_predicate=function(){var e=this;return(""+e.expected+"s?").$to_sym()},u.$parse_expected=function(n){var r,o=this;return r=e.to_ary(o.$prefix_and_expected(n)),o.prefix=null==r[0]?t:r[0],n=null==r[1]?t:r[1],n},u.$prefix_and_expected=function(e){return e.$to_s()["$=~"](/^(be_(an?_)?)(.*)/),[t,t]},u.$prefix_to_sentence=function(){var e=this;return e.$split_words(e.prefix)},t}(s,null==(i=l.BaseMatcher)?e.cm("BaseMatcher"):i)}(i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$kind_of?"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Matchers");a._proto,a._scope,function(n){var a,i=r(n,"BuiltIn"),s=(i._proto,i._scope);!function(e,$super){function n(){}var r=n=o(e,$super,"BeAKindOf",n),a=r._proto;return r._scope,a.$match=function(e,n){return n["$kind_of?"](e)},t}(i,null==(a=s.BaseMatcher)?e.cm("BaseMatcher"):a)}(a)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$raise","$needs_expected","$respond_to?","$needs_subtractable","$<=","$abs","$-","$/","$*","$description","$private","$new","$inspect"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Matchers");a._proto,a._scope,function(n){var a=r(n,"BuiltIn");a._proto,a._scope,function(n,$super){function r(){}var a=r=o(n,$super,"BeWithin",r),i=a._proto,s=a._scope;return i.actual=i.expected=i.tolerance=i.delta=i.unit=t,i.$initialize=function(e){var n=this;return n.delta=e},i["$matches?"]=function(e){var n,r,o=this;return o.actual=e,r=o.expected,((n=null!=r&&r!==t?"instance-variable":t)===t||n._isBoolean&&1!=n)&&o.$raise(o.$needs_expected()),((n=o.actual["$respond_to?"]("-"))===t||n._isBoolean&&1!=n)&&o.$raise(o.$needs_subtractable()),o.actual["$-"](o.expected).$abs()["$<="](o.tolerance)},e.defn(a,"$==",i["$matches?"]),i.$of=function(e){var n=this;return n.expected=e,n.tolerance=n.delta,n.unit="",n},i.$percent_of=function(e){var n=this;return n.expected=e,n.tolerance=n.delta["$*"](n.expected.$abs())["$/"](100),n.unit="%",n},i.$failure_message_for_should=function(){var e=this;return"expected "+e.actual+" to "+e.$description()},i.$failure_message_for_should_not=function(){var e=this;return"expected "+e.actual+" not to "+e.$description()},i.$description=function(){var e=this;return"be within "+e.delta+e.unit+" of "+e.expected},a.$private(),i.$needs_subtractable=function(){var n,t=this;return(null==(n=s.ArgumentError)?e.cm("ArgumentError"):n).$new("The actual value ("+t.actual.$inspect()+") must respond to `-`")},i.$needs_expected=function(){var n,t=this;return(null==(n=s.ArgumentError)?e.cm("ArgumentError"):n).$new("You must set an expected value using #of: be_within("+t.delta+").of(expected_value)")},t}(a,null)}(a)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$lambda","$__send__","$raise_block_syntax_error","$evaluate_value_proc","$call","$!","$change_expected?","$changed?","$matches_before?","$matches_after?","$matches_expected_delta?","$matches_min?","$matches_max?","$raise","$new","$===","$dup","$expected_matches_actual?","$message","$inspect","$failure_message_for_expected_after","$actual_delta","$-","$private","$is_a_matcher?","$description","$==","$+","$>=","$<="]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Matchers");a._proto,a._scope,function(n){var a=r(n,"BuiltIn");a._proto,a._scope,function(n,$super){function r(){}var a,i,s=r=o(n,$super,"Change",r),l=s._proto,c=s._scope;return l.value_proc=l.eval_before=l.expected_before=l.actual_before=l.eval_after=l.expected_after=l.actual_after=l.expected_delta=l.minimum=l.maximum=l.message=t,l.$initialize=a=function(e,n){var r,o,i,s,l=this,c=a._p,u=c||t;return null==e&&(e=t),null==n&&(n=t),a._p=null,l.message=n,l.value_proc=(r=u)!==!1&&r!==t?r:(o=(i=l).$lambda,o._p=(s=function(){return s._s||this,e.$__send__(n)},s._s=l,s),o).call(i),l.expected_after=l.expected_before=l.minimum=l.maximum=l.expected_delta=t,l.eval_before=l.eval_after=!1},l["$matches?"]=i=function(e){var n,r,o,a,s,l,c=this,u=i._p,_=u||t;return i._p=null,_!==t&&c.$raise_block_syntax_error(),c.actual_before=c.$evaluate_value_proc(),e.$call(),c.actual_after=c.$evaluate_value_proc(),s=(l=c["$change_expected?"]()["$!"]())!==!1&&l!==t?l:c["$changed?"](),a=s!==!1&&s!==t?c["$matches_before?"]():s,o=a!==!1&&a!==t?c["$matches_after?"]():a,r=o!==!1&&o!==t?c["$matches_expected_delta?"]():o,n=r!==!1&&r!==t?c["$matches_min?"]():r,n!==!1&&n!==t?c["$matches_max?"]():n},e.defn(s,"$==",l["$matches?"]),l.$raise_block_syntax_error=function(){var n,t=this;return t.$raise((null==(n=c.SyntaxError)?e.cm("SyntaxError"):n).$new("block passed to should or should_not change must use {} instead of do/end\n"))},l.$evaluate_value_proc=function(){var n,r=this,o=t,a=t;return function(){return o=a=r.value_proc.$call(),(null==(n=c.Enumerable)?e.cm("Enumerable"):n)["$==="](o)||(null==(n=c.String)?e.cm("String"):n)["$==="](o)?a.$dup():a}()},l.$failure_message_for_should=function(){var e,n,r=this;return n=r.eval_before,(e=n!==!1&&n!==t?r["$expected_matches_actual?"](r.expected_before,r.actual_before)["$!"]():n)===t||e._isBoolean&&1!=e?(n=r.eval_after,(e=n!==!1&&n!==t?r["$expected_matches_actual?"](r.expected_after,r.actual_after)["$!"]():n)===t||e._isBoolean&&1!=e?(e=r.expected_delta)===t||e._isBoolean&&1!=e?(e=r.minimum)===t||e._isBoolean&&1!=e?(e=r.maximum)===t||e._isBoolean&&1!=e?""+r.$message()+" should have changed, but is still "+r.actual_before.$inspect():""+r.$message()+" should have been changed by at most "+r.maximum.$inspect()+", but was changed by "+r.$actual_delta().$inspect():""+r.$message()+" should have been changed by at least "+r.minimum.$inspect()+", but was changed by "+r.$actual_delta().$inspect():""+r.$message()+" should have been changed by "+r.expected_delta.$inspect()+", but was changed by "+r.$actual_delta().$inspect():""+r.$message()+" should have been changed to "+r.$failure_message_for_expected_after()+", but is now "+r.actual_after.$inspect()):""+r.$message()+" should have initially been "+r.expected_before.$inspect()+", but was "+r.actual_before.$inspect()},l.$actual_delta=function(){var e=this;return e.actual_after["$-"](e.actual_before)},l.$failure_message_for_should_not=function(){var e=this;return""+e.$message()+" should not have changed, but did change from "+e.actual_before.$inspect()+" to "+e.actual_after.$inspect()},l.$by=function(e){var n=this;return n.expected_delta=e,n},l.$by_at_least=function(e){var n=this;return n.minimum=e,n},l.$by_at_most=function(e){var n=this;return n.maximum=e,n},l.$to=function(e){var n=this;return n.eval_after=!0,n.expected_after=e,n},l.$from=function(e){var n=this;return n.eval_before=!0,n.expected_before=e,n},l.$description=function(){var e=this;return"change #"+e.$message()},s.$private(),l.$failure_message_for_expected_after=function(){var n,r,o,a=this;return(n=(null==(r=(null==(o=c.RSpec)?e.cm("RSpec"):o)._scope).Matchers?r.cm("Matchers"):r.Matchers)["$is_a_matcher?"](a.expected_after))===t||n._isBoolean&&1!=n?a.expected_after.$inspect():a.expected_after.$description()},l.$message=function(){var e,n=this;return(e=n.message)!==!1&&e!==t?e:"result"},l["$change_expected?"]=function(){var e=this;return e.expected_delta["$=="](0)["$!"]()},l["$changed?"]=function(){var e=this;return e.actual_before["$=="](e.actual_after)["$!"]()},l["$matches_before?"]=function(){var e,n=this;return(e=n.eval_before)===t||e._isBoolean&&1!=e?!0:n["$expected_matches_actual?"](n.expected_before,n.actual_before)},l["$matches_after?"]=function(){var e,n=this;return(e=n.eval_after)===t||e._isBoolean&&1!=e?!0:n["$expected_matches_actual?"](n.expected_after,n.actual_after)},l["$matches_expected_delta?"]=function(){var e,n=this;return(e=n.expected_delta)===t||e._isBoolean&&1!=e?!0:n.actual_before["$+"](n.expected_delta)["$=="](n.actual_after)},l["$matches_min?"]=function(){var e,n=this;return(e=n.minimum)===t||e._isBoolean&&1!=e?!0:n.actual_after["$-"](n.actual_before)["$>="](n.minimum)},l["$matches_max?"]=function(){var e,n=this;return(e=n.maximum)===t||e._isBoolean&&1!=e?!0:n.actual_after["$-"](n.actual_before)["$<="](n.maximum)},l["$expected_matches_actual?"]=function(e,n){var r;return(r=e["$==="](n))!==!1&&r!==t?r:n["$=="](e)},t}(a,null)}(a)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass;return e.add_stubs(["$all?","$cover?","$none?","$expected"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Matchers");i._proto,i._scope,function(n){var i,s=o(n,"BuiltIn"),l=(s._proto,s._scope);!function(e,$super){function n(){}var o=n=a(e,$super,"Cover",n),i=o._proto;return o._scope,i.expected=t,i.$initialize=function(e){var n=this;return e=r.call(arguments,0),n.expected=e},i["$matches?"]=function(e){var n,r,o,a=this;return a.actual=e,(n=(r=a.expected)["$all?"],n._p=(o=function(n){return o._s||this,null==n&&(n=t),e["$cover?"](n)},o._s=a,o),n).call(r)},i["$does_not_match?"]=function(e){var n,r,o,a=this;return a.actual=e,(n=(r=a.$expected())["$none?"],n._p=(o=function(n){return o._s||this,null==n&&(n=t),e["$cover?"](n)},o._s=a,o),n).call(r)},t}(s,null==(i=l.BaseMatcher)?e.cm("BaseMatcher"):i)}(i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$==","$inspect","$expected","$actual"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Matchers");a._proto,a._scope,function(n){var a,i=r(n,"BuiltIn"),s=(i._proto,i._scope);!function(e,$super){function n(){}var r=n=o(e,$super,"Eq",n),a=r._proto;return r._scope,a.$match=function(e,n){return n["$=="](e)},a.$failure_message_for_should=function(){var e=this;return"\nexpected: "+e.$expected().$inspect()+"\n     got: "+e.$actual().$inspect()+"\n\n(compared using ==)\n"},a.$failure_message_for_should_not=function(){var e=this;return"\nexpected: value != "+e.$expected().$inspect()+"\n     got: "+e.$actual().$inspect()+"\n\n(compared using ==)\n"},a["$diffable?"]=function(){return!0},t}(i,null==(a=s.BaseMatcher)?e.cm("BaseMatcher"):a)}(a)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$eql?","$inspect","$expected","$actual"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Matchers");a._proto,a._scope,function(n){var a,i=r(n,"BuiltIn"),s=(i._proto,i._scope);!function(e,$super){function n(){}var r=n=o(e,$super,"Eql",n),a=r._proto;return r._scope,a.$match=function(e,n){return n["$eql?"](e)},a.$failure_message_for_should=function(){var e=this;return"\nexpected: "+e.$expected().$inspect()+"\n     got: "+e.$actual().$inspect()+"\n\n(compared using eql?)\n"},a.$failure_message_for_should_not=function(){var e=this;return"\nexpected: value != "+e.$expected().$inspect()+"\n     got: "+e.$actual().$inspect()+"\n\n(compared using eql?)\n"},a["$diffable?"]=function(){return!0},t}(i,null==(a=s.BaseMatcher)?e.cm("BaseMatcher"):a)}(a)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$equal?","$inspect_object","$expected","$actual","$eq_expression","$private","$class","$object_id","$inspect","$positive_expression"]),function(n){var a=r(n,"RSpec");
a._proto,a._scope,function(n){var a=r(n,"Matchers");a._proto,a._scope,function(n){var a,i=r(n,"BuiltIn"),s=(i._proto,i._scope);!function(n,$super){function r(){}var a=r=o(n,$super,"Equal",r),i=a._proto,s=a._scope;return i.$match=function(e,n){return n["$equal?"](e)},i.$failure_message_for_should=function(){var e=this;return"\nexpected "+e.$inspect_object(e.$expected())+"\n     got "+e.$inspect_object(e.$actual())+"\n\nCompared using equal?, which compares object identity,\nbut expected and actual are not the same object. Use\n`"+e.$eq_expression()+"` if you don't care about\nobject identity in this example.\n\n"},i.$failure_message_for_should_not=function(){var e=this;return"\nexpected not "+e.$inspect_object(e.$actual())+"\n         got "+e.$inspect_object(e.$expected())+"\n\nCompared using equal?, which compares object identity.\n\n"},i["$diffable?"]=function(){return!0},a.$private(),i.$inspect_object=function(e){return"#<"+e.$class()+":"+e.$object_id()+"> => "+e.$inspect()},i.$eq_expression=function(){var n,t;return(null==(n=(null==(t=s.Expectations)?e.cm("Expectations"):t)._scope).Syntax?n.cm("Syntax"):n.Syntax).$positive_expression("actual","eq(expected)")},t}(i,null==(a=s.BaseMatcher)?e.cm("BaseMatcher"):a)}(a)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass;return e.add_stubs(["$select","$respond_to?","$map","$__send__","$uniq","$!","$size","$===","$raise","$new","$inspect","$first","$+","$last"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Matchers");i._proto,i._scope,function(n){var i,s=o(n,"BuiltIn"),l=(s._proto,s._scope);!function(n,$super){function o(){}var i=o=a(n,$super,"Exist",o),s=i._proto,l=i._scope;return s.actual=t,s.$initialize=function(e){var n=this;return e=r.call(arguments,0),n.expected=e},s["$matches?"]=function(n){var r,o,a,i,s,c,u,_=this,$=t,p=t,d=t,f=t;return _.actual=n,$=(r=(o=["exist?","exists?"]).$select,r._p=(a=function(e){var n=a._s||this;return null==n.actual&&(n.actual=t),null==e&&(e=t),n.actual["$respond_to?"](e)},a._s=_,a),r).call(o),p=(r=(i=$).$map,r._p=(s=function(e){var n,r=s._s||this;return null==r.actual&&(r.actual=t),null==r.expected&&(r.expected=t),null==e&&(e=t),(n=r.actual).$__send__.apply(n,[e].concat(r.expected))},s._s=_,s),r).call(i),d=(r=(c=p).$map,r._p=(u=function(e){return u._s||this,null==e&&(e=t),e["$!"]()["$!"]()},u._s=_,u),r).call(c).$uniq(),function(){return f=d.$size(),0["$==="](f)?_.$raise((null==(r=l.NoMethodError)?e.cm("NoMethodError"):r).$new(""+_.actual.$inspect()+" does not respond to either #exist? or #exists?")):1["$==="](f)?p.$first():_.$raise("#exist? and #exists? returned different values:\n\n"["$+"](" exist?: "+p.$first()+"\n")["$+"]("exists?: "+p.$last()))}()},t}(s,null==(i=l.BaseMatcher)?e.cm("BaseMatcher"):i)}(i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass;return e.add_stubs(["$__send__","$predicate","$failure_message_args_description","$join","$compact","$method_description","$args_description","$private","$to_sym","$sub","$to_s","$gsub","$empty?","$map","$inspect"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Matchers");i._proto,i._scope,function(n){var i=o(n,"BuiltIn");i._proto,i._scope,function(n,$super){function o(){}var i=o=a(n,$super,"Has",o),s=i._proto;return i._scope,s.expected=s.args=t,s.$initialize=function(e,n){var t,o=this;return n=r.call(arguments,1),t=[e,n],o.expected=t[0],o.args=t[1]},s["$matches?"]=function(e){var n,t=this;return(n=e).$__send__.apply(n,[t.$predicate(t.expected)].concat(t.args))},e.defn(i,"$==",s["$matches?"]),s.$failure_message_for_should=function(){var e=this;return"expected #"+e.$predicate(e.expected)+e.$failure_message_args_description()+" to return true, got false"},s.$failure_message_for_should_not=function(){var e=this;return"expected #"+e.$predicate(e.expected)+e.$failure_message_args_description()+" to return false, got true"},s.$description=function(){var e=this;return[e.$method_description(e.expected),e.$args_description()].$compact().$join(" ")},i.$private(),s.$predicate=function(e){return(""+e.$to_s().$sub("have_","has_")+"?").$to_sym()},s.$method_description=function(e){return e.$to_s().$gsub("_"," ")},s.$args_description=function(){var e,n,r,o=this;return(e=o.args["$empty?"]())===t||e._isBoolean&&1!=e?(e=(n=o.args).$map,e._p=(r=function(e){return r._s||this,null==e&&(e=t),e.$inspect()},r._s=o,r),e).call(n).$join(", "):t},s.$failure_message_args_description=function(){var e=this,n=t;return n=e.$args_description(),n!==!1&&n!==t?"("+n+")":t},t}(i,null)}(i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass;return e.add_stubs(["$perform_match","$expected_to_sentence","$none?","$is_a_matcher?","$private","$__send__","$comparing_hash_values?","$has_key?","$==","$[]","$comparing_hash_keys?","$comparing_with_matcher?","$actual","$any?","$matches?","$include?","$is_a?","$!"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Matchers");i._proto,i._scope,function(n){var i,s=o(n,"BuiltIn"),l=(s._proto,s._scope);!function(n,$super){function o(){}var i=o=a(n,$super,"Include",o),s=i._proto,l=i._scope;return s.actual=s.expected=t,s.$initialize=function(e){var n=this;return e=r.call(arguments,0),n.expected=e},s["$matches?"]=function(e){var n=this;return n.actual=e,n.$perform_match("all?","all?",n.actual,n.expected)},s["$does_not_match?"]=function(e){var n=this;return n.actual=e,n.$perform_match("none?","any?",n.actual,n.expected)},s.$description=function(){var e=this;return"include"+e.$expected_to_sentence()},s["$diffable?"]=function(){var n,r,o,a=this;return(n=(r=a.expected)["$none?"],n._p=(o=function(n){var r,a;return o._s||this,null==n&&(n=t),(null==(r=(null==(a=l.RSpec)?e.cm("RSpec"):a)._scope).Matchers?r.cm("Matchers"):r.Matchers)["$is_a_matcher?"](n)},o._s=a,o),n).call(r)},i.$private(),s.$perform_match=function(e,n,r,o){var a,i,s,l=this;return(a=(i=o).$__send__,a._p=(s=function(e){var o,a,i,l,c,u=s._s||this;return null==e&&(e=t),(o=u["$comparing_hash_values?"](r,e))===t||o._isBoolean&&1!=o?(o=u["$comparing_hash_keys?"](r,e))===t||o._isBoolean&&1!=o?(o=u["$comparing_with_matcher?"](u.$actual(),e))===t||o._isBoolean&&1!=o?r["$include?"](e):(o=(l=u.$actual())["$any?"],o._p=(c=function(n){return c._s||this,null==n&&(n=t),e["$matches?"](n)},c._s=u,c),o).call(l):r["$has_key?"](e):(o=(a=e).$__send__,o._p=(i=function(e,n){var o;return i._s||this,null==e&&(e=t),null==n&&(n=t),o=r["$has_key?"](e),o!==!1&&o!==t?r["$[]"](e)["$=="](n):o},i._s=u,i),o).call(a,n)},s._s=l,s),a).call(i,e)},s["$comparing_hash_keys?"]=function(n,r){var o,a;return o=n["$is_a?"](null==(a=l.Hash)?e.cm("Hash"):a),o!==!1&&o!==t?r["$is_a?"](null==(a=l.Hash)?e.cm("Hash"):a)["$!"]():o},s["$comparing_hash_values?"]=function(n,r){var o,a;return o=n["$is_a?"](null==(a=l.Hash)?e.cm("Hash"):a),o!==!1&&o!==t?r["$is_a?"](null==(a=l.Hash)?e.cm("Hash"):a):o},s["$comparing_with_matcher?"]=function(n,r){var o,a,i;return o=n["$is_a?"](null==(a=l.Array)?e.cm("Array"):a),o!==!1&&o!==t?(null==(a=(null==(i=l.RSpec)?e.cm("RSpec"):i)._scope).Matchers?a.cm("Matchers"):a.Matchers)["$is_a_matcher?"](r):o},t}(s,null==(i=l.BaseMatcher)?e.cm("BaseMatcher"):i)}(i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$match"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Matchers");a._proto,a._scope,function(n){var a,i=r(n,"BuiltIn"),s=(i._proto,i._scope);!function(e,$super){function n(){}var r=n=o(e,$super,"Match",n),a=r._proto;return r._scope,a.$match=function(e,n){return n.$match(e)},a["$diffable?"]=function(){return!0},t}(i,null==(a=s.BaseMatcher)?e.cm("BaseMatcher"):a)}(a)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$respond_to?","$difference_between_arrays","$&","$empty?","$actual","$inspect","$safe_sort","$expected","$+","$_pretty_print","$private","$sort","$dup","$to_ary","$each","$index","$delete_at"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Matchers");a._proto,a._scope,function(n){var a,i=r(n,"BuiltIn"),s=(i._proto,i._scope);!function(e,$super){function n(){}var r=n=o(e,$super,"MatchArray",n),a=r._proto;return r._scope,a.extra_items=a.missing_items=t,a.$match=function(e,n){var r,o=this;return(r=n["$respond_to?"]("to_ary"))===t||r._isBoolean&&1!=r?!1:(o.extra_items=o.$difference_between_arrays(n,e),o.missing_items=o.$difference_between_arrays(e,n),o.extra_items["$empty?"]()["$&"](o.missing_items["$empty?"]()))},a.$failure_message_for_should=function(){var e,n=this,r=t;return(e=n.$actual()["$respond_to?"]("to_ary"))===t||e._isBoolean&&1!=e?r="expected an array, actual collection was "+n.$actual().$inspect():(r="expected collection contained:  "+n.$safe_sort(n.$expected()).$inspect()+"\n",r=r["$+"]("actual collection contained:    "+n.$safe_sort(n.$actual()).$inspect()+"\n"),((e=n.missing_items["$empty?"]())===t||e._isBoolean&&1!=e)&&(r=r["$+"]("the missing elements were:      "+n.$safe_sort(n.missing_items).$inspect()+"\n")),((e=n.extra_items["$empty?"]())===t||e._isBoolean&&1!=e)&&(r=r["$+"]("the extra elements were:        "+n.$safe_sort(n.extra_items).$inspect()+"\n"))),r},a.$failure_message_for_should_not=function(){return"Matcher does not support should_not"},a.$description=function(){var e=this;return"contain exactly "+e.$_pretty_print(e.$expected())},r.$private(),a.$safe_sort=function(e){try{return e.$sort()}catch(n){return e}},a.$difference_between_arrays=function(e,n){var r,o,a,i=this,s=t;return s=e.$to_ary().$dup(),(r=(o=n.$to_ary()).$each,r._p=(a=function(e){var n,r=(a._s||this,t);return null==e&&(e=t),(n=r=s.$index(e))===t||n._isBoolean&&1!=n?t:s.$delete_at(r)},a._s=i,a),r).call(o),s},t}(i,null==(a=s.BaseMatcher)?e.cm("BaseMatcher"):a)}(a)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$===","$raise_message_already_set","$respond_to?","$warn","$inspect","$call","$==","$verify_message","$eval_block","$expectation_matched?","$error_and_message_match?","$block_matches?","$prevent_invalid_expectations","$!","$matches?","$[]","$=~","$message","$expected_error","$given_error","$private","$expecting_specific_exception?","$new","$raise","$backtrace_formatter","$configuration","$format_backtrace","$backtrace","$join"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Matchers");a._proto,a._scope,function(n){var a=r(n,"BuiltIn");a._proto,a._scope,function(n,$super){function r(){}var a,i,s=r=o(n,$super,"RaiseError",r),l=s._proto,c=s._scope;return l.expected_message=l.block=l.actual_error=l.expected_error=l.raised_expected_error=l.with_expected_message=l.eval_block=l.eval_block_passed=t,l.$initialize=a=function(n,r){var o,i,s=this,l=a._p,u=l||t,_=t;return null==n&&(n=null==(o=c.Exception)?e.cm("Exception"):o),null==r&&(r=t),a._p=null,s.block=u,s.actual_error=t,function(){return _=n,(null==(o=c.String)?e.cm("String"):o)["$==="](_)||(null==(o=c.Regexp)?e.cm("Regexp"):o)["$==="](_)?(o=[null==(i=c.Exception)?e.cm("Exception"):i,n],s.expected_error=o[0],s.expected_message=o[1]):(o=[n,r],s.expected_error=o[0],s.expected_message=o[1])}()},l.$with_message=function(e){var n,r=this;return(n=r.expected_message)===t||n._isBoolean&&1!=n||r.$raise_message_already_set(),r.expected_message=e,r},l["$matches?"]=i=function(n,r){var o,a,s,l=this,u=i._p,_=u||t;if(null==r&&(r=!1),i._p=null,(o=l.block)!==!1&&o!==t?o:l.block=_,l.raised_expected_error=!1,l.with_expected_message=!1,l.eval_block=!1,l.eval_block_passed=!1,(o=n["$respond_to?"]("call"))===t||o._isBoolean&&1!=o)return(null==(o=e.Object._scope.Kernel)?e.cm("Kernel"):o).$warn("`raise_error` was called with non-proc object "+n.$inspect()),!1;try{n.$call()}catch($){if(!(null==(o=c.Exception)?e.cm("Exception"):o)["$==="]($))throw $;l.actual_error=$,(o=(a=l.actual_error["$=="](l.expected_error))!==!1&&a!==t?a:l.expected_error["$==="](l.actual_error))===t||o._isBoolean&&1!=o||(l.raised_expected_error=!0,l.with_expected_message=l.$verify_message())}return r!==!1&&r!==t||(s=l.raised_expected_error,a=s!==!1&&s!==t?l.with_expected_message:s,(o=a!==!1&&a!==t?l.block:a)===t||o._isBoolean&&1!=o||l.$eval_block()),l["$expectation_matched?"]()},e.defn(s,"$==",l["$matches?"]),l["$expectation_matched?"]=function(){var e,n=this;return e=n["$error_and_message_match?"](),e!==!1&&e!==t?n["$block_matches?"]():e},l["$error_and_message_match?"]=function(){var e,n=this;return e=n.raised_expected_error,e!==!1&&e!==t?n.with_expected_message:e},l["$block_matches?"]=function(){var e,n=this;return(e=n.eval_block)===t||e._isBoolean&&1!=e?!0:n.eval_block_passed},l["$does_not_match?"]=function(e){var n=this;return n.$prevent_invalid_expectations(),n["$matches?"](e,"negative_expectation")["$!"]()},l.$eval_block=function(){var n,r=this,o=t;r.eval_block=!0;try{return r.block["$[]"](r.actual_error),r.eval_block_passed=!0}catch(a){if((null==(n=c.Exception)?e.cm("Exception"):n)["$==="](a))return o=a,r.actual_error=o;throw a}},l.$verify_message=function(){var n,r=this,o=t;return function(){return o=r.expected_message,t["$==="](o)?!0:(null==(n=c.Regexp)?e.cm("Regexp"):n)["$==="](o)?r.expected_message["$=~"](r.actual_error.$message()):r.expected_message["$=="](r.actual_error.$message())}()},l.$failure_message_for_should=function(){var e,n=this;return(e=n.eval_block)===t||e._isBoolean&&1!=e?"expected "+n.$expected_error()+n.$given_error():n.actual_error.$message()},l.$failure_message_for_should_not=function(){var e=this;return"expected no "+e.$expected_error()+e.$given_error()},l.$description=function(){var e=this;return"raise "+e.$expected_error()},s.$private(),l.$prevent_invalid_expectations=function(){var n,r,o=this,a=t,i=t;return(n=(r=o["$expecting_specific_exception?"]())!==!1&&r!==t?r:o.expected_message)===t||n._isBoolean&&1!=n?t:(a=function(){return r=o["$expecting_specific_exception?"](),(n=r!==!1&&r!==t?o.expected_message:r)===t||n._isBoolean&&1!=n?(n=o["$expecting_specific_exception?"]())===t||n._isBoolean&&1!=n?(n=o.expected_message)===t||n._isBoolean&&1!=n?t:"`expect { }.not_to raise_error(message)`":"`expect { }.not_to raise_error(SpecificErrorClass)`":"`expect { }.not_to raise_error(SpecificErrorClass, message)`"}(),i=(null==(n=c.ArgumentError)?e.cm("ArgumentError"):n).$new(""+a+" is not valid, use `expect { }.not_to raise_error` (with no args) instead"),o.$raise(i))},l.$expected_error=function(){var n,r=this,o=t;return function(){return o=r.expected_message,t["$==="](o)?r.expected_error.$inspect():(null==(n=c.Regexp)?e.cm("Regexp"):n)["$==="](o)?""+r.expected_error+" with message matching "+r.expected_message.$inspect():""+r.expected_error+" with "+r.expected_message.$inspect()}()},l.$format_backtrace=function(n){var r,o=t;return o=(null==(r=c.Matchers)?e.cm("Matchers"):r).$configuration().$backtrace_formatter(),o.$format_backtrace(n)},l.$given_error=function(){var e,n=this,r=t;return(e=n.actual_error)===t||e._isBoolean&&1!=e?" but nothing was raised":(r=n.$format_backtrace(n.actual_error.$backtrace()),[", got "+n.actual_error.$inspect()+" with backtrace:"].concat(r).$join("\n  # "))},l["$expecting_specific_exception?"]=function(){var n,t=this;return t.expected_error["$=="](null==(n=c.Exception)?e.cm("Exception"):n)["$!"]()},l.$raise_message_already_set=function(){var e=this;return e.$raise("`expect { }.to raise_error(message).with_message(message)` is not valid. The matcher only allows the expected message to be specified once")},t}(a,null)}(a)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass;return e.add_stubs(["$empty?","$find_failing_method_names","$inspect","$join","$collect","$with_arity","$sub","$failure_message_for_should","$pp_names","$private","$__send__","$respond_to?","$matches_arity?","$arity","$method","$<","$<=","$~","$==","$nil?","$length","$first"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Matchers");i._proto,i._scope,function(n){var i=o(n,"BuiltIn");i._proto,i._scope,function(n,$super){function o(){}var i=o=a(n,$super,"RespondTo",o),s=i._proto;return i._scope,s.actual=s.failing_method_names=s.names=s.expected_arity=t,s.$initialize=function(e){var n=this;return e=r.call(arguments,0),n.names=e,n.expected_arity=t},s["$matches?"]=function(e){var n=this;return n.$find_failing_method_names(e,"reject")["$empty?"]()},e.defn(i,"$==",s["$matches?"]),s["$does_not_match?"]=function(e){var n=this;return n.$find_failing_method_names(e,"select")["$empty?"]()},s.$failure_message_for_should=function(){var e,n,r,o=this;return"expected "+o.actual.$inspect()+" to respond to "+(e=(n=o.failing_method_names).$collect,e._p=(r=function(e){return r._s||this,null==e&&(e=t),e.$inspect()},r._s=o,r),e).call(n).$join(", ")+o.$with_arity()},s.$failure_message_for_should_not=function(){var e=this;return e.$failure_message_for_should().$sub(/to respond to/,"not to respond to")},s.$description=function(){var e=this;return"respond to "+e.$pp_names()+e.$with_arity()},s.$with=function(e){var n=this;return n.expected_arity=e,n},s.$argument=function(){var e=this;return e},e.defn(i,"$arguments",s.$argument),i.$private(),s.$find_failing_method_names=function(e,n){var r,o,a,i=this;return i.actual=e,i.failing_method_names=(r=(o=i.names).$__send__,r._p=(a=function(n){var r,o=a._s||this;return null==o.actual&&(o.actual=t),null==n&&(n=t),r=o.actual["$respond_to?"](n),r!==!1&&r!==t?o["$matches_arity?"](e,n):r},a._s=i,a),r).call(o,n)},s["$matches_arity?"]=function(e,n){var r,o=this,a=t;return(r=o.expected_arity)===t||r._isBoolean&&1!=r?!0:(a=e.$method(n).$arity(),a["$<"](0)?a["$~"]()["$<="](o.expected_arity):a["$=="](o.expected_arity))},s.$with_arity=function(){var e,n=this;return(e=n.expected_arity["$nil?"]())===t||e._isBoolean&&1!=e?" with "+n.expected_arity+" argument"+function(){return n.expected_arity["$=="](1)?"":"s"}():""},s.$pp_names=function(){var e=this;return e.names.$length()["$=="](1)?"#"+e.names.$first():e.names.$inspect()},t}(i,null)}(i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass;return e.add_stubs(["$==","$length","$first","$respond_to?","$raise","$new","$inspect","$subset_matches?","$element_matches?","$===","$downcase","$sub","$last","$split","$name","$class","$[]","$-@"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Matchers");i._proto,i._scope,function(n){var i,s=o(n,"BuiltIn"),l=(s._proto,s._scope);!function(n,$super){function o(){}var i=o=a(n,$super,"StartAndEndWith",o),s=i._proto,l=i._scope;return s.expected=s.actual=t,s.$initialize=function(e){var n=this;return e=r.call(arguments,0),n.expected=function(){return e.$length()["$=="](1)?e.$first():e}()},s["$matches?"]=function(n){var r,o=this;o.actual=function(){return(r=n["$respond_to?"]("[]"))===t||r._isBoolean&&1!=r?o.$raise((null==(r=l.ArgumentError)?e.cm("ArgumentError"):r).$new(""+n.$inspect()+" does not respond to :[]")):n}();try{return(r=o.expected["$respond_to?"]("length"))===t||r._isBoolean&&1!=r?o["$element_matches?"](o.expected,o.actual):o["$subset_matches?"](o.expected,o.actual)}catch(a){if((null==(r=l.ArgumentError)?e.cm("ArgumentError"):r)["$==="](a))return o.$raise((null==(r=l.ArgumentError)?e.cm("ArgumentError"):r).$new(""+n.$inspect()+" does not have ordered elements"));throw a}},s.$failure_message_for_should=function(){var e=this;return"expected "+e.actual.$inspect()+" to "+e.$class().$name().$split("::").$last().$sub(/With/,"").$downcase()+" with "+e.expected.$inspect()},s.$failure_message_for_should_not=function(){var e=this;return"expected "+e.actual.$inspect()+" not to "+e.$class().$name().$split("::").$last().$sub(/With/,"").$downcase()+" with "+e.expected.$inspect()},t}(s,null==(i=l.BaseMatcher)?e.cm("BaseMatcher"):i),function(e,$super){function n(){}var r=n=a(e,$super,"StartWith",n),o=r._proto;return r._scope,o.actual=o.expected=t,o["$subset_matches?"]=function(e,n){return n["$[]"](0,e.$length())["$=="](e)},o["$element_matches?"]=function(){var e=this;return e.actual["$[]"](0)["$=="](e.expected)},t}(s,null==(i=l.StartAndEndWith)?e.cm("StartAndEndWith"):i),function(e,$super){function n(){}var r=n=a(e,$super,"EndWith",n),o=r._proto;return r._scope,o["$subset_matches?"]=function(e,n){return n["$[]"](e.$length()["$-@"](),e.$length())["$=="](e)},o["$element_matches?"]=function(e,n){return n["$[]"](-1)["$=="](e)},t}(s,null==(i=l.StartAndEndWith)?e.cm("StartAndEndWith"):i)}(i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$call"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Matchers");a._proto,a._scope,function(n){var a=r(n,"BuiltIn");a._proto,a._scope,function(n,$super){function r(){}var a,i,s=r=o(n,$super,"Satisfy",r),l=s._proto;return s._scope,l.block=l.actual=t,l.$initialize=a=function(){var e=this,n=a._p,r=n||t;return a._p=null,e.block=r},l["$matches?"]=i=function(e){var n=this,r=i._p,o=r||t;return i._p=null,o!==!1&&o!==t&&(n.block=o),n.actual=e,n.block.$call(e)},e.defn(s,"$==",l["$matches?"]),l.$failure_message_for_should=function(){var e=this;return"expected "+e.actual+" to satisfy block"},l.$failure_message_for_should_not=function(){var e=this;return"expected "+e.actual+" not to satisfy block"},l.$description=function(){return"satisfy block"},t}(a,null)}(a)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$nil?","$call","$catch","$throw","$==","$===","$=~","$message","$raise","$to_sym","$!","$&","$expected","$caught","$private","$throw_description","$is_a?","$inspect","$+"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Matchers");a._proto,a._scope,function(n){var a=r(n,"BuiltIn");a._proto,a._scope,function(n,$super){function r(){}var a=r=o(n,$super,"ThrowSymbol",r),i=a._proto,s=a._scope;return i.expected_symbol=i.caught_arg=i.caught_symbol=i.expected_arg=t,i.$initialize=function(e,n){var r=this;return null==e&&(e=t),null==n&&(n=t),r.expected_symbol=e,r.expected_arg=n,r.caught_symbol=r.caught_arg=t},i["$matches?"]=function(n){var r,o,a,i=this,l=t,c=t;try{try{return(r=i.expected_symbol["$nil?"]())===t||r._isBoolean&&1!=r?(i.caught_arg=(r=(o=i).$catch,r._p=(a=function(){var e,r,o,i=a._s||this;return null==i.expected_symbol&&(i.expected_symbol=t),(e=(r=i).$catch,e._p=(o=function(){var e=o._s||this;return n.$call(),e.$throw("proc_did_not_throw_anything","nothing_thrown")},o._s=i,o),e).call(r,i.expected_symbol)},a._s=i,a),r).call(o,"proc_did_not_throw_anything"),i.caught_arg["$=="]("nothing_thrown")?i.caught_arg=t:i.caught_symbol=i.expected_symbol):n.$call()}catch(u){if((null==(r=s.NameError)?e.cm("NameError"):r)["$==="](u),(null==(r=s.ArgumentError)?e.cm("ArgumentError"):r)["$==="](u))return l=u,((r=l.$message()["$=~"](/uncaught throw (`|\:)([a-zA-Z0-9_]*)(')?/))===t||r._isBoolean&&1!=r)&&(c=l,i.$raise()),i.caught_symbol=t.$to_sym();c=u,i.$raise()}}finally{if(c===!1||c===t)return(r=i.expected_symbol["$nil?"]())===t||r._isBoolean&&1!=r?(r=i.expected_arg["$nil?"]())===t||r._isBoolean&&1!=r?i.caught_symbol["$=="](i.expected_symbol)["$&"](i.caught_arg["$=="](i.expected_arg)):i.caught_symbol["$=="](i.expected_symbol):i.caught_symbol["$nil?"]()["$!"]()}},e.defn(a,"$==",i["$matches?"]),i.$failure_message_for_should=function(){var e=this;return"expected "+e.$expected()+" to be thrown, got "+e.$caught()},i.$failure_message_for_should_not=function(){var e,n=this;return"expected "+n.$expected("no Symbol")+function(){return(e=n.expected_symbol)===t||e._isBoolean&&1!=e?t:" not"}()+" to be thrown, got "+n.$caught()},i.$description=function(){var e=this;return"throw "+e.$expected()},a.$private(),i.$expected=function(e){var n,r=this;return null==e&&(e="a Symbol"),r.$throw_description((n=r.expected_symbol)!==!1&&n!==t?n:e,r.expected_arg)},i.$caught=function(){var e,n=this;return n.$throw_description((e=n.caught_symbol)!==!1&&e!==t?e:"nothing",n.caught_arg)},i.$throw_description=function(n,r){var o,a,i=this,l=t,c=t;return l=function(){return(o=n["$is_a?"](null==(a=s.String)?e.cm("String"):a))===t||o._isBoolean&&1!=o?n.$inspect():n}(),c=function(){return r!==!1&&r!==t?" with "+r.$inspect():(a=i.expected_arg,(o=a!==!1&&a!==t?i.caught_symbol["$=="](i.expected_symbol):a)===t||o._isBoolean&&1!=o?"":" with no argument")}(),l["$+"](c)},t}(a,null)}(a)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass;return e.add_stubs(["$new","$assert_valid_expect_block!","$call","$assert_used!","$attr_accessor","$num_yields=","$yielded_args=","$+","$num_yields","$<<","$yielded_args","$first","$===","$raise","$map","$==","$size","$arity","$probe","$send","$yielded_once?","$exactly","$set_expected_yields_count","$tap","$relativity_failure_message","$private","$human_readable_expecation_type","$human_readable_count","$empty?","$single_yield_args","$failure_reason","$zero?","$inspect","$args_match?","$positive_failure_reason","$negative_failure_reason","$join","$all_args_match?","$!","$all?","$zip","$successive_yield_args"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Matchers");i._proto,i._scope,function(n){var i,s=o(n,"BuiltIn"),l=(s._proto,s._scope);!function(n,$super){function o(){}var i=o=a(n,$super,"YieldProbe",o),s=i._proto,l=i._scope;return s.used=t,e.defs(i,"$probe",function(e){var n=this,r=t;return r=n.$new(),n["$assert_valid_expect_block!"](e),e.$call(r),r["$assert_used!"](),r}),i.$attr_accessor("num_yields","yielded_args"),s.$initialize=function(){var e,n=this;return n.used=!1,e=[0,[]],n["$num_yields="](e[0]),n["$yielded_args="](e[1])},s.$to_proc=function(){var n,o,a,i,s=this,c=t;return s.used=!0,c=s,(n=(o=null==(i=l.Proc)?e.cm("Proc"):i).$new,n._p=(a=function(e){var n;return a._s||this,e=r.call(arguments,0),n=c,n["$num_yields="](n.$num_yields()["$+"](1)),c.$yielded_args()["$<<"](e),t},a._s=s,a),n).call(o)},s.$single_yield_args=function(){var e=this;return e.$yielded_args().$first()},s["$yielded_once?"]=function(e){var n=this,r=t;return function(){return r=n.$num_yields(),1["$==="](r)?!0:0["$==="](r)?!1:n.$raise(("The "+e+" matcher is not designed to be used with a ")["$+"]("method that yields multiple times. Use the yield_successive_args ")["$+"]("matcher for that case."))}()},s.$successive_yield_args=function(){var e,n,r,o=this;return(e=(n=o.$yielded_args()).$map,e._p=(r=function(e){return r._s||this,null==e&&(e=t),e.$size()["$=="](1)?e.$first():e},r._s=o,r),e).call(n)},s["$assert_used!"]=function(){var e,n=this;return(e=n.used)===t||e._isBoolean&&1!=e?n.$raise("You must pass the argument yielded to your expect block on "["$+"]("to the method-under-test as a block. It acts as a probe that ")["$+"]("allows the matcher to detect whether or not the method-under-test ")["$+"]("yields, and, if so, how many times, and what the yielded arguments ")["$+"]("are.")):t},e.defs(i,"$assert_valid_expect_block!",function(e){var n=this;return e.$arity()["$=="](1)?t:n.$raise("Your expect block must accept an argument to be used with this "["$+"]("matcher. Pass the argument as a block on to the method you are testing."))}),t}(s,null),function(n,$super){function r(){}var o=r=a(n,$super,"YieldControl",r),i=o._proto,s=o._scope;return i.expectation_type=i.expected_yields_count=t,i.$initialize=function(){var e=this;return e.expectation_type=t,e.expected_yields_count=t},i["$matches?"]=function(n){var r,o=this,a=t;return a=(null==(r=s.YieldProbe)?e.cm("YieldProbe"):r).$probe(n),(r=o.expectation_type)===t||r._isBoolean&&1!=r?a["$yielded_once?"]("yield_control"):a.$num_yields().$send(o.expectation_type,o.expected_yields_count)},i.$once=function(){var e=this;return e.$exactly(1),e},i.$twice=function(){var e=this;return e.$exactly(2),e},i.$exactly=function(e){var n=this;return n.$set_expected_yields_count("==",e),n},i.$at_most=function(e){var n=this;return n.$set_expected_yields_count("<=",e),n},i.$at_least=function(e){var n=this;return n.$set_expected_yields_count(">=",e),n},i.$times=function(){var e=this;return e},i.$failure_message_for_should=function(){var e,n,r,o=this;return(e=(n="expected given block to yield control").$tap,e._p=(r=function(e){var n=r._s||this;return null==e&&(e=t),e["$<<"](n.$relativity_failure_message())},r._s=o,r),e).call(n)},i.$failure_message_for_should_not=function(){var e,n,r,o=this;return(e=(n="expected given block not to yield control").$tap,e._p=(r=function(e){var n=r._s||this;return null==e&&(e=t),e["$<<"](n.$relativity_failure_message())},r._s=o,r),e).call(n)},o.$private(),i.$set_expected_yields_count=function(n,r){var o,a=this,i=t;return a.expectation_type=n,a.expected_yields_count=function(){return i=r,(null==(o=s.Numeric)?e.cm("Numeric"):o)["$==="](i)?r:"once"["$==="](i)?1:"twice"["$==="](i)?2:t}()},i.$relativity_failure_message=function(){var e,n=this;return(e=n.expected_yields_count)===t||e._isBoolean&&1!=e?"":" "+n.$human_readable_expecation_type()+n.$human_readable_count()},i.$human_readable_expecation_type=function(){var e=this,n=t;return function(){return n=e.expectation_type,"<="["$==="](n)?"at most ":">="["$==="](n)?"at least ":""}()},i.$human_readable_count=function(){var e=this,n=t;return function(){return n=e.expected_yields_count,1["$==="](n)?"once":2["$==="](n)?"twice":""+e.expected_yields_count+" times"}()},t}(s,null==(i=l.BaseMatcher)?e.cm("BaseMatcher"):i),function(n,$super){function r(){}var o=r=a(n,$super,"YieldWithNoArgs",r),i=o._proto,s=o._scope;return i.probe=t,i["$matches?"]=function(n){var r,o=this;return o.probe=(null==(r=s.YieldProbe)?e.cm("YieldProbe"):r).$probe(n),r=o.probe["$yielded_once?"]("yield_with_no_args"),r!==!1&&r!==t?o.probe.$single_yield_args()["$empty?"]():r},i.$failure_message_for_should=function(){var e=this;return"expected given block to yield with no arguments, but "+e.$failure_reason()},i.$failure_message_for_should_not=function(){return"expected given block not to yield with no arguments, but did"},o.$private(),i.$failure_reason=function(){var e,n=this;return(e=n.probe.$num_yields()["$zero?"]())===t||e._isBoolean&&1!=e?"yielded with arguments: "+n.probe.$single_yield_args().$inspect():"did not yield"},t}(s,null==(i=l.BaseMatcher)?e.cm("BaseMatcher"):i),function(n,$super){function o(){}var i=o=a(n,$super,"YieldWithArgs",o),s=i._proto,l=i._scope;return s.probe=s.expected=s.positive_args_failure=s.actual=t,s.$initialize=function(e){var n=this;return e=r.call(arguments,0),n.expected=e},s["$matches?"]=function(n){var r,o=this;return o.probe=(null==(r=l.YieldProbe)?e.cm("YieldProbe"):r).$probe(n),o.actual=o.probe.$single_yield_args(),r=o.probe["$yielded_once?"]("yield_with_args"),r!==!1&&r!==t?o["$args_match?"]():r},e.defn(i,"$==",s["$matches?"]),s.$failure_message_for_should=function(){var e=this;return"expected given block to yield with arguments, but "+e.$positive_failure_reason()},s.$failure_message_for_should_not=function(){var e=this;return"expected given block not to yield with arguments, but "+e.$negative_failure_reason()},s.$description=function(){var e,n,r,o=this,a=t;return a="yield with args",((e=o.expected["$empty?"]())===t||e._isBoolean&&1!=e)&&a["$<<"]("("["$+"]((e=(n=o.expected).$map,e._p=(r=function(e){return r._s||this,null==e&&(e=t),e.$inspect()},r._s=o,r),e).call(n).$join(", "))["$+"](")")),a},i.$private(),s.$positive_failure_reason=function(){var e,n=this;return(e=n.probe.$num_yields()["$zero?"]())===t||e._isBoolean&&1!=e?n.positive_args_failure:"did not yield"},s.$negative_failure_reason=function(){var e,n=this;return(e=n["$all_args_match?"]())===t||e._isBoolean&&1!=e?"did":"yielded with expected arguments"["$+"]("\nexpected not: "+n.expected.$inspect())["$+"]("\n         got: "+n.actual.$inspect()+" (compared using === and ==)")},s["$args_match?"]=function(){var e,n=this,r=t;return(e=n.expected["$empty?"]())===t||e._isBoolean&&1!=e?(((e=r=n["$all_args_match?"]())===t||e._isBoolean&&1!=e)&&(n.positive_args_failure="yielded with unexpected arguments"["$+"]("\nexpected: "+n.expected.$inspect())["$+"]("\n     got: "+n.actual.$inspect()+" (compared using === and ==)")),r):((e=n.actual["$empty?"]())===t||e._isBoolean&&1!=e||(n.positive_args_failure="yielded with no arguments"),n.actual["$empty?"]()["$!"]())},s["$all_args_match?"]=function(){var e,n,r,o=this;return(e=o.expected.$size()["$=="](o.actual.$size())["$!"]())===t||e._isBoolean&&1!=e?(e=(n=o.expected.$zip(o.actual))["$all?"],e._p=(r=function(e,n){var o;return r._s||this,null==e&&(e=t),null==n&&(n=t),(o=e["$==="](n))!==!1&&o!==t?o:n["$=="](e)},r._s=o,r),e).call(n):!1},t}(s,null),function(n,$super){function o(){}var i=o=a(n,$super,"YieldSuccessiveArgs",o),s=i._proto,l=i._scope;return s.probe=s.expected=s.actual=t,s.$initialize=function(e){var n=this;return e=r.call(arguments,0),n.expected=e
},s["$matches?"]=function(n){var t,r=this;return r.probe=(null==(t=l.YieldProbe)?e.cm("YieldProbe"):t).$probe(n),r.actual=r.probe.$successive_yield_args(),r["$args_match?"]()},e.defn(i,"$==",s["$matches?"]),s.$failure_message_for_should=function(){var e=this;return"expected given block to yield successively with arguments, but yielded with unexpected arguments"["$+"]("\nexpected: "+e.expected.$inspect())["$+"]("\n     got: "+e.actual.$inspect()+" (compared using === and ==)")},s.$failure_message_for_should_not=function(){var e=this;return"expected given block not to yield successively with arguments, but yielded with expected arguments"["$+"]("\nexpected not: "+e.expected.$inspect())["$+"]("\n         got: "+e.actual.$inspect()+" (compared using === and ==)")},s.$description=function(){var e,n,r,o=this,a=t;return a="yield successive args",a["$<<"]("("["$+"]((e=(n=o.expected).$map,e._p=(r=function(e){return r._s||this,null==e&&(e=t),e.$inspect()},r._s=o,r),e).call(n).$join(", "))["$+"](")")),a},i.$private(),s["$args_match?"]=function(){var e,n,r,o=this;return(e=o.expected.$size()["$=="](o.actual.$size())["$!"]())===t||e._isBoolean&&1!=e?(e=(n=o.expected.$zip(o.actual))["$all?"],e._p=(r=function(e,n){var o;return r._s||this,null==e&&(e=t),null==n&&(n=t),(o=e["$==="](n))!==!1&&o!==t?o:n["$=="](e)},r._s=o,r),e).call(n):!1},t}(s,null)}(i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.range;return e.add_stubs(["$respond_to?"]),function(e){var n=r(e,"RSpec");n._proto,n._scope,function(e){var n=r(e,"Matchers");n._proto,n._scope,function(e){var n,a=r(e,"BuiltIn");a._proto,a._scope,(n=o(1,2,!1)["$respond_to?"]("cover?"))!==t&&(!n._isBoolean||1==n)}(n)}(n)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass;return e.add_stubs(["$define_user_override","$actual_arg_for","$===","$define_method","$to_proc","$private","$__send__","$lambda","$name_to_sentence","$expected_to_sentence","$inspect","$actual","$include","$extend","$attr_reader","$attr_accessor","$class_exec","$new","$name","$class","$>=","$to_f","$respond_to?","$matcher_execution_context","$zero?","$arity"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Matchers");i._proto,i._scope,function(n){var i=o(n,"DSL");i._proto,i._scope,function(n){var a,i,s,l,c,u,_,$,p=o(n,"Macros"),d=p._proto,f=p._scope;d.$match=a=function(){var n,r,o,i=this,s=a._p,l=s||t;return a._p=null,(n=(r=i).$define_user_override,n._p=(o=function(n){var r=o._s||this;null==n&&(n=t);try{return r.actual=n,e.find_iter_super_dispatcher(r,"match",o._def||a,null).apply(r,[].concat(r.$actual_arg_for(l)))}catch(i){return!1}},o._s=i,o),n).call(r,"matches?",l)},e.defn(p,"$match_for_should",d.$match),d.$match_for_should_not=i=function(){var n,r,o,a=this,s=i._p,l=s||t;return i._p=null,(n=(r=a).$define_user_override,n._p=(o=function(n){var r=o._s||this;return null==n&&(n=t),r.actual=n,e.find_iter_super_dispatcher(r,"match_for_should_not",o._def||i,null).apply(r,[].concat(r.$actual_arg_for(l)))},o._s=a,o),n).call(r,"does_not_match?",l)},d.$match_unless_raises=s=function(n){var r,o,a,i=this,l=s._p,c=l||t;return null==n&&(n=null==(r=f.Exception)?e.cm("Exception"):r),s._p=null,(r=(o=i).$define_user_override,r._p=(a=function(r){var o=a._s||this;null==r&&(r=t),o.actual=r;try{return e.find_iter_super_dispatcher(o,"match_unless_raises",a._def||s,null).apply(o,[].concat(o.$actual_arg_for(c)))}catch(i){if(n["$==="](i))return o.rescued_exception=i,!1}},a._s=i,a),r).call(o,"matches?",c)},d.$failure_message_for_should=l=function(){var e=this,n=l._p,r=n||t;return l._p=null,e.$define_user_override("failure_message_for_should",r)},d.$failure_message_for_should_not=c=function(){var e=this,n=c._p,r=n||t;return c._p=null,e.$define_user_override("failure_message_for_should_not",r)},d.$description=u=function(){var e=this,n=u._p,r=n||t;return u._p=null,e.$define_user_override("description",r)},d.$diffable=function(){var e,n,t,r=this;return(e=(n=r).$define_method,e._p=(t=function(){return t._s||this,!0},t._s=r,t),e).call(n,"diffable?")},d.$chain=_=function(n){var o,a,i,s=this,l=_._p,c=l||t;return _._p=null,(o=(a=s).$define_user_override,o._p=(i=function(n){var o,a=i._s||this;return n=r.call(arguments,0),o=i._p||t,i._p=null,e.find_iter_super_dispatcher(a,"chain",i._def||_,null).apply(a,[].concat(n).concat(o.$to_proc())),a},i._s=s,i),o).call(a,n,c)},p.$private(),d.$define_user_override=$=function(n,r){var o,a,i,s,l,c=this,u=$._p,_=u||t;return null==c.user_method_defs&&(c.user_method_defs=t),$._p=null,(o=(a=c.user_method_defs).$__send__,o._p=r.$to_proc(),o).call(a,"define_method",n),(o=_)!==!1&&o!==t?o:_=(i=(s=c).$lambda,i._p=(l=function(){var n=l._s||this;return e.find_iter_super_dispatcher(n,"define_user_override",l._def||$,null).apply(n,[].concat(n.$actual_arg_for(r)))},l._s=c,l),i).call(s),(o=(i=c).$define_method,o._p=_.$to_proc(),o).call(i,n)},e.donate(p,["$match","$match_for_should","$match_for_should_not","$match_unless_raises","$failure_message_for_should","$failure_message_for_should_not","$description","$diffable","$chain","$define_user_override"])}(i),function(n){var t=o(n,"DefaultImplementations"),r=t._proto;t._scope,r["$diffable?"]=function(){return!1},r.$description=function(){var e=this;return""+e.$name_to_sentence()+e.$expected_to_sentence()},r.$failure_message_for_should=function(){var e=this;return"expected "+e.$actual().$inspect()+" to "+e.$name_to_sentence()+e.$expected_to_sentence()},r.$failure_message_for_should_not=function(){var e=this;return"expected "+e.$actual().$inspect()+" not to "+e.$name_to_sentence()+e.$expected_to_sentence()},e.donate(t,["$diffable?","$description","$failure_message_for_should","$failure_message_for_should_not"])}(i),function(n,$super){function o(){}var i,s,l,c,u,_,$=o=a(n,$super,"Matcher",o),p=$._proto,d=$._scope;return p.actual=t,$.$include(null==(i=d.DefaultImplementations)?e.cm("DefaultImplementations"):i),$.$include(null==(i=(null==(s=d.RSpec)?e.cm("RSpec"):s)._scope).Matchers?i.cm("Matchers"):i.Matchers),$.$include(null==(i=(null==(s=(null==(l=d.RSpec)?e.cm("RSpec"):l)._scope).Matchers?s.cm("Matchers"):s.Matchers)._scope).Pretty?i.cm("Pretty"):i.Pretty),$.$extend(null==(i=d.Macros)?e.cm("Macros"):i),$.$attr_reader("expected","actual","rescued_exception"),$.$attr_accessor("matcher_execution_context"),p.$initialize=function(n,o,a){var i,s,l=this;return a=r.call(arguments,2),l.name=n,l.actual=t,l.expected=a,(i=(s=function(n){var t=n._scope;return n._proto,n.$include(n.user_method_defs=(null==(i=t.Module)?e.cm("Module"):i).$new()),n}(l.$singleton_class())).$class_exec,i._p=o.$to_proc(),i).apply(s,[].concat(a))},p.$inspect=function(){var e=this;return"#<"+e.$class().$name()+" "+e.$name()+">"},(null==(i=d.RUBY_VERSION)?e.cm("RUBY_VERSION"):i).$to_f()["$>="](1.9)?p["$respond_to_missing?"]=c=function(n,o){var a,i=r.call(arguments,0),s=this,l=c._p;return null==o&&(o=!1),c._p=null,(a=e.find_super_dispatcher(s,"respond_to_missing?",c,l).apply(s,i))!==!1&&a!==t?a:s.$matcher_execution_context()["$respond_to?"](n,o)}:p["$respond_to?"]=u=function(n,o){var a,i=r.call(arguments,0),s=this,l=u._p;return null==o&&(o=!1),u._p=null,(a=e.find_super_dispatcher(s,"respond_to?",u,l).apply(s,i))!==!1&&a!==t?a:s.$matcher_execution_context()["$respond_to?"](n,o)},$.$private(),p.$actual_arg_for=function(e){var n,r=this;return(n=e.$arity()["$zero?"]())===t||n._isBoolean&&1!=n?[r.actual]:[]},p.$method_missing=_=function(n,o){var a,i,s=this,l=_._p,c=l||t;return o=r.call(arguments,1),_._p=null,(a=s.$matcher_execution_context()["$respond_to?"](n))===t||a._isBoolean&&1!=a?e.find_super_dispatcher(s,"method_missing",_,null).apply(s,[n].concat(o).concat(c.$to_proc())):(a=(i=s.$matcher_execution_context()).$__send__,a._p=c.$to_proc(),a).apply(i,[n].concat(o))},t}(i,null)}(i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass,a=e.hash2;return e.add_stubs(["$registry","$[]","$[]=","$delete","$each","$ancestors","$define_method","$uses_generic_implementation_of?","$get","$class","$__send__","$last_should","$new","$eval_match","$sub","$!","$==","$respond_to?","$raise","$+","$use_custom_matcher_or_delegate","$fail_with","$inspect","$private","$owner","$method_handle_for","$===","$last_matcher=","$__delegate_operator","$include?","$fail_with_message","$gsub"]),function(n){var i=r(n,"RSpec");i._proto,i._scope,function(n){var i=r(n,"Matchers");i._proto,i._scope,function(n,$super){function r(){}var i,s,l,c=r=o(n,$super,"OperatorMatcher",r),u=c._proto,_=c._scope;return u.expected=u.actual=u.operator=t,function(n){return n._scope,n._proto,n._proto.$registry=function(){var e,n=this;return null==n.registry&&(n.registry=t),(e=n.registry)!==!1&&e!==t?e:n.registry=a([],{})},n._proto.$register=function(e,n,r){var o,i,s,l=this;return o=e,i=l.$registry(),(s=i["$[]"](o))!==!1&&s!==t?s:i["$[]="](o,a([],{})),l.$registry()["$[]"](e)["$[]="](n,r)},n._proto.$unregister=function(e,n){var r,o=this;return r=o.$registry()["$[]"](e),r!==!1&&r!==t?o.$registry()["$[]"](e).$delete(n):r},n._proto.$get=function(n,r){try{var o,a,i,s=this;return(o=(a=n.$ancestors()).$each,o._p=(i=function(n){var o,a=i._s||this,s=t;return null==n&&(n=t),o=a.$registry()["$[]"](n),s=o!==!1&&o!==t?a.$registry()["$[]"](n)["$[]"](r):o,s===!1||s===t?t:(e.$return(s),void 0)},i._s=s,i),o).call(a),t}catch(l){if(l===e.returner)return l.$v;throw l}},t}(c.$singleton_class()),u.$initialize=function(e){var n=this;return n.actual=e},e.defs(c,"$use_custom_matcher_or_delegate",function(n){var r,o,a,i,s,l=this,c=t;return(r=(o=l).$define_method,r._p=(a=function(r){var o,i,s,l=a._s||this,c=t;return null==l.actual&&(l.actual=t),null==r&&(r=t),i=l["$uses_generic_implementation_of?"](n),(o=i!==!1&&i!==t?c=(null==(s=_.OperatorMatcher)?e.cm("OperatorMatcher"):s).$get(l.actual.$class(),n):i)===t||o._isBoolean&&1!=o?l.$eval_match(l.actual,n,r):l.actual.$__send__((null==(o=(null==(i=e.Object._scope.RSpec)?e.cm("RSpec"):i)._scope).Matchers?o.cm("Matchers"):o.Matchers).$last_should(),c.$new(r))},a._s=l,a),r).call(o,n),c=n.$sub(/^=/,"!"),i=c["$=="](n)["$!"](),(r=i!==!1&&i!==t?l["$respond_to?"](c):i)===t||r._isBoolean&&1!=r?t:(r=(i=l).$define_method,r._p=(s=function(r){var o,a,i=s._s||this,l=t;return null==r&&(r=t),l=function(){return(null==(o=(null==(a=e.Object._scope.RSpec)?e.cm("RSpec"):a)._scope).Matchers?o.cm("Matchers"):o.Matchers).$last_should()["$=="]("should")?"should_not":"should"}(),i.$raise(("RSpec does not support `"+(null==(o=(null==(a=e.Object._scope.RSpec)?e.cm("RSpec"):a)._scope).Matchers?o.cm("Matchers"):o.Matchers).$last_should()+" "+c+" expected`.  ")["$+"]("Use `"+l+" "+n+" expected` instead."))},s._s=l,s),r).call(i,c)}),(i=(s=["==","===","=~",">",">=","<","<="]).$each,i._p=(l=function(e){var n=l._s||this;return null==e&&(e=t),n.$use_custom_matcher_or_delegate(e)},l._s=c,l),i).call(s),u.$fail_with_message=function(n){var t,r,o=this;return(null==(t=(null==(r=_.RSpec)?e.cm("RSpec"):r)._scope).Expectations?t.cm("Expectations"):t.Expectations).$fail_with(n,o.expected,o.actual)},u.$description=function(){var e=this;return""+e.operator+" "+e.expected.$inspect()},c.$private(),u["$uses_generic_implementation_of?"]=function(n){var t,r=this;try{return(null==(t=_.Expectations)?e.cm("Expectations"):t).$method_handle_for(r.actual,n).$owner()["$=="](null==(t=e.Object._scope.Kernel)?e.cm("Kernel"):t)}catch(o){if((null==(t=_.NameError)?e.cm("NameError"):t)["$==="](o))return!1;throw o}},u.$eval_match=function(n,t,r){var o,a,i=this;return(null==(o=(null==(a=e.Object._scope.RSpec)?e.cm("RSpec"):a)._scope).Matchers?o.cm("Matchers"):o.Matchers)["$last_matcher="](i),o=[t,r],i.operator=o[0],i.expected=o[1],i.$__delegate_operator(n,t,r)},t}(i,null),function(n){var a,i=r(n,"BuiltIn"),s=(i._proto,i._scope);!function(e,$super){function n(){}var r=n=o(e,$super,"PositiveOperatorMatcher",n),a=r._proto;return r._scope,a.$__delegate_operator=function(e,n,r){var o,a=this;return(o=e.$__send__(n,r))===t||o._isBoolean&&1!=o?(o=["==","===","=~"]["$include?"](n))===t||o._isBoolean&&1!=o?a.$fail_with_message("expected: "+n+" "+r.$inspect()+"\n     got: "+n.$gsub(/./," ")+" "+e.$inspect()):a.$fail_with_message("expected: "+r.$inspect()+"\n     got: "+e.$inspect()+" (using "+n+")"):!0},t}(i,null==(a=s.OperatorMatcher)?e.cm("OperatorMatcher"):a),function(e,$super){function n(){}var r=n=o(e,$super,"NegativeOperatorMatcher",n),a=r._proto;return r._scope,a.$__delegate_operator=function(e,n,r){var o,a=this;return(o=e.$__send__(n,r))===t||o._isBoolean&&1!=o?!1:a.$fail_with_message("expected not: "+n+" "+r.$inspect()+"\n         got: "+n.$gsub(/./," ")+" "+e.$inspect())},t}(i,null==(a=s.OperatorMatcher)?e.cm("OperatorMatcher"):a)}(i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module);return e.add_stubs(["$attr_accessor","$last_matcher=","$last_should=","$nil?","$last_should","$gsub","$to_s","$last_description","$private","$respond_to?","$last_matcher","$description"]),function(n){var o=r(n,"RSpec");o._proto,o._scope,function(n){var o=r(n,"Matchers");o._proto,o._scope,function(e){return e._scope,e._proto,e.$attr_accessor("last_matcher","last_should")}(o.$singleton_class()),e.defs(o,"$clear_generated_description",function(){var e=this;return e["$last_matcher="](t),e["$last_should="](t)}),e.defs(o,"$generated_description",function(){var e,n=this;return(e=n.$last_should()["$nil?"]())===t||e._isBoolean&&1!=e?""+n.$last_should().$to_s().$gsub("_"," ")+" "+n.$last_description():t}),o.$private(),e.defs(o,"$last_description",function(){var e,n=this;return(e=n.$last_matcher()["$respond_to?"]("description"))===t||e._isBoolean&&1!=e?"When you call a matcher in an example without a String, like this:\n\nspecify { object.should matcher }\n\nor this:\n\nit { should matcher }\n\nRSpec expects the matcher to have a #description method. You should either\nadd a String to the example this matcher is being used in, or give it a\ndescription method. Then you won't have to suffer this lengthy warning again.\n":n.$last_matcher().$description()})}(o)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module;return e.add_stubs(["$private","$=~","$to_s","$new","$to_proc"]),function(n){var a=o(n,"RSpec");a._proto,a._scope,function(n){var a,i=o(n,"Matchers"),s=i._proto,l=i._scope;i.$private(),s.$method_missing=a=function(n,o){var i,s,c,u,_,$,p=r.call(arguments,0),d=this,f=a._p,m=f||t;return o=r.call(arguments,1),a._p=null,(i=n.$to_s()["$=~"](/^be_/))===t||i._isBoolean&&1!=i?(i=n.$to_s()["$=~"](/^have_/))===t||i._isBoolean&&1!=i?e.find_super_dispatcher(d,"method_missing",a,f).apply(d,p):(i=(c=null==(u=(null==(_=(null==($=l.Matchers)?e.cm("Matchers"):$)._scope).BuiltIn?_.cm("BuiltIn"):_.BuiltIn)._scope).Has?u.cm("Has"):u.Has).$new,i._p=m.$to_proc(),i).apply(c,[n].concat(o)):(i=(s=null==(c=(null==(u=(null==(_=l.Matchers)?e.cm("Matchers"):_)._scope).BuiltIn?u.cm("BuiltIn"):u.BuiltIn)._scope).BePredicate?c.cm("BePredicate"):c.BePredicate).$new,i._p=m.$to_proc(),i).apply(s,[n].concat(o))},e.donate(i,["$method_missing"])}(a)}(n)}(Opal),function(e){var n,t,r,o,a,i=e.top,s=e,l=e.nil;return e.breaker,e.slice,e.add_stubs(["$each","$===","$const_get","$any?","$include?","$public_instance_methods","$class_exec","$alias_method","$constants"]),(n=(t=(null==(o=(null==(a=s.RSpec)?e.cm("RSpec"):a)._scope).Matchers?o.cm("Matchers"):o.Matchers).$constants()).$each,n._p=(r=function(n){var t,o,a,i,c,u,_,$,p,d=r._s||this,f=l;return null==n&&(n=l),(t=(null==(o=s.Class)?e.cm("Class"):o)["$==="](f=(null==(o=(null==(a=s.RSpec)?e.cm("RSpec"):a)._scope).Matchers?o.cm("Matchers"):o.Matchers).$const_get(n)))===l||t._isBoolean&&1!=t?l:((t=(o=(a=f.$public_instance_methods())["$any?"],o._p=(i=function(e){return i._s||this,null==e&&(e=l),["failure_message_for_should","failure_message_for_should"]["$include?"](e)},i._s=d,i),o).call(a))===l||t._isBoolean&&1!=t||(t=(o=f).$class_exec,t._p=(c=function(){var e=c._s||this;return e.$alias_method("failure_message","failure_message_for_should")},c._s=d,c),t).call(o),(t=(u=(_=f.$public_instance_methods())["$any?"],u._p=($=function(e){return $._s||this,null==e&&(e=l),["failure_message_for_should_not","failure_message_for_should_not"]["$include?"](e)},$._s=d,$),u).call(_))===l||t._isBoolean&&1!=t?l:(t=(u=f).$class_exec,t._p=(p=function(){var e=p._s||this;return e.$alias_method("negative_failure_message","failure_message_for_should_not")},p._s=d,p),t).call(u))},r._s=i,r),n).call(t)}(Opal),function(e){var n,t,r,o,a=(e.top,e),i=e.nil;return e.breaker,e.slice,e.add_stubs(["$send"]),(n=function(){try{return null!=(null==(t=(null==(r=(null==(o=a.MiniTest)?e.cm("MiniTest"):o)._scope).Unit?r.cm("Unit"):r.Unit)._scope).TestCase?t.cm("TestCase"):t.TestCase)?"constant":i}catch(n){if(n._klass===Opal.NameError)return i;throw n}}())===i||n._isBoolean&&1!=n||(null==(n=(null==(t=(null==(r=a.MiniTest)?e.cm("MiniTest"):r)._scope).Unit?t.cm("Unit"):t.Unit)._scope).TestCase?n.cm("TestCase"):n.TestCase).$send("include",null==(n=(null==(t=a.RSpec)?e.cm("RSpec"):t)._scope).Matchers?n.cm("Matchers"):n.Matchers),(n=function(){try{return null!=(null==(t=(null==(r=(null==(o=a.Test)?e.cm("Test"):o)._scope).Unit?r.cm("Unit"):r.Unit)._scope).TestCase?t.cm("TestCase"):t.TestCase)?"constant":i}catch(n){if(n._klass===Opal.NameError)return i;throw n}}())===i||n._isBoolean&&1!=n?i:(null==(n=(null==(t=(null==(r=a.Test)?e.cm("Test"):r)._scope).Unit?t.cm("Unit"):t.Unit)._scope).TestCase?n.cm("TestCase"):n.TestCase).$send("include",null==(n=(null==(t=a.RSpec)?e.cm("RSpec"):t)._scope).Matchers?n.cm("Matchers"):n.Matchers)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.range;return e.add_stubs(["$===","$respond_to?","$new","$alias_method","$empty?","$equal","$be_a_kind_of","$to_proc","$register"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i,s,l,c,u,_=o(n,"Matchers"),$=_._proto,p=_._scope;e.defs(_,"$is_a_matcher?",function(n){var r,o,a,i,s;return(r=(null==(o=(null==(a=(null==(i=(null==(s=e.Object._scope.RSpec)?e.cm("RSpec"):s)._scope).Matchers?i.cm("Matchers"):i.Matchers)._scope).BuiltIn?a.cm("BuiltIn"):a.BuiltIn)._scope).BaseMatcher?o.cm("BaseMatcher"):o.BaseMatcher)["$==="](n))===t||r._isBoolean&&1!=r?(r=n["$respond_to?"]("i_respond_to_everything_so_im_not_really_a_matcher"))===t||r._isBoolean&&1!=r?(r=n["$respond_to?"]("matches?"))===t||r._isBoolean&&1!=r?!1:(r=n["$respond_to?"]("failure_message_for_should"))!==!1&&r!==t?r:n["$respond_to?"]("failure_message"):!1:!0}),$.$be_truthy=function(){var n,t;return(null==(n=(null==(t=p.BuiltIn)?e.cm("BuiltIn"):t)._scope).BeTruthy?n.cm("BeTruthy"):n.BeTruthy).$new()},$.$be_falsey=function(){var n,t;return(null==(n=(null==(t=p.BuiltIn)?e.cm("BuiltIn"):t)._scope).BeFalsey?n.cm("BeFalsey"):n.BeFalsey).$new()},_.$alias_method("be_falsy","be_falsey"),$.$be_nil=function(){var n,t;return(null==(n=(null==(t=p.BuiltIn)?e.cm("BuiltIn"):t)._scope).BeNil?n.cm("BeNil"):n.BeNil).$new()},$.$be=function(n){var o,a,i,s=this;return n=r.call(arguments,0),(o=n["$empty?"]())===t||o._isBoolean&&1!=o?(o=s).$equal.apply(o,[].concat(n)):(null==(o=(null==(a=(null==(i=p.Matchers)?e.cm("Matchers"):i)._scope).BuiltIn?a.cm("BuiltIn"):a.BuiltIn)._scope).Be?o.cm("Be"):o.Be).$new()},$.$be_a=function(e){var n=this;return n.$be_a_kind_of(e)},_.$alias_method("be_an","be_a"),$.$be_an_instance_of=function(n){var t,r;return(null==(t=(null==(r=p.BuiltIn)?e.cm("BuiltIn"):r)._scope).BeAnInstanceOf?t.cm("BeAnInstanceOf"):t.BeAnInstanceOf).$new(n)},_.$alias_method("be_instance_of","be_an_instance_of"),$.$be_a_kind_of=function(n){var t,r;return(null==(t=(null==(r=p.BuiltIn)?e.cm("BuiltIn"):r)._scope).BeAKindOf?t.cm("BeAKindOf"):t.BeAKindOf).$new(n)},_.$alias_method("be_kind_of","be_a_kind_of"),$.$be_within=function(n){var t,r;return(null==(t=(null==(r=p.BuiltIn)?e.cm("BuiltIn"):r)._scope).BeWithin?t.cm("BeWithin"):t.BeWithin).$new(n)},$.$change=i=function(n,r){var o,a,s,l,c=i._p,u=c||t;return null==n&&(n=t),null==r&&(r=t),i._p=null,(o=(a=null==(s=(null==(l=p.BuiltIn)?e.cm("BuiltIn"):l)._scope).Change?s.cm("Change"):s.Change).$new,o._p=u.$to_proc(),o).call(a,n,r)},(s=a(1,2,!1)["$respond_to?"]("cover?"))===t||s._isBoolean&&1!=s||($.$cover=function(n){var t,o,a;return n=r.call(arguments,0),(t=null==(o=(null==(a=p.BuiltIn)?e.cm("BuiltIn"):a)._scope).Cover?o.cm("Cover"):o.Cover).$new.apply(t,[].concat(n))}),$.$end_with=function(n){var t,o,a;return n=r.call(arguments,0),(t=null==(o=(null==(a=p.BuiltIn)?e.cm("BuiltIn"):a)._scope).EndWith?o.cm("EndWith"):o.EndWith).$new.apply(t,[].concat(n))},$.$eq=function(n){var t,r;return(null==(t=(null==(r=p.BuiltIn)?e.cm("BuiltIn"):r)._scope).Eq?t.cm("Eq"):t.Eq).$new(n)},$.$eql=function(n){var t,r;return(null==(t=(null==(r=p.BuiltIn)?e.cm("BuiltIn"):r)._scope).Eql?t.cm("Eql"):t.Eql).$new(n)},$.$equal=function(n){var t,r;return(null==(t=(null==(r=p.BuiltIn)?e.cm("BuiltIn"):r)._scope).Equal?t.cm("Equal"):t.Equal).$new(n)},$.$exist=function(n){var t,o,a;return n=r.call(arguments,0),(t=null==(o=(null==(a=p.BuiltIn)?e.cm("BuiltIn"):a)._scope).Exist?o.cm("Exist"):o.Exist).$new.apply(t,[].concat(n))},$.$include=function(n){var t,o,a;return n=r.call(arguments,0),(t=null==(o=(null==(a=p.BuiltIn)?e.cm("BuiltIn"):a)._scope).Include?o.cm("Include"):o.Include).$new.apply(t,[].concat(n))},$.$match=function(n){var t,r;return(null==(t=(null==(r=p.BuiltIn)?e.cm("BuiltIn"):r)._scope).Match?t.cm("Match"):t.Match).$new(n)},_.$alias_method("match_regex","match"),$.$raise_error=l=function(n,r){var o,a,i,s,c=l._p,u=c||t;return null==n&&(n=null==(o=p.Exception)?e.cm("Exception"):o),null==r&&(r=t),l._p=null,(o=(a=null==(i=(null==(s=p.BuiltIn)?e.cm("BuiltIn"):s)._scope).RaiseError?i.cm("RaiseError"):i.RaiseError).$new,o._p=u.$to_proc(),o).call(a,n,r)},_.$alias_method("raise_exception","raise_error"),$.$respond_to=function(n){var t,o,a;return n=r.call(arguments,0),(t=null==(o=(null==(a=p.BuiltIn)?e.cm("BuiltIn"):a)._scope).RespondTo?o.cm("RespondTo"):o.RespondTo).$new.apply(t,[].concat(n))},$.$satisfy=c=function(){var n,r,o,a,i=c._p,s=i||t;return c._p=null,(n=(r=null==(o=(null==(a=p.BuiltIn)?e.cm("BuiltIn"):a)._scope).Satisfy?o.cm("Satisfy"):o.Satisfy).$new,n._p=s.$to_proc(),n).call(r)},$.$start_with=function(n){var t,o,a;return n=r.call(arguments,0),(t=null==(o=(null==(a=p.BuiltIn)?e.cm("BuiltIn"):a)._scope).StartWith?o.cm("StartWith"):o.StartWith).$new.apply(t,[].concat(n))},$.$throw_symbol=function(n,r){var o,a;return null==n&&(n=t),null==r&&(r=t),(null==(o=(null==(a=p.BuiltIn)?e.cm("BuiltIn"):a)._scope).ThrowSymbol?o.cm("ThrowSymbol"):o.ThrowSymbol).$new(n,r)},$.$yield_control=function(){var n,t;return(null==(n=(null==(t=p.BuiltIn)?e.cm("BuiltIn"):t)._scope).YieldControl?n.cm("YieldControl"):n.YieldControl).$new()},$.$yield_with_no_args=function(){var n,t;return(null==(n=(null==(t=p.BuiltIn)?e.cm("BuiltIn"):t)._scope).YieldWithNoArgs?n.cm("YieldWithNoArgs"):n.YieldWithNoArgs).$new()},$.$yield_with_args=function(n){var t,o,a;return n=r.call(arguments,0),(t=null==(o=(null==(a=p.BuiltIn)?e.cm("BuiltIn"):a)._scope).YieldWithArgs?o.cm("YieldWithArgs"):o.YieldWithArgs).$new.apply(t,[].concat(n))},$.$yield_successive_args=function(n){var t,o,a;return n=r.call(arguments,0),(t=null==(o=(null==(a=p.BuiltIn)?e.cm("BuiltIn"):a)._scope).YieldSuccessiveArgs?o.cm("YieldSuccessiveArgs"):o.YieldSuccessiveArgs).$new.apply(t,[].concat(n))},$.$match_array=function(n){var t,r;return(null==(t=(null==(r=p.BuiltIn)?e.cm("BuiltIn"):r)._scope).MatchArray?t.cm("MatchArray"):t.MatchArray).$new(n)},(null==(s=p.OperatorMatcher)?e.cm("OperatorMatcher"):s).$register(null==(s=p.Enumerable)?e.cm("Enumerable"):s,"=~",null==(s=(null==(u=p.BuiltIn)?e.cm("BuiltIn"):u)._scope).MatchArray?s.cm("MatchArray"):s.MatchArray),e.donate(_,["$be_truthy","$be_falsey","$be_nil","$be","$be_a","$be_an_instance_of","$be_a_kind_of","$be_within","$change","$cover","$end_with","$eq","$eql","$equal","$exist","$include","$match","$raise_error","$respond_to","$satisfy","$start_with","$throw_symbol","$yield_control","$yield_with_no_args","$yield_with_args","$yield_successive_args","$match_array"])}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass,i=e.hash2;return e.add_stubs(["$attr_accessor","$prevent_operator_matchers","$handle_matcher","$to_proc","$deprecated_should_enabled?","$deprecate","$should","$should_not","$deprecated_should_enabled=","$remove_method","$private","$raise","$+"]),function(n){var s=o(n,"RSpec");s._proto,s._scope,function(n){var s=o(n,"Expectations");s._proto,s._scope,function(n,$super){function o(){}var s,l,c=o=a(n,$super,"ExpectationTarget",o),u=c._proto,_=c._scope;return u.target=t,function(e){return e._scope,e._proto,e.$attr_accessor("deprecated_should_enabled"),e._proto["$deprecated_should_enabled?"]=e._proto.$deprecated_should_enabled}(c.$singleton_class()),u.$initialize=function(e){var n=this;return n.target=e},u.$to=s=function(n,r){var o,a,i,l,c,u=this,$=s._p,p=$||t;return null==n&&(n=t),null==r&&(r=t),s._p=null,u.$prevent_operator_matchers("to",n),(o=(a=null==(i=(null==(l=(null==(c=_.RSpec)?e.cm("RSpec"):c)._scope).Expectations?l.cm("Expectations"):l.Expectations)._scope).PositiveExpectationHandler?i.cm("PositiveExpectationHandler"):i.PositiveExpectationHandler).$handle_matcher,o._p=p.$to_proc(),o).call(a,u.target,n,r)},u.$not_to=l=function(n,r){var o,a,i,s,c,u=this,$=l._p,p=$||t;return null==n&&(n=t),null==r&&(r=t),l._p=null,u.$prevent_operator_matchers("not_to",n),(o=(a=null==(i=(null==(s=(null==(c=_.RSpec)?e.cm("RSpec"):c)._scope).Expectations?s.cm("Expectations"):s.Expectations)._scope).NegativeExpectationHandler?i.cm("NegativeExpectationHandler"):i.NegativeExpectationHandler).$handle_matcher,o._p=p.$to_proc(),o).call(a,u.target,n,r)},e.defn(c,"$to_not",u.$not_to),e.defs(c,"$enable_deprecated_should",function(){var n,o=this;return(n=o["$deprecated_should_enabled?"]())===t||n._isBoolean&&1!=n?(u.$should=function(n){var o,a=this;return null==a.target&&(a.target=t),n=r.call(arguments,0),(null==(o=_.RSpec)?e.cm("RSpec"):o).$deprecate("`expect { }.should`",i(["replacement"],{replacement:"`expect { }.to`"})),(o=a.target).$should.apply(o,[].concat(n))},u.$should_not=function(n){var o,a=this;return null==a.target&&(a.target=t),n=r.call(arguments,0),(null==(o=_.RSpec)?e.cm("RSpec"):o).$deprecate("`expect { }.should_not`",i(["replacement"],{replacement:"`expect { }.not_to`"})),(o=a.target).$should_not.apply(o,[].concat(n))},o["$deprecated_should_enabled="](!0)):t}),e.defs(c,"$disable_deprecated_should",function(){var e,n=this;return(e=n["$deprecated_should_enabled?"]())===t||e._isBoolean&&1!=e?t:(n.$remove_method("should"),n.$remove_method("should_not"),n["$deprecated_should_enabled="](!1))}),c.$private(),u.$prevent_operator_matchers=function(n,r){var o,a=this;return r!==!1&&r!==t?t:a.$raise(null==(o=_.ArgumentError)?e.cm("ArgumentError"):o,"The expect syntax does not support operator matchers, "["$+"]("so you must pass a matcher to `#"+n+"`."))},t}(s,null)}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.hash2;return e.add_stubs(["$extend","$last","$ancestors","$deprecate","$should_enabled?","$module_exec","$warn_about_should_unless_configured","$handle_matcher","$to_proc","$expect_enabled?","$enable_deprecated_should","$default_should_host","$disable_deprecated_should","$<<","$==","$size","$raise","$new","$first","$method_defined?","$positive_expression","$expression_generator","$negative_expression"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Expectations");i._proto,i._scope,function(n){var i=o(n,"Syntax"),s=i._proto,l=i._scope;i.$extend(i),s.$default_should_host=function(){var n,r,o=this;return null==o.default_should_host&&(o.default_should_host=t),(n=o.default_should_host)!==!1&&n!==t?n:o.default_should_host=(null==(r=e.Object._scope.Object)?e.cm("Object"):r).$ancestors().$last()},e.defs(i,"$warn_about_should!",function(){var e=this;return e.warn_about_should=!0}),e.defs(i,"$warn_about_should_unless_configured",function(n){var r,o=this;return null==o.warn_about_should&&(o.warn_about_should=t),(r=o.warn_about_should)===t||r._isBoolean&&1!=r?t:((null==(r=l.RSpec)?e.cm("RSpec"):r).$deprecate("Using `"+n+"` from rspec-expectations' old `:should` syntax without explicitly enabling the syntax",a(["replacement"],{replacement:"the new `:expect` syntax or explicitly enable `:should`"})),o.warn_about_should=!1)}),s.$enable_should=function(n){var r,o,a,i,s,l=this;return null==n&&(n=l.$default_should_host()),l.warn_about_should=!1,(r=l["$should_enabled?"](n))===t||r._isBoolean&&1!=r?((r=(o=n).$module_exec,r._p=(a=function(){var n,r,o=a._s||this;return e.defn(o,"$should",n=function(r,o){var a,i,s,l,c,u=this,_=n._p,$=_||t;return null==r&&(r=t),null==o&&(o=t),n._p=null,(null==(a=(null==(i=(null==(s=e.Object._scope.RSpec)?e.cm("RSpec"):s)._scope).Expectations?i.cm("Expectations"):i.Expectations)._scope).Syntax?a.cm("Syntax"):a.Syntax).$warn_about_should_unless_configured("should"),(a=(i=null==(s=(null==(l=(null==(c=e.Object._scope.RSpec)?e.cm("RSpec"):c)._scope).Expectations?l.cm("Expectations"):l.Expectations)._scope).PositiveExpectationHandler?s.cm("PositiveExpectationHandler"):s.PositiveExpectationHandler).$handle_matcher,a._p=$.$to_proc(),a).call(i,u,r,o)}),e.defn(o,"$should_not",r=function(n,o){var a,i,s,l,c,u=this,_=r._p,$=_||t;return null==n&&(n=t),null==o&&(o=t),r._p=null,(null==(a=(null==(i=(null==(s=e.Object._scope.RSpec)?e.cm("RSpec"):s)._scope).Expectations?i.cm("Expectations"):i.Expectations)._scope).Syntax?a.cm("Syntax"):a.Syntax).$warn_about_should_unless_configured("should_not"),(a=(i=null==(s=(null==(l=(null==(c=e.Object._scope.RSpec)?e.cm("RSpec"):c)._scope).Expectations?l.cm("Expectations"):l.Expectations)._scope).NegativeExpectationHandler?s.cm("NegativeExpectationHandler"):s.NegativeExpectationHandler).$handle_matcher,a._p=$.$to_proc(),a).call(i,u,n,o)}),t},a._s=l,a),r).call(o),(r=l["$expect_enabled?"]())===t||r._isBoolean&&1!=r?t:(null==(r=(null==(i=(null==(s=e.Object._scope.RSpec)?e.cm("RSpec"):s)._scope).Expectations?i.cm("Expectations"):i.Expectations)._scope).ExpectationTarget?r.cm("ExpectationTarget"):r.ExpectationTarget).$enable_deprecated_should()):t},s.$disable_should=function(n){var r,o,a,i,l,c=this;return null==n&&(n=c.$default_should_host()),(r=c["$should_enabled?"](n))===t||r._isBoolean&&1!=r?t:((r=(o=n).$module_exec,r._p=(a=function(){return a._s||this,delete s.$should,delete s.$should_not},a._s=c,a),r).call(o),(null==(r=(null==(i=(null==(l=e.Object._scope.RSpec)?e.cm("RSpec"):l)._scope).Expectations?i.cm("Expectations"):i.Expectations)._scope).ExpectationTarget?r.cm("ExpectationTarget"):r.ExpectationTarget).$disable_deprecated_should())},s.$enable_expect=function(n){var o,a,i,s,c,u=this;return null==n&&(n=null==(o=(null==(s=e.Object._scope.RSpec)?e.cm("RSpec"):s)._scope).Matchers?o.cm("Matchers"):o.Matchers),(o=u["$expect_enabled?"](n))===t||o._isBoolean&&1!=o?((o=(a=n).$module_exec,o._p=(i=function(){var n,o=i._s||this;return e.defn(o,"$expect",n=function(o){var a,i,s,c=this,u=n._p,_=u||t;return o=r.call(arguments,0),n._p=null,_!==t&&o["$<<"](_),o.$size()["$=="](1)||c.$raise((null==(a=l.ArgumentError)?e.cm("ArgumentError"):a).$new("You must pass an argument or a block to #expect but not both.")),(null==(a=(null==(i=(null==(s=e.Object._scope.RSpec)?e.cm("RSpec"):s)._scope).Expectations?i.cm("Expectations"):i.Expectations)._scope).ExpectationTarget?a.cm("ExpectationTarget"):a.ExpectationTarget).$new(o.$first())}),t},i._s=u,i),o).call(a),(o=u["$should_enabled?"]())===t||o._isBoolean&&1!=o?t:(null==(o=(null==(s=(null==(c=e.Object._scope.RSpec)?e.cm("RSpec"):c)._scope).Expectations?s.cm("Expectations"):s.Expectations)._scope).ExpectationTarget?o.cm("ExpectationTarget"):o.ExpectationTarget).$enable_deprecated_should()):t},s.$disable_expect=function(n){var r,o,a,i,l,c=this;return null==n&&(n=null==(r=(null==(i=e.Object._scope.RSpec)?e.cm("RSpec"):i)._scope).Matchers?r.cm("Matchers"):r.Matchers),(r=c["$expect_enabled?"](n))===t||r._isBoolean&&1!=r?t:((r=(o=n).$module_exec,r._p=(a=function(){return a._s||this,delete s.$expect},a._s=c,a),r).call(o),(null==(r=(null==(i=(null==(l=e.Object._scope.RSpec)?e.cm("RSpec"):l)._scope).Expectations?i.cm("Expectations"):i.Expectations)._scope).ExpectationTarget?r.cm("ExpectationTarget"):r.ExpectationTarget).$disable_deprecated_should())},s["$should_enabled?"]=function(e){var n=this;return null==e&&(e=n.$default_should_host()),e["$method_defined?"]("should")},s["$expect_enabled?"]=function(n){var t,r;return null==n&&(n=null==(t=(null==(r=e.Object._scope.RSpec)?e.cm("RSpec"):r)._scope).Matchers?t.cm("Matchers"):t.Matchers),n["$method_defined?"]("expect")},s.$positive_expression=function(e,n){var t=this;return t.$expression_generator().$positive_expression(e,n)},s.$negative_expression=function(e,n){var t=this;
return t.$expression_generator().$negative_expression(e,n)},s.$expression_generator=function(){var n,r=this;return(n=r["$expect_enabled?"]())===t||n._isBoolean&&1!=n?null==(n=l.ShouldExpressionGenerator)?e.cm("ShouldExpressionGenerator"):n:null==(n=l.ExpectExpressionGenerator)?e.cm("ExpectExpressionGenerator"):n},function(n){var t=o(n,"ShouldExpressionGenerator");t._proto,t._scope,e.defs(t,"$positive_expression",function(e,n){return""+e+".should "+n}),e.defs(t,"$negative_expression",function(e,n){return""+e+".should_not "+n})}(i),function(n){var t=o(n,"ExpectExpressionGenerator");t._proto,t._scope,e.defs(t,"$positive_expression",function(e,n){return"expect("+e+").to "+n}),e.defs(t,"$negative_expression",function(e,n){return"expect("+e+").not_to "+n})}(i),e.donate(i,["$default_should_host","$enable_should","$disable_should","$enable_expect","$disable_expect","$should_enabled?","$expect_enabled?","$positive_expression","$negative_expression","$expression_generator"])}(i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass;return e.add_stubs(["$include?","$Array","$enable_expect","$disable_expect","$enable_should","$disable_should","$should_enabled?","$<<","$expect_enabled?","$respond_to?","$color_enabled?","$configuration","$attr_writer","$each","$syntax=","$warn_about_should!","$new","$reset_syntaxes_to_default"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Matchers"),s=(i._proto,i._scope);!function(n,$super){function o(){}var i,s,l,c,u=o=a(n,$super,"Configuration",o),_=u._proto,$=u._scope;return _.color=_.backtrace_formatter=t,_["$syntax="]=function(n){var r,o,a=this;return(r=a.$Array(n)["$include?"]("expect"))===t||r._isBoolean&&1!=r?(null==(r=(null==(o=$.Expectations)?e.cm("Expectations"):o)._scope).Syntax?r.cm("Syntax"):r.Syntax).$disable_expect():(null==(r=(null==(o=$.Expectations)?e.cm("Expectations"):o)._scope).Syntax?r.cm("Syntax"):r.Syntax).$enable_expect(),(r=a.$Array(n)["$include?"]("should"))===t||r._isBoolean&&1!=r?(null==(r=(null==(o=$.Expectations)?e.cm("Expectations"):o)._scope).Syntax?r.cm("Syntax"):r.Syntax).$disable_should():(null==(r=(null==(o=$.Expectations)?e.cm("Expectations"):o)._scope).Syntax?r.cm("Syntax"):r.Syntax).$enable_should()},_.$syntax=function(){var n,r,o,a=t;return a=[],(n=(null==(r=(null==(o=$.Expectations)?e.cm("Expectations"):o)._scope).Syntax?r.cm("Syntax"):r.Syntax)["$should_enabled?"]())===t||n._isBoolean&&1!=n||a["$<<"]("should"),(n=(null==(r=(null==(o=$.Expectations)?e.cm("Expectations"):o)._scope).Syntax?r.cm("Syntax"):r.Syntax)["$expect_enabled?"]())===t||n._isBoolean&&1!=n||a["$<<"]("expect"),a},(i=(null==(s=e.Object._scope.RSpec)?e.cm("RSpec"):s)["$respond_to?"]("configuration"))===t||i._isBoolean&&1!=i?(u.$attr_writer("color"),_["$color?"]=function(){var e=this;return e.color}):_["$color?"]=function(){var n;return(null==(n=e.Object._scope.RSpec)?e.cm("RSpec"):n).$configuration()["$color_enabled?"]()},_.$add_should_and_should_not_to=function(n){var o,a,i,s=this;return n=r.call(arguments,0),(o=(a=n).$each,o._p=(i=function(n){var r,o;return i._s||this,null==n&&(n=t),(null==(r=(null==(o=$.Expectations)?e.cm("Expectations"):o)._scope).Syntax?r.cm("Syntax"):r.Syntax).$enable_should(n)},i._s=s,i),o).call(a)},u.$attr_writer("backtrace_formatter"),_.$backtrace_formatter=function(){var n,r,o,a,i,s=this;return(n=s.backtrace_formatter)!==!1&&n!==t?n:s.backtrace_formatter=function(){return(r=function(){try{return null!=(null==(o=(null==(a=(null==(i=e.Object._scope.RSpec)?e.cm("RSpec"):i)._scope).Core?a.cm("Core"):a.Core)._scope).BacktraceFormatter?o.cm("BacktraceFormatter"):o.BacktraceFormatter)?"constant":t}catch(n){if(n._klass===Opal.NameError)return t;throw n}}())===t||r._isBoolean&&1!=r?null==(r=$.NullBacktraceFormatter)?e.cm("NullBacktraceFormatter"):r:null==(r=(null==(o=(null==(a=e.Object._scope.RSpec)?e.cm("RSpec"):a)._scope).Core?o.cm("Core"):o.Core)._scope).BacktraceFormatter?r.cm("BacktraceFormatter"):r.BacktraceFormatter}()},_.$reset_syntaxes_to_default=function(){var n,t,r,o=this;return o["$syntax="](["should","expect"]),(null==(n=(null==(t=(null==(r=$.RSpec)?e.cm("RSpec"):r)._scope).Expectations?t.cm("Expectations"):t.Expectations)._scope).Syntax?n.cm("Syntax"):n.Syntax)["$warn_about_should!"]()},e.cdecl($,"NullBacktraceFormatter",(i=(s=null==(c=$.Module)?e.cm("Module"):c).$new,i._p=(l=function(){var n=l._s||this;return e.defs(n,"$format_backtrace",function(e){return e}),t},l._s=u,l),i).call(s))}(i,null),e.defs(i,"$configuration",function(){var n,r,o=this;return null==o.configuration&&(o.configuration=t),(n=o.configuration)!==!1&&n!==t?n:o.configuration=(null==(r=s.Configuration)?e.cm("Configuration"):r).$new()}),i.$configuration().$reset_syntaxes_to_default()}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module;return e.add_stubs(["$new","$!","$raise","$+","$all_strings?","$any_multiline_strings?","$<<","$diff_as_string","$differ","$coerce_to_string","$no_procs?","$no_numbers?","$diff_as_object","$private","$none?","$===","$flatten","$all?","$any?","$multiline?","$join","$diffably_stringify","$map","$inspect","$gsub","$to_s","$method_defined?","$include?","$encode","$encoding"]),function(n){var a=o(n,"RSpec");a._proto,a._scope,function(n){var a=o(n,"Expectations");a._proto,a._scope,function(n){var o=n._scope;return n._proto,n._proto.$differ=function(){var n,r,a=this;return null==a.differ&&(a.differ=t),(n=a.differ)!==!1&&n!==t?n:a.differ=(null==(r=o.Differ)?e.cm("Differ"):r).$new()},n._proto.$fail_with=function(n,r,a){var i,s,l,c=this;return null==r&&(r=t),null==a&&(a=t),(i=n["$!"]())===t||i._isBoolean&&1!=i||c.$raise(null==(i=o.ArgumentError)?e.cm("ArgumentError"):i,"Failure message is nil. Does your matcher define the "["$+"]("appropriate failure_message_for_* method to return a string?")),(i=(s=a!==!1&&a!==t)?r:s)===t||i._isBoolean&&1!=i||((i=c["$all_strings?"](a,r))===t||i._isBoolean&&1!=i?(s=c["$no_procs?"](a,r),(i=s!==!1&&s!==t?c["$no_numbers?"](a,r):s)===t||i._isBoolean&&1!=i||n["$<<"]("\nDiff:")["$<<"](c.$differ().$diff_as_object(a,r))):(i=c["$any_multiline_strings?"](a,r))===t||i._isBoolean&&1!=i||n["$<<"]("\nDiff:")["$<<"](c.$differ().$diff_as_string(c.$coerce_to_string(a),c.$coerce_to_string(r)))),c.$raise((null==(i=(null==(s=(null==(l=o.RSpec)?e.cm("RSpec"):l)._scope).Expectations?s.cm("Expectations"):s.Expectations)._scope).ExpectationNotMetError?i.cm("ExpectationNotMetError"):i.ExpectationNotMetError).$new(n))},n.$private(),n._proto["$no_procs?"]=function(n){var a,i,s,l=this;return n=r.call(arguments,0),(a=(i=n.$flatten())["$none?"],a._p=(s=function(n){var r;return s._s||this,null==n&&(n=t),(null==(r=o.Proc)?e.cm("Proc"):r)["$==="](n)},s._s=l,s),a).call(i)},n._proto["$all_strings?"]=function(n){var a,i,s,l=this;return n=r.call(arguments,0),(a=(i=n.$flatten())["$all?"],a._p=(s=function(n){var r;return s._s||this,null==n&&(n=t),(null==(r=o.String)?e.cm("String"):r)["$==="](n)},s._s=l,s),a).call(i)},n._proto["$any_multiline_strings?"]=function(e){var n,o,a,i,s,l=this;return e=r.call(arguments,0),n=(o=l)["$all_strings?"].apply(o,[].concat(e)),n!==!1&&n!==t?(a=(i=e.$flatten())["$any?"],a._p=(s=function(e){var n=s._s||this;return null==e&&(e=t),n["$multiline?"](e)},s._s=l,s),a).call(i):n},n._proto["$no_numbers?"]=function(n){var a,i,s,l=this;return n=r.call(arguments,0),(a=(i=n.$flatten())["$none?"],a._p=(s=function(n){var r;return s._s||this,null==n&&(n=t),(null==(r=o.Numeric)?e.cm("Numeric"):r)["$==="](n)},s._s=l,s),a).call(i)},n._proto.$coerce_to_string=function(n){var r,a,i=this;return(r=(null==(a=o.Array)?e.cm("Array"):a)["$==="](n))===t||r._isBoolean&&1!=r?n:i.$diffably_stringify(n).$join("\n")},n._proto.$diffably_stringify=function(n){var r,a,i,s=this;return(r=(a=n).$map,r._p=(i=function(n){var r,a;return i._s||this,null==n&&(n=t),(r=(null==(a=o.Array)?e.cm("Array"):a)["$==="](n))===t||r._isBoolean&&1!=r?n.$to_s().$gsub("\n","\\n"):n.$inspect()},i._s=s,i),r).call(a)},($a=(null==($b=o.String)?e.cm("String"):$b)["$method_defined?"]("encoding"))===t||$a._isBoolean&&1!=$a?(n._proto["$multiline?"]=function(e){return e["$include?"]("\n")},t):(n._proto["$multiline?"]=function(e){return e["$include?"]("\n".$encode(e.$encoding()))},t)}(a.$singleton_class())}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs([]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a,i,s,l,c=r(n,"Expectations"),u=(c._proto,c._scope);(a=function(){try{return null!=(null==(i=(null==(s=(null==(l=u.Test)?e.cm("Test"):l)._scope).Unit?s.cm("Unit"):s.Unit)._scope).AssertionFailedError?i.cm("AssertionFailedError"):i.AssertionFailedError)?"constant":t}catch(n){if(n._klass===Opal.NameError)return t;throw n}}())===t||a._isBoolean&&1!=a?function(e,$super){function n(){}var r=n=o(e,$super,"ExpectationNotMetError",n);return r._proto,r._scope,t}(c,null==(a=e.Object._scope.StandardError)?e.cm("StandardError"):a):function(e,$super){function n(){}var r=n=o(e,$super,"ExpectationNotMetError",n);return r._proto,r._scope,t}(c,null==(a=(null==(i=(null==(s=u.Test)?e.cm("Test"):s)._scope).Unit?i.cm("Unit"):i.Unit)._scope).AssertionFailedError?a.cm("AssertionFailedError"):a.AssertionFailedError)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$nil?","$respond_to?","$warn","$join","$inspect","$check_message","$last_should=","$last_matcher=","$new","$matches?","$to_proc","$call","$failure_message_for_should","$failure_message","$diffable?","$fail_with","$expected","$actual","$!","$does_not_match?","$failure_message_for_should_not","$negative_failure_message"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a,i=r(n,"Expectations"),s=(i._proto,i._scope);!function(n,$super){function r(){}var a=r=o(n,$super,"ExpectationHandler",r);return a._proto,a._scope,e.defs(a,"$check_message",function(n){var r,o,a;return(r=(o=(a=n["$nil?"]())!==!1&&a!==t?a:n["$respond_to?"]("to_str"))!==!1&&o!==t?o:n["$respond_to?"]("call"))===t||r._isBoolean&&1!=r?(null==(r=e.Object._scope.Kernel)?e.cm("Kernel"):r).$warn(["WARNING: ignoring the provided expectation message argument (",n.$inspect(),") since it is not a string or a proc."].$join()):t}),t}(i,null),function(n,$super){function r(){}var a,i=r=o(n,$super,"PositiveExpectationHandler",r);return i._proto,i._scope,e.defs(i,"$handle_matcher",a=function(n,r,o){var i,s,l,c,u=this,_=a._p,$=_||t,p=t;return null==o&&(o=t),a._p=null,u.$check_message(o),(null==(i=(null==(s=e.Object._scope.RSpec)?e.cm("RSpec"):s)._scope).Matchers?i.cm("Matchers"):i.Matchers)["$last_should="]("should"),(null==(i=(null==(s=e.Object._scope.RSpec)?e.cm("RSpec"):s)._scope).Matchers?i.cm("Matchers"):i.Matchers)["$last_matcher="](r),(i=r["$nil?"]())===t||i._isBoolean&&1!=i?(p=(i=(s=r)["$matches?"],i._p=$.$to_proc(),i).call(s,n),p!==!1&&p!==t?p:((i=o["$respond_to?"]("call"))===t||i._isBoolean&&1!=i||(o=o.$call()),(i=o)!==!1&&i!==t?i:o=function(){return(l=r["$respond_to?"]("failure_message_for_should"))===t||l._isBoolean&&1!=l?r.$failure_message():r.$failure_message_for_should()}(),l=r["$respond_to?"]("diffable?"),(i=l!==!1&&l!==t?r["$diffable?"]():l)===t||i._isBoolean&&1!=i?(null==(i=(null==(l=e.Object._scope.RSpec)?e.cm("RSpec"):l)._scope).Expectations?i.cm("Expectations"):i.Expectations).$fail_with(o):(null==(i=(null==(l=e.Object._scope.RSpec)?e.cm("RSpec"):l)._scope).Expectations?i.cm("Expectations"):i.Expectations).$fail_with(o,r.$expected(),r.$actual()))):(null==(i=(null==(s=(null==(l=(null==(c=e.Object._scope.RSpec)?e.cm("RSpec"):c)._scope).Matchers?l.cm("Matchers"):l.Matchers)._scope).BuiltIn?s.cm("BuiltIn"):s.BuiltIn)._scope).PositiveOperatorMatcher?i.cm("PositiveOperatorMatcher"):i.PositiveOperatorMatcher).$new(n)}),t}(i,null==(a=s.ExpectationHandler)?e.cm("ExpectationHandler"):a),function(n,$super){function r(){}var a,i=r=o(n,$super,"NegativeExpectationHandler",r);return i._proto,i._scope,e.defs(i,"$handle_matcher",a=function(n,r,o){var i,s,l,c,u=this,_=a._p,$=_||t,p=t;return null==o&&(o=t),a._p=null,u.$check_message(o),(null==(i=(null==(s=e.Object._scope.RSpec)?e.cm("RSpec"):s)._scope).Matchers?i.cm("Matchers"):i.Matchers)["$last_should="]("should_not"),(null==(i=(null==(s=e.Object._scope.RSpec)?e.cm("RSpec"):s)._scope).Matchers?i.cm("Matchers"):i.Matchers)["$last_matcher="](r),(i=r["$nil?"]())===t||i._isBoolean&&1!=i?(p=function(){return(i=r["$respond_to?"]("does_not_match?"))===t||i._isBoolean&&1!=i?(i=(l=r)["$matches?"],i._p=$.$to_proc(),i).call(l,n):(i=(s=r)["$does_not_match?"],i._p=$.$to_proc(),i).call(s,n)["$!"]()}(),p===!1||p===t?p:((i=o["$respond_to?"]("call"))===t||i._isBoolean&&1!=i||(o=o.$call()),(i=o)!==!1&&i!==t?i:o=function(){return(c=r["$respond_to?"]("failure_message_for_should_not"))===t||c._isBoolean&&1!=c?r.$negative_failure_message():r.$failure_message_for_should_not()}(),c=r["$respond_to?"]("diffable?"),(i=c!==!1&&c!==t?r["$diffable?"]():c)===t||i._isBoolean&&1!=i?(null==(i=(null==(c=e.Object._scope.RSpec)?e.cm("RSpec"):c)._scope).Expectations?i.cm("Expectations"):i.Expectations).$fail_with(o):(null==(i=(null==(c=e.Object._scope.RSpec)?e.cm("RSpec"):c)._scope).Expectations?i.cm("Expectations"):i.Expectations).$fail_with(o,r.$expected(),r.$actual()))):(null==(i=(null==(s=(null==(l=(null==(c=e.Object._scope.RSpec)?e.cm("RSpec"):c)._scope).Matchers?l.cm("Matchers"):l.Matchers)._scope).BuiltIn?s.cm("BuiltIn"):s.BuiltIn)._scope).NegativeOperatorMatcher?i.cm("NegativeOperatorMatcher"):i.NegativeOperatorMatcher).$new(n)}),t}(i,null==(a=s.ExpectationHandler)?e.cm("ExpectationHandler"):a)}(a)}(n)}(Opal),function(e){var n=e.top,t=(e.nil,e.breaker,e.slice,e.module);return e.add_stubs([]),function(n){var r=t(n,"RSpec");r._proto,r._scope,function(n){var r=t(n,"Expectations");r._proto,r._scope,function(n){var r=t(n,"Version"),o=(r._proto,r._scope);e.cdecl(o,"STRING","3.0.0.beta1")}(r)}(r)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module;return e.add_stubs(["$inspect","$each","$<=","$length","$[]"]),function(n){var a,i=o(n,"Kernel"),s=i._proto;i._scope,s.$pretty_inspect=function(){var e=this;return e.$inspect()},(a="undefined"==typeof console||"undefined"==typeof console.log)===t||a._isBoolean&&1!=a?s.$pp=function(e){var n,o,a,i=this;return e=r.call(arguments,0),(n=(o=e).$each,n._p=(a=function(e){a._s||this,null==e&&(e=t),console.log(e)},a._s=i,a),n).call(o),e.$length()["$<="](1)?e["$[]"](0):e}:e.defn(i,"$pp",s.$p),e.donate(i,["$pretty_inspect","$pp","$pp"])}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass,a=e.hash2;return e.add_stubs(["$pick_encoding","$matching_encoding","$map!","$chomp","$split","$diff","$empty?","$each","$new","$context_lines","$file_length_difference","$>","$overlaps?","$respond_to?","$merge","$unshift","$<<","$to_s","$format","$color_diff","$!","$==","$encoding","$+","$object_to_string","$diff_as_string","$protected","$color","$color?","$configuration","$join","$map","$chr","$[]","$===","$green","$red","$blue","$lines","$singleline_pp","$sort_by","$keys","$=~","$inspect","$pp","$private","$method_defined?","$compatible?","$default_external","$encode"]),function(n){var i=r(n,"RSpec");i._proto,i._scope,function(n){var i=r(n,"Expectations");i._proto,i._scope,function(n,$super){function r(){}var i,s,l=r=o(n,$super,"Differ",r),c=l._proto,u=l._scope;return c.$diff_as_string=function(n,r){var o,a,i,s,l,c,_,$=this,p=t,d=t,f=t,m=t,h=t,v=t,g=t,b=t;try{return p=$.$pick_encoding(n,r),d=$.$matching_encoding("",p),f=(o=(a=r.$split($.$matching_encoding("\n",p)))["$map!"],o._p=(i=function(e){return i._s||this,null==e&&(e=t),e.$chomp()},i._s=$,i),o).call(a),m=(o=(s=n.$split($.$matching_encoding("\n",p)))["$map!"],o._p=(l=function(e){return l._s||this,null==e&&(e=t),e.$chomp()},l._s=$,l),o).call(s),h=(null==(o=(null==(c=u.Diff)?e.cm("Diff"):c)._scope).LCS?o.cm("LCS"):o.LCS).$diff(f,m),(o=h["$empty?"]())===t||o._isBoolean&&1!=o?(v=g=t,b=0,(o=(c=h).$each,o._p=(_=function(n){var r,o,a,i=_._s||this;null==n&&(n=t);try{return g=(null==(r=(null==(o=(null==(a=u.Diff)?e.cm("Diff"):a)._scope).LCS?o.cm("LCS"):o.LCS)._scope).Hunk?r.cm("Hunk"):r.Hunk).$new(f,m,n,i.$context_lines(),b),b=g.$file_length_difference(),v===!1||v===t?t:(o=i.$context_lines()["$>"](0),(r=o!==!1&&o!==t?g["$overlaps?"](v):o)===t||r._isBoolean&&1!=r?d["$<<"](i.$matching_encoding(v.$diff(i.$format()).$to_s(),p)):(r=g["$respond_to?"]("merge"))===t||r._isBoolean&&1!=r?g.$unshift(v):g.$merge(v))}finally{v=g,d["$<<"](i.$matching_encoding("\n",p))}},_._s=$,_),o).call(c),d["$<<"]($.$matching_encoding(v.$diff($.$format()).$to_s(),p)),d["$<<"]($.$matching_encoding("\n",p)),$.$color_diff(d)):d}catch(x){return(o=n.$encoding()["$=="](r.$encoding())["$!"]())===t||o._isBoolean&&1!=o?"Could not produce a diff because of the encoding of the string ("+r.$encoding()+")":("Could not produce a diff because the encoding of the actual string ("+r.$encoding()+") ")["$+"]("differs from the encoding of the expected string ("+n.$encoding()+")")}},c.$diff_as_object=function(e,n){var r,o=this,a=t,i=t,s=t;return a=o.$object_to_string(e),i=o.$object_to_string(n),(r=s=o.$diff_as_string(a,i))===t||r._isBoolean&&1!=r?t:o.$color_diff(s)},l.$protected(),c.$format=function(){return"unified"},c.$context_lines=function(){return 3},c.$color=function(e,n){return"e["+n+"m"+e+"e[0m"},c.$red=function(e){var n=this;return n.$color(e,31)},c.$green=function(e){var n=this;return n.$color(e,32)},c.$blue=function(e){var n=this;return n.$color(e,34)},c.$color_diff=function(n){var r,o,a,i,s=this;return(r=(null==(o=(null==(a=u.RSpec)?e.cm("RSpec"):a)._scope).Matchers?o.cm("Matchers"):o.Matchers).$configuration()["$color?"]())===t||r._isBoolean&&1!=r?n:(r=(o=n.$lines()).$map,r._p=(i=function(e){var n=i._s||this,r=t;return null==e&&(e=t),function(){return r=e["$[]"](0).$chr(),"+"["$==="](r)?n.$green(e):"-"["$==="](r)?n.$red(e):"@"["$==="](r)?e["$[]"](1).$chr()["$=="]("@")?n.$blue(e):e:e}()},i._s=s,i),r).call(o).$join()},c.$object_to_string=function(n){var r,o,a,i,s,l,c=this,_=t;return function(){return _=n,(null==(r=u.Hash)?e.cm("Hash"):r)["$==="](_)?(r=(o=(i=(s=n.$keys()).$sort_by,i._p=(l=function(e){return l._s||this,null==e&&(e=t),e.$to_s()},l._s=c,l),i).call(s)).$map,r._p=(a=function(r){var o,i=a._s||this,s=t,l=t,c=t;return null==r&&(r=t),s=(null==(o=u.PP)?e.cm("PP"):o).$singleline_pp(r,""),l=(null==(o=u.PP)?e.cm("PP"):o).$singleline_pp(n["$[]"](r),""),c=i.$pick_encoding(s,l),i.$matching_encoding(""+s+" => "+l,c)},a._s=c,a),r).call(o).$join(",\n"):(null==(r=u.String)?e.cm("String"):r)["$==="](_)?(r=n["$=~"](/\n/))===t||r._isBoolean&&1!=r?n.$inspect():n:(null==(r=u.PP)?e.cm("PP"):r).$pp(n,"")}()},l.$private(),(i=(null==(s=u.String)?e.cm("String"):s)["$method_defined?"]("encoding"))===t||i._isBoolean&&1!=i?(c.$pick_encoding=function(){return t},c.$matching_encoding=function(e){return e},t):(c.$pick_encoding=function(n,r){var o,a;return(o=(null==(a=u.Encoding)?e.cm("Encoding"):a)["$compatible?"](n,r))!==!1&&o!==t?o:(null==(a=u.Encoding)?e.cm("Encoding"):a).$default_external()},c.$matching_encoding=function(e,n){try{return e.$encode(n)}catch(t){return e.$encode(n,a(["undef"],{undef:"replace"}))}},t)}(i,null)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module);return e.add_stubs(["$instance_method","$>=","$to_i","$call","$bind","$===","$method"]),function(n){var o=r(n,"RSpec");o._proto,o._scope,function(n){var o,a=r(n,"Expectations"),i=(a._proto,a._scope);e.cdecl(i,"KERNEL_METHOD_METHOD",(null==(o=e.Object._scope.Kernel)?e.cm("Kernel"):o).$instance_method("method")),(null==(o=i.RUBY_VERSION)?e.cm("RUBY_VERSION"):o).$to_i()["$>="](2)?e.defs(a,"$method_handle_for",function(n,t){var r;return(null==(r=i.KERNEL_METHOD_METHOD)?e.cm("KERNEL_METHOD_METHOD"):r).$bind(n).$call(t)}):e.defs(a,"$method_handle_for",function(n,r){var o,a;return(o=(null==(a=e.Object._scope.Kernel)?e.cm("Kernel"):a)["$==="](n))===t||o._isBoolean&&1!=o?n.$method(r):(null==(o=i.KERNEL_METHOD_METHOD)?e.cm("KERNEL_METHOD_METHOD"):o).$bind(n).$call(r)})}(o)}(n)}(Opal),function(e){var n,t=e.top,r=e,o=e.nil,a=(e.breaker,e.slice,e.klass),i=e.range;return e.add_stubs(["$include","$new","$call","$close","$attr_accessor","$length","$include?","$!","$check_readable","$==","$===","$>=","$raise","$>","$+","$-","$seek","$enum_for","$eof?","$ord","$[]","$check_writable","$String","$write","$closed_write?","$closed_read?"]),function(n,$super){function t(){}var r,s,l,c,u,_=t=a(n,$super,"StringIO",t),$=_._proto,p=_._scope;return $.position=$.string=$.closed=o,_.$include(null==(r=(null==(s=p.IO)?e.cm("IO"):s)._scope).Readable?r.cm("Readable"):r.Readable),_.$include(null==(r=(null==(s=p.IO)?e.cm("IO"):s)._scope).Writable?r.cm("Writable"):r.Writable),e.defs(_,"$open",l=function(e,n){var t=this,r=l._p,a=r||o,i=o,s=o;return null==e&&(e=""),null==n&&(n=o),l._p=null,i=t.$new(e,n),s=a.$call(i),i.$close(),s}),_.$attr_accessor("string"),$.$initialize=function(e,n){var t,r,a=this;return null==e&&(e=""),null==n&&(n="rw"),a.string=e,a.position=e.$length(),r=n["$include?"]("r"),(t=r!==!1&&r!==o?n["$include?"]("w")["$!"]():r)===o||t._isBoolean&&1!=t?(r=n["$include?"]("w"),(t=r!==!1&&r!==o?n["$include?"]("r")["$!"]():r)===o||t._isBoolean&&1!=t?o:a.closed="read"):a.closed="write"},$["$eof?"]=function(){var e=this;return e.$check_readable(),e.position["$=="](e.string.$length())},e.defn(_,"$eof",$["$eof?"]),$.$seek=function(n,t){var r,a,i=this,s=o;return null==t&&(t=null==(r=(null==(a=p.IO)?e.cm("IO"):a)._scope).SEEK_SET?r.cm("SEEK_SET"):r.SEEK_SET),s=t,(null==(r=(null==(a=p.IO)?e.cm("IO"):a)._scope).SEEK_SET?r.cm("SEEK_SET"):r.SEEK_SET)["$==="](s)?(n["$>="](0)||i.$raise(null==(r=(null==(a=p.Errno)?e.cm("Errno"):a)._scope).EINVAL?r.cm("EINVAL"):r.EINVAL),i.position=n):(null==(r=(null==(a=p.IO)?e.cm("IO"):a)._scope).SEEK_CUR?r.cm("SEEK_CUR"):r.SEEK_CUR)["$==="](s)?i.position=i.position["$+"](n)["$>"](i.string.$length())?i.string.$length():i.position["$+"](n):(null==(r=(null==(a=p.IO)?e.cm("IO"):a)._scope).SEEK_END?r.cm("SEEK_END"):r.SEEK_END)["$==="](s)&&(i.position=n["$>"](i.string.$length())?0:i.position["$-"](n)),0},$.$tell=function(){var e=this;return e.position},e.defn(_,"$pos",$.$tell),e.defn(_,"$pos=",$.$seek),$.$rewind=function(){var e=this;return e.$seek(0)},$.$each_byte=c=function(){var e,n=this,t=c._p,r=t||o,a=o;if(c._p=null,r===!1||r===o)return n.$enum_for("each_byte");for(n.$check_readable(),a=n.position;(e=n["$eof?"]())===o||e._isBoolean&&1!=e;)r.$call(n.string["$[]"](a).$ord()),a=a["$+"](1);return n},$.$each_char=u=function(){var e,n=this,t=u._p,r=t||o,a=o;if(u._p=null,r===!1||r===o)return n.$enum_for("each_char");for(n.$check_readable(),a=n.position;(e=n["$eof?"]())===o||e._isBoolean&&1!=e;)r.$call(n.string["$[]"](a)),a=a["$+"](1);return n},$.$write=function(e){var n=this,t=o,r=o;return n.$check_writable(),e=n.$String(e),n.string.$length()["$=="](n.position)?(n.string=n.string["$+"](e),n.position=n.position["$+"](e.$length())):(t=n.string["$[]"](i(0,n.position["$-"](1),!1)),r=n.string["$[]"](i(n.position["$+"](e.$length()),-1,!1)),n.string=t["$+"](e)["$+"](r),n.position=n.position["$+"](e.$length()))},$.$read=function(e,n){var t,r=this,a=o,s=o;return null==e&&(e=o),null==n&&(n=o),r.$check_readable(),(t=r["$eof?"]())===o||t._isBoolean&&1!=t?(a=function(){return e!==!1&&e!==o?(s=r.string["$[]"](r.position,e),r.position=r.position["$+"](e),s):(s=r.string["$[]"](i(r.position,-1,!1)),r.position=r.string.$length(),s)}(),n!==!1&&n!==o?n.$write(a):a):o},$.$close=function(){var e=this;return e.closed="both"},$.$close_read=function(){var e=this;return e.closed=e.closed["$=="]("write")?"both":"read"},$.$close_write=function(){var e=this;return e.closed=e.closed["$=="]("read")?"both":"write"},$["$closed?"]=function(){var e=this;return e.closed["$=="]("both")},$["$closed_read?"]=function(){var e,n=this;return(e=n.closed["$=="]("read"))!==!1&&e!==o?e:n.closed["$=="]("both")},$["$closed_write?"]=function(){var e,n=this;return(e=n.closed["$=="]("write"))!==!1&&e!==o?e:n.closed["$=="]("both")},$.$check_writable=function(){var n,t=this;return(n=t["$closed_write?"]())===o||n._isBoolean&&1!=n?o:t.$raise(null==(n=p.IOError)?e.cm("IOError"):n,"not opened for writing")},$.$check_readable=function(){var n,t=this;return(n=t["$closed_read?"]())===o||n._isBoolean&&1!=n?o:t.$raise(null==(n=p.IOError)?e.cm("IOError"):n,"not opened for reading")},o}(t,null==(n=r.IO)?e.cm("IO"):n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass,a=e.range,i=e.hash2;return e.add_stubs(["$include","$attr_accessor","$attr_reader","$new","$start_sync_output","$<<","$examples","$restore_sync_output","$format_backtrace","$backtrace_formatter","$configuration","$metadata","$protected","$find_failed_line","$backtrace","$file_path","$[]","$match","$exist?","$readlines","$-","$to_i","$===","$expand_path","$detect","$==","$downcase","$output_supports_sync","$sync","$output","$sync=","$!","$closed?","$respond_to?","$profile_examples","$fail_fast","$color_enabled?","$profile_examples?","$fail_fast?","$first","$reverse","$sort_by","$execution_result","$map","$inject","$+","$each","$last","$parent_groups","$example_group","$[]=","$has_key?","$top_level_description","$<=","$length","$keys","$each_value","$/","$to_f","$-@"]),function(n){var s=r(n,"RSpec");s._proto,s._scope,function(n){var s=r(n,"Core");s._proto,s._scope,function(n){var s=r(n,"Formatters");s._proto,s._scope,function(n,$super){function r(){}var s,l=r=o(n,$super,"BaseFormatter",r),c=l._proto,u=l._scope;return c.pending_examples=c.failed_examples=c.old_sync=t,l.$include(null==(s=u.Helpers)?e.cm("Helpers"):s),l.$attr_accessor("example_group"),l.$attr_reader("duration","examples","output"),l.$attr_reader("example_count","pending_count","failure_count"),l.$attr_reader("failed_examples","pending_examples"),c.$initialize=function(n){var r,o,a=this;return a.output=(r=n)!==!1&&r!==t?r:(null==(o=u.StringIO)?e.cm("StringIO"):o).$new(),a.example_count=a.pending_count=a.failure_count=0,a.examples=[],a.failed_examples=[],a.pending_examples=[],a.example_group=t},c.$start=function(e){var n=this;return n.$start_sync_output(),n.example_count=e},c.$example_group_started=function(e){var n=this;return n.example_group=e},c.$example_group_finished=function(){return t},c.$example_started=function(e){var n=this;return n.$examples()["$<<"](e)},c.$example_passed=function(){return t},c.$example_pending=function(e){var n=this;return n.pending_examples["$<<"](e)},c.$example_failed=function(e){var n=this;return n.failed_examples["$<<"](e)},c.$message=function(){return t},c.$stop=function(){return t},c.$start_dump=function(){return t},c.$dump_failures=function(){return t},c.$dump_summary=function(e,n,t,r){var o=this;return o.duration=e,o.example_count=n,o.failure_count=t,o.pending_count=r},c.$dump_pending=function(){return t},c.$dump_profile=function(){return t},c.$seed=function(){return t},c.$close=function(){var e=this;return e.$restore_sync_output()},c.$format_backtrace=function(e,n){var t=this;return t.$configuration().$backtrace_formatter().$format_backtrace(e,n.$metadata())},l.$protected(),c.$configuration=function(){var n;return(null==(n=u.RSpec)?e.cm("RSpec"):n).$configuration()},c.$read_failed_line=function(n,r){var o,i,s=this,l=t,c=t,_=t;try{return(o=l=s.$find_failed_line(n.$backtrace(),r.$file_path()))===t||o._isBoolean&&1!=o?"Unable to find matching line from backtrace":(o=e.to_ary(l.$match(/(.+?):(\d+)(|:\d+)/)["$[]"](a(1,2,!1))),c=null==o[0]?t:o[0],_=null==o[1]?t:o[1],(o=(null==(i=u.File)?e.cm("File"):i)["$exist?"](c))===t||o._isBoolean&&1!=o?"Unable to find "+c+" to read failed line":(o=(null==(i=u.File)?e.cm("File"):i).$readlines(c)["$[]"](_.$to_i()["$-"](1)))!==!1&&o!==t?o:"Unable to find matching line in "+c)}catch($){if((null==(o=u.SecurityError)?e.cm("SecurityError"):o)["$==="]($))return"Unable to read failed line";throw $}},c.$find_failed_line=function(n,r){var o,a,i,s=this;return r=(null==(o=u.File)?e.cm("File"):o).$expand_path(r),(o=(a=n).$detect,o._p=(i=function(e){var n,o=(i._s||this,t);return null==e&&(e=t),o=e.$match(/(.+?):(\d+)(|:\d+)/),(n=o!==!1&&o!==t)?o["$[]"](1).$downcase()["$=="](r.$downcase()):n},i._s=s,i),o).call(a)},c.$start_sync_output=function(){var e,n=this;return(e=n.$output_supports_sync())===t||e._isBoolean&&1!=e?t:(e=[n.$output().$sync(),!0],n.old_sync=e[0],n.$output()["$sync="](e[1]))},c.$restore_sync_output=function(){var e,n,r=this;return n=r.$output_supports_sync(),(e=n!==!1&&n!==t?r.$output()["$closed?"]()["$!"]():n)===t||e._isBoolean&&1!=e?t:r.$output()["$sync="](r.old_sync)},c.$output_supports_sync=function(){var e=this;return e.$output()["$respond_to?"]("sync=")},c["$profile_examples?"]=function(){var e=this;return e.$configuration().$profile_examples()},c["$fail_fast?"]=function(){var e=this;return e.$configuration().$fail_fast()},c["$color_enabled?"]=function(){var e=this;return e.$configuration()["$color_enabled?"](e.$output())},c["$mute_profile_output?"]=function(e){var n,r,o=this;return(n=o["$profile_examples?"]()["$!"]())!==!1&&n!==t?n:(r=o["$fail_fast?"](),r!==!1&&r!==t?e["$=="](0)["$!"]():r)},c.$slowest_examples=function(){var n,r,o,a,s,l,c=this,_=t,$=t,p=t,d=t;return _=(null==(n=u.RSpec)?e.cm("RSpec"):n).$configuration().$profile_examples(),$=(n=(r=c.$examples()).$sort_by,n._p=(o=function(e){return o._s||this,null==e&&(e=t),e.$execution_result()["$[]"]("run_time")},o._s=c,o),n).call(r).$reverse().$first(_),n=e.to_ary((a=(s=[c.$examples(),$]).$map,a._p=(l=function(e){var n,r,o,a=l._s||this;return null==e&&(e=t),(n=(r=e).$inject,n._p=(o=function(e,n){return o._s||this,null==e&&(e=t),null==n&&(n=t),e["$+"](n.$execution_result()["$[]"]("run_time"))},o._s=a,o),n).call(r,0)},l._s=c,l),a).call(s)),p=null==n[0]?t:n[0],d=null==n[1]?t:n[1],i(["examples","total","slows"],{examples:$,total:p,slows:d})},c.$slowest_groups=function(){var n,r,o,a,s,l,c,_=this,$=t,p=t;return $=(null==(n=u.RSpec)?e.cm("RSpec"):n).$configuration().$profile_examples(),p=i([],{}),(n=(r=_.$examples()).$each,n._p=(o=function(n){var r,a,i,s,l=(o._s||this,t);return null==n&&(n=t),l=n.$example_group().$parent_groups().$last().$metadata()["$[]"]("example_group")["$[]"]("location"),r=l,a=p,(i=a["$[]"](r))!==!1&&i!==t?i:a["$[]="](r,(null==(s=u.Hash)?e.cm("Hash"):s).$new(0)),r="total_time",a=p["$[]"](l),a["$[]="](r,a["$[]"](r)["$+"](n.$execution_result()["$[]"]("run_time"))),r="count",a=p["$[]"](l),a["$[]="](r,a["$[]"](r)["$+"](1)),(r=p["$[]"](l)["$has_key?"]("description"))===t||r._isBoolean&&1!=r?p["$[]"](l)["$[]="]("description",n.$example_group().$top_level_description()):t},o._s=_,o),n).call(r),p.$keys().$length()["$<="](1)?i([],{}):((n=(a=p).$each_value,n._p=(s=function(e){return s._s||this,null==e&&(e=t),e["$[]="]("average",e["$[]"]("total_time").$to_f()["$/"](e["$[]"]("count")))},s._s=_,s),n).call(a),(n=(l=p).$sort_by,n._p=(c=function(e,n){return c._s||this,null==e&&(e=t),null==n&&(n=t),n["$[]"]("average")["$-@"]()},c._s=_,c),n).call(l).$first($))},t}(s,null)}(s)}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass,a=e.gvars,i=e.hash2;return e.add_stubs(["$puts","$output","$empty?","$failed_examples","$each_with_index","$pending_fixed?","$dump_pending_fixed","$dump_failure","$dump_backtrace","$>","$failure_count","$color","$failure_color","$configuration","$pending_count","$pending_color","$success_color","$mute_profile_output?","$dump_profile","$format_duration","$colorise_summary","$summary_line","$dump_commands_to_rerun_failed_examples","$each","$+","$relative_path","$location","$detail_color","$full_description","$dump_profile_slowest_examples","$dump_profile_slowest_example_groups","$slowest_examples","$/","$[]","$%","$*","$nan?","$size","$format_seconds","$bold","$execution_result","$format_caller","$slowest_groups","$pluralize","$<<","$pending_examples","$show_failures_in_pending_blocks?","$dump_failure_info","$===","$!","$==","$close","$to_set","$values","$include?","$fetch","$color_code_for","$protected","$color_enabled?","$colorize","$fixed_color","$default_color","$deprecate","$private","$backtrace_line","$backtrace_formatter","$first","$split","$to_s","$long_padding","$format_backtrace","$backtrace","$short_padding","$next","$metadata","$exception_class_name_for","$strip","$read_failed_line","$=~","$message","$find_shared_group","$dump_shared_failure_info","$name","$class","$find","$group_and_parent_groups","$parent_groups","$example_group"]),function(n){var s=r(n,"RSpec");s._proto,s._scope,function(n){var s=r(n,"Core");s._proto,s._scope,function(n){var s,l=r(n,"Formatters"),c=(l._proto,l._scope);!function(n,$super){function r(){}var s,l,c=r=o(n,$super,"BaseTextFormatter",r),u=c._proto,_=c._scope;return u.$message=function(e){var n=this;return n.$output().$puts(e)},u.$dump_failures=function(){var e,n,r,o=this;
return(e=o.$failed_examples()["$empty?"]())===t||e._isBoolean&&1!=e?(o.$output().$puts(),o.$output().$puts("Failures:"),(e=(n=o.$failed_examples()).$each_with_index,e._p=(r=function(e,n){var o,a=r._s||this;return null==e&&(e=t),null==n&&(n=t),a.$output().$puts(),(o=a["$pending_fixed?"](e))===t||o._isBoolean&&1!=o?a.$dump_failure(e,n):a.$dump_pending_fixed(e,n),a.$dump_backtrace(e)},r._s=o,r),e).call(n)):t},u.$colorise_summary=function(n){var t,r=this;return r.$failure_count()["$>"](0)?r.$color(n,(null==(t=_.RSpec)?e.cm("RSpec"):t).$configuration().$failure_color()):r.$pending_count()["$>"](0)?r.$color(n,(null==(t=_.RSpec)?e.cm("RSpec"):t).$configuration().$pending_color()):r.$color(n,(null==(t=_.RSpec)?e.cm("RSpec"):t).$configuration().$success_color())},u.$dump_summary=s=function(n,r,o,a){var i,l=this;return s._p,s._p=null,e.find_super_dispatcher(l,"dump_summary",s,null).apply(l,[n,r,o,a]),((i=l["$mute_profile_output?"](o))===t||i._isBoolean&&1!=i)&&l.$dump_profile(),l.$output().$puts("\nFinished in "+l.$format_duration(n)+"\n"),l.$output().$puts(l.$colorise_summary(l.$summary_line(r,o,a))),l.$dump_commands_to_rerun_failed_examples()},u.$dump_commands_to_rerun_failed_examples=function(){var n,r,o,a=this;return(n=a.$failed_examples()["$empty?"]())===t||n._isBoolean&&1!=n?(a.$output().$puts(),a.$output().$puts("Failed examples:"),a.$output().$puts(),(n=(r=a.$failed_examples()).$each,n._p=(o=function(n){var r,a,i,s=o._s||this;return null==n&&(n=t),s.$output().$puts(s.$failure_color("rspec "+(null==(r=(null==(a=(null==(i=_.RSpec)?e.cm("RSpec"):i)._scope).Core?a.cm("Core"):a.Core)._scope).Metadata?r.cm("Metadata"):r.Metadata).$relative_path(n.$location()))["$+"](" ")["$+"](s.$detail_color("# "+n.$full_description())))},o._s=a,o),n).call(r)):t},u.$dump_profile=function(){var e=this;return e.$dump_profile_slowest_examples(),e.$dump_profile_slowest_example_groups()},u.$dump_profile_slowest_examples=function(){var e,n,r,o=this,a=t,i=t,s=t;return a=o.$slowest_examples(),i=a["$[]"]("slows")["$/"](a["$[]"]("total")),s="%.1f"["$%"](function(){return(e=i["$nan?"]())===t||e._isBoolean&&1!=e?i:0}()["$*"](100)),o.$output().$puts("\nTop "+a["$[]"]("examples").$size()+" slowest examples ("+o.$format_seconds(a["$[]"]("slows"))+" seconds, "+s+"% of total time):\n"),(e=(n=a["$[]"]("examples")).$each,e._p=(r=function(e){var n=r._s||this;return null==e&&(e=t),n.$output().$puts("  "+e.$full_description()),n.$output().$puts("    "+n.$bold(n.$format_seconds(e.$execution_result()["$[]"]("run_time")))+" "+n.$bold("seconds")+" "+n.$format_caller(e.$location()))},r._s=o,r),e).call(n)},u.$dump_profile_slowest_example_groups=function(){var e,n,r,o=this,a=t;return a=o.$slowest_groups(),(e=a["$empty?"]())===t||e._isBoolean&&1!=e?(o.$output().$puts("\nTop "+a.$size()+" slowest example groups:"),(e=(n=o.$slowest_groups()).$each,e._p=(r=function(e,n){var o=r._s||this,a=t,i=t,s=t;return null==e&&(e=t),null==n&&(n=t),a=""+o.$bold(o.$format_seconds(n["$[]"]("average")))+" "+o.$bold("seconds")+" average",i=""+o.$format_seconds(n["$[]"]("total_time"))+" seconds",s=o.$pluralize(n["$[]"]("count"),"example"),o.$output().$puts("  "+n["$[]"]("description")),o.$output().$puts("    "+a+" ("+i+" / "+s+") "+e)},r._s=o,r),e).call(n)):t},u.$summary_line=function(e,n,r){var o=this,a=t;return a=o.$pluralize(e,"example"),a["$<<"](", ")["$<<"](o.$pluralize(n,"failure")),r["$>"](0)&&a["$<<"](", "+r+" pending"),a},u.$dump_pending=function(){var n,r,o,a=this;return(n=a.$pending_examples()["$empty?"]())===t||n._isBoolean&&1!=n?(a.$output().$puts(),a.$output().$puts("Pending:"),(n=(r=a.$pending_examples()).$each,n._p=(o=function(n){var r,a,i,s=o._s||this;return null==n&&(n=t),s.$output().$puts(s.$pending_color("  "+n.$full_description())),s.$output().$puts(s.$detail_color("    # "+n.$execution_result()["$[]"]("pending_message"))),s.$output().$puts(s.$detail_color("    # "+s.$format_caller(n.$location()))),a=n.$execution_result()["$[]"]("exception"),(r=a!==!1&&a!==t?(null==(i=_.RSpec)?e.cm("RSpec"):i).$configuration()["$show_failures_in_pending_blocks?"]():a)===t||r._isBoolean&&1!=r?t:(s.$dump_failure_info(n),s.$dump_backtrace(n))},o._s=a,o),n).call(r)):t},u.$seed=function(e){var n=this;return n.$output().$puts(),n.$output().$puts("Randomized with seed "+e),n.$output().$puts()},u.$close=function(){var n,r,o,i=this;return r=(null==(o=_.IO)?e.cm("IO"):o)["$==="](i.$output()),(n=r!==!1&&r!==t?i.$output()["$=="](a.stdout)["$!"]():r)===t||n._isBoolean&&1!=n?t:i.$output().$close()},e.cdecl(_,"VT100_COLORS",i(["black","red","green","yellow","blue","magenta","cyan","white"],{black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37})),e.cdecl(_,"VT100_COLOR_CODES",(null==(l=_.VT100_COLORS)?e.cm("VT100_COLORS"):l).$values().$to_set()),u.$color_code_for=function(n){var r,o,a,i,s=this;return(r=(null==(o=_.VT100_COLOR_CODES)?e.cm("VT100_COLOR_CODES"):o)["$include?"](n))===t||r._isBoolean&&1!=r?(r=(o=null==(i=_.VT100_COLORS)?e.cm("VT100_COLORS"):i).$fetch,r._p=(a=function(){var e=a._s||this;return e.$color_code_for("white")},a._s=s,a),r).call(o,n):n},u.$colorize=function(e,n){var t=this;return"e["+t.$color_code_for(n)+"m"+e+"e[0m"},c.$protected(),u.$bold=function(e){var n,r=this;return(n=r["$color_enabled?"]())===t||n._isBoolean&&1!=n?e:"e[1m"+e+"e[0m"},u.$color=function(e,n){var r,o=this;return(r=o["$color_enabled?"]())===t||r._isBoolean&&1!=r?e:o.$colorize(e,n)},u.$failure_color=function(n){var t,r=this;return r.$color(n,(null==(t=_.RSpec)?e.cm("RSpec"):t).$configuration().$failure_color())},u.$success_color=function(n){var t,r=this;return r.$color(n,(null==(t=_.RSpec)?e.cm("RSpec"):t).$configuration().$success_color())},u.$pending_color=function(n){var t,r=this;return r.$color(n,(null==(t=_.RSpec)?e.cm("RSpec"):t).$configuration().$pending_color())},u.$fixed_color=function(n){var t,r=this;return r.$color(n,(null==(t=_.RSpec)?e.cm("RSpec"):t).$configuration().$fixed_color())},u.$detail_color=function(n){var t,r=this;return r.$color(n,(null==(t=_.RSpec)?e.cm("RSpec"):t).$configuration().$detail_color())},u.$default_color=function(n){var t,r=this;return r.$color(n,(null==(t=_.RSpec)?e.cm("RSpec"):t).$configuration().$default_color())},u.$red=function(n){var t,r=this;return(null==(t=_.RSpec)?e.cm("RSpec"):t).$deprecate("RSpec::Core::Formatters::BaseTextFormatter#red",i(["replacement"],{replacement:"#failure_color"})),r.$color(n,"red")},u.$green=function(n){var t,r=this;return(null==(t=_.RSpec)?e.cm("RSpec"):t).$deprecate("RSpec::Core::Formatters::BaseTextFormatter#green",i(["replacement"],{replacement:"#success_color"})),r.$color(n,"green")},u.$yellow=function(n){var t,r=this;return(null==(t=_.RSpec)?e.cm("RSpec"):t).$deprecate("RSpec::Core::Formatters::BaseTextFormatter#yellow",i(["replacement"],{replacement:"#pending_color"})),r.$color(n,"yellow")},u.$blue=function(n){var t,r=this;return(null==(t=_.RSpec)?e.cm("RSpec"):t).$deprecate("RSpec::Core::Formatters::BaseTextFormatter#blue",i(["replacement"],{replacement:"#fixed_color"})),r.$color(n,"blue")},u.$magenta=function(n){var t,r=this;return(null==(t=_.RSpec)?e.cm("RSpec"):t).$deprecate("RSpec::Core::Formatters::BaseTextFormatter#magenta"),r.$color(n,"magenta")},u.$cyan=function(n){var t,r=this;return(null==(t=_.RSpec)?e.cm("RSpec"):t).$deprecate("RSpec::Core::Formatters::BaseTextFormatter#cyan",i(["replacement"],{replacement:"#detail_color"})),r.$color(n,"cyan")},u.$white=function(n){var t,r=this;return(null==(t=_.RSpec)?e.cm("RSpec"):t).$deprecate("RSpec::Core::Formatters::BaseTextFormatter#white",i(["replacement"],{replacement:"#default_color"})),r.$color(n,"white")},u.$short_padding=function(){return"  "},u.$long_padding=function(){return"     "},c.$private(),u.$format_caller=function(e){var n=this;return n.$configuration().$backtrace_formatter().$backtrace_line(e.$to_s().$split(":in `block").$first())},u.$dump_backtrace=function(e){var n,r,o,a=this;return(n=(r=a.$format_backtrace(e.$execution_result()["$[]"]("exception").$backtrace(),e)).$each,n._p=(o=function(e){var n=o._s||this;return null==e&&(e=t),n.$output().$puts(n.$detail_color(""+n.$long_padding()+"# "+e))},o._s=a,o),n).call(r)},u.$dump_pending_fixed=function(e,n){var t=this;return t.$output().$puts(""+t.$short_padding()+n.$next()+") "+e.$full_description()+" FIXED"),t.$output().$puts(t.$fixed_color(""+t.$long_padding()+"Expected pending '"+e.$metadata()["$[]"]("execution_result")["$[]"]("pending_message")+"' to fail. No Error was raised."))},u["$pending_fixed?"]=function(e){return e.$execution_result()["$[]"]("pending_fixed")},u.$dump_failure=function(e,n){var t=this;return t.$output().$puts(""+t.$short_padding()+n.$next()+") "+e.$full_description()),t.$dump_failure_info(e)},u.$dump_failure_info=function(e){var n,r,o,a=this,i=t,s=t,l=t;return i=e.$execution_result()["$[]"]("exception"),s=a.$exception_class_name_for(i),a.$output().$puts(""+a.$long_padding()+a.$failure_color("Failure/Error:")+" "+a.$failure_color(a.$read_failed_line(i,e).$strip())),((n=s["$=~"](/RSpec/))===t||n._isBoolean&&1!=n)&&a.$output().$puts(""+a.$long_padding()+a.$failure_color(s)+":"),(n=i.$message())===t||n._isBoolean&&1!=n||(n=(r=i.$message().$to_s().$split("\n")).$each,n._p=(o=function(e){var n=o._s||this;return null==e&&(e=t),n.$output().$puts(""+n.$long_padding()+"  "+n.$failure_color(e))},o._s=a,o),n).call(r),(n=l=a.$find_shared_group(e))===t||n._isBoolean&&1!=n?t:a.$dump_shared_failure_info(l)},u.$exception_class_name_for=function(e){var n=t;return n=e.$class().$name().$to_s(),n["$=="]("")&&(n="(anonymous error class)"),n},u.$dump_shared_failure_info=function(e){var n=this;return n.$output().$puts((""+n.$long_padding()+'Shared Example Group: "'+e.$metadata()["$[]"]("shared_group_name")+'" called from ')["$+"](""+n.$configuration().$backtrace_formatter().$backtrace_line(e.$metadata()["$[]"]("example_group")["$[]"]("location"))))},u.$find_shared_group=function(e){var n,r,o,a=this;return(n=(r=a.$group_and_parent_groups(e)).$find,n._p=(o=function(e){return o._s||this,null==e&&(e=t),e.$metadata()["$[]"]("shared_group_name")},o._s=a,o),n).call(r)},u.$group_and_parent_groups=function(e){return e.$example_group().$parent_groups()["$+"]([e.$example_group()])},t}(l,null==(s=c.BaseFormatter)?e.cm("BaseFormatter"):s)}(s)}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$==","$puts","$output","$current_indentation","$strip","$description","$+","$-","$passed_output","$pending_output","$[]","$execution_result","$failure_output","$failure_color","$next_failure_index","$success_color","$pending_color","$*","$reverse","$parent_groups","$example_group"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Core");a._proto,a._scope,function(n){var a,i=r(n,"Formatters"),s=(i._proto,i._scope);!function(n,$super){function r(){}var a,i,s,l,c,u=r=o(n,$super,"DocumentationFormatter",r),_=u._proto;return u._scope,_.group_level=_.next_failure_index=t,_.$initialize=a=function(n){var t=this;return a._p,a._p=null,e.find_super_dispatcher(t,"initialize",a,null).apply(t,[n]),t.group_level=0},_.$example_group_started=i=function(n){var t=this;return i._p,i._p=null,e.find_super_dispatcher(t,"example_group_started",i,null).apply(t,[n]),t.group_level["$=="](0)&&t.$output().$puts(),t.$output().$puts(""+t.$current_indentation()+n.$description().$strip()),t.group_level=t.group_level["$+"](1)},_.$example_group_finished=function(){var e=this;return e.group_level=e.group_level["$-"](1)},_.$example_passed=s=function(n){var t=this;return s._p,s._p=null,e.find_super_dispatcher(t,"example_passed",s,null).apply(t,[n]),t.$output().$puts(t.$passed_output(n))},_.$example_pending=l=function(n){var t=this;return l._p,l._p=null,e.find_super_dispatcher(t,"example_pending",l,null).apply(t,[n]),t.$output().$puts(t.$pending_output(n,n.$execution_result()["$[]"]("pending_message")))},_.$example_failed=c=function(n){var t=this;return c._p,c._p=null,e.find_super_dispatcher(t,"example_failed",c,null).apply(t,[n]),t.$output().$puts(t.$failure_output(n,n.$execution_result()["$[]"]("exception")))},_.$failure_output=function(e){var n=this;return n.$failure_color(""+n.$current_indentation()+e.$description().$strip()+" (FAILED - "+n.$next_failure_index()+")")},_.$next_failure_index=function(){var e,n=this;return(e=n.next_failure_index)!==!1&&e!==t?e:n.next_failure_index=0,n.next_failure_index=n.next_failure_index["$+"](1)},_.$passed_output=function(e){var n=this;return n.$success_color(""+n.$current_indentation()+e.$description().$strip())},_.$pending_output=function(e,n){var t=this;return t.$pending_color(""+t.$current_indentation()+e.$description().$strip()+" (PENDING: "+n+")")},_.$current_indentation=function(){var e=this;return"  "["$*"](e.group_level)},_.$example_group_chain=function(){var e=this;return e.$example_group().$parent_groups().$reverse()},t}(i,null==(a=s.BaseTextFormatter)?e.cm("BaseTextFormatter"):a)}(a)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.klass),o=e.hash2;return e.add_stubs(["$[]","$[]=","$keys","$attr_reader","$instance_exec","$to_proc","$new","$<<","$join"]),function(n,$super){function a(){}var i,s=a=r(n,$super,"Template",a),l=s._proto,c=s._scope;return l.name=l.body=t,s._cache=o([],{}),e.defs(s,"$[]",function(e){var n=this;return null==n._cache&&(n._cache=t),n._cache["$[]"](e)}),e.defs(s,"$[]=",function(e,n){var r=this;return null==r._cache&&(r._cache=t),r._cache["$[]="](e,n)}),e.defs(s,"$paths",function(){var e=this;return null==e._cache&&(e._cache=t),e._cache.$keys()}),s.$attr_reader("body"),l.$initialize=i=function(n){var r,o=this,a=i._p,s=a||t;return i._p=null,r=[n,s],o.name=r[0],o.body=r[1],(null==(r=c.Template)?e.cm("Template"):r)["$[]="](n,o)},l.$inspect=function(){var e=this;return"#<Template: '"+e.name+"'>"},l.$render=function(n){var t,r,o,a=this;return null==n&&(n=a),(t=(r=n).$instance_exec,t._p=a.body.$to_proc(),t).call(r,(null==(o=c.OutputBuffer)?e.cm("OutputBuffer"):o).$new())},function(e,$super){function n(){}var o=n=r(e,$super,"OutputBuffer",n),a=o._proto;return o._scope,a.buffer=t,a.$initialize=function(){var e=this;return e.buffer=[]},a.$append=function(e){var n=this;return n.buffer["$<<"](e)},a["$append="]=function(e){var n=this;return n.buffer["$<<"](e)},a.$join=function(){var e=this;return e.buffer.$join()},t}(s,null)}(n,null)}(Opal),function(e){var n=e.top,t=(e.nil,e.breaker,e.slice,e.klass),r=e.module;return e.add_stubs(["$module_function"]),function(n,$super){function o(){}var a=o=t(n,$super,"ERB",o);return a._proto,a._scope,function(n){var t=r(n,"Util"),o=t._proto;t._scope;var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i=/[&<>"']/g;o.$html_escape=function(e){return(""+e).replace(i,function(e){return a[e]})},e.defn(t,"$h",o.$html_escape),t.$module_function("h"),t.$module_function("html_escape"),e.donate(t,["$html_escape","$h"])}(a)}(n,null)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$include","$puts","$indentation_style","$h","$sprintf","$[]","$==","$<<","$>","$flush","$private","$*","$-"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Core");a._proto,a._scope,function(n){var a=r(n,"Formatters");a._proto,a._scope,function(n,$super){function r(){}var a,i,s=r=o(n,$super,"HtmlPrinter",r),l=s._proto,c=s._scope;return l.output=t,s.$include(null==(a=(null==(i=c.ERB)?e.cm("ERB"):i)._scope).Util?a.cm("Util"):a.Util),l.$initialize=function(e){var n=this;return n.output=e},l.$print_html_start=function(){var n,t=this;return t.output.$puts(null==(n=c.HTML_HEADER)?e.cm("HTML_HEADER"):n),t.output.$puts(null==(n=c.REPORT_HEADER)?e.cm("REPORT_HEADER"):n)},l.$print_example_group_end=function(){var e=this;return e.output.$puts("  </dl>"),e.output.$puts("</div>")},l.$print_example_group_start=function(e,n,t){var r=this;return r.output.$puts('<div id="div_group_'+e+'" class="example_group passed">'),r.output.$puts("  <dl "+r.$indentation_style(t)+">"),r.output.$puts('  <dt id="example_group_'+e+'" class="passed">'+r.$h(n)+"</dt>")},l.$print_example_passed=function(e,n){var r=this,o=t;return o=r.$sprintf("%.5f",n),r.output.$puts('    <dd class="example passed"><span class="passed_spec_name">'+r.$h(e)+"</span><span class='duration'>"+o+"s</span></dd>")},l.$print_example_failed=function(e,n,r,o,a,i,s){var l=this,c=t;return null==s&&(s=!1),c=l.$sprintf("%.5f",r),l.output.$puts('    <dd class="example '+function(){return e!==!1&&e!==t?"pending_fixed":"failed"}()+'">'),l.output.$puts('      <span class="failed_spec_name">'+l.$h(n)+"</span>"),l.output.$puts('      <span class="duration">'+c+"s</span>"),l.output.$puts('      <div class="failure" id="failure_'+o+'">'),a!==!1&&a!==t&&(l.output.$puts('        <div class="message"><pre>'+l.$h(a["$[]"]("message"))+"</pre></div>"),s!==!1&&s!==t?l.output.$puts('        <div class="backtrace"><pre>'+l.$h(a["$[]"]("backtrace"))+"</pre></div>"):l.output.$puts('        <div class="backtrace"><pre>'+a["$[]"]("backtrace")+"</pre></div>")),i!==!1&&i!==t&&l.output.$puts(i),l.output.$puts("      </div>"),l.output.$puts("    </dd>")},l.$print_example_pending=function(e,n){var t=this;return t.output.$puts('    <dd class="example not_implemented"><span class="not_implemented_spec_name">'+t.$h(e)+" (PENDING: "+t.$h(n)+")</span></dd>")},l.$print_summary=function(e,n,r,o,a){var i=this,s=t,l=t;return e!==!1&&e!==t?s="This was a dry-run":(s=""+r+" example"+function(){return r["$=="](1)?t:"s"}()+", ",s["$<<"](""+o+" failure"+function(){return o["$=="](1)?t:"s"}()),a["$>"](0)&&s["$<<"](", "+a+" pending")),l=i.$sprintf("%.5f",n),i.output.$puts('<script type="text/javascript">document.getElementById(\'duration\').innerHTML = "Finished in <strong>'+l+' seconds</strong>";</script>'),i.output.$puts('<script type="text/javascript">document.getElementById(\'totals\').innerHTML = "'+s+'";</script>'),i.output.$puts("</div>"),i.output.$puts("</div>"),i.output.$puts("</body>"),i.output.$puts("</html>")},l.$flush=function(){var e=this;return e.output.$flush()},l.$move_progress=function(e){var n=this;return n.output.$puts('    <script type="text/javascript">moveProgressBar(\''+e+"');</script>"),n.output.$flush()},l.$make_header_red=function(){var e=this;return e.output.$puts("    <script type=\"text/javascript\">makeRed('rspec-header');</script>")},l.$make_header_yellow=function(){var e=this;return e.output.$puts("    <script type=\"text/javascript\">makeYellow('rspec-header');</script>")},l.$make_example_group_header_red=function(e){var n=this;return n.output.$puts('    <script type="text/javascript">makeRed(\'div_group_'+e+"');</script>"),n.output.$puts('    <script type="text/javascript">makeRed(\'example_group_'+e+"');</script>")},l.$make_example_group_header_yellow=function(e){var n=this;return n.output.$puts('    <script type="text/javascript">makeYellow(\'div_group_'+e+"');</script>"),n.output.$puts('    <script type="text/javascript">makeYellow(\'example_group_'+e+"');</script>")},s.$private(),l.$indentation_style=function(e){return'style="margin-left: '+e["$-"](1)["$*"](15)+'px;"'},e.cdecl(c,"REPORT_HEADER",'<div class="rspec-report">\n\n<div id="rspec-header">\n  <div id="label">\n    <h1>RSpec Code Examples</h1>\n  </div>\n\n  <div id="display-filters">\n    <input id="passed_checkbox"  name="passed_checkbox"  type="checkbox" checked="checked" onchange="apply_filters()" value="1" /> <label for="passed_checkbox">Passed</label>\n    <input id="failed_checkbox"  name="failed_checkbox"  type="checkbox" checked="checked" onchange="apply_filters()" value="2" /> <label for="failed_checkbox">Failed</label>\n    <input id="pending_checkbox" name="pending_checkbox" type="checkbox" checked="checked" onchange="apply_filters()" value="3" /> <label for="pending_checkbox">Pending</label>\n  </div>\n\n  <div id="summary">\n    <p id="totals">&#160;</p>\n    <p id="duration">&#160;</p>\n  </div>\n</div>\n\n\n<div class="results">\n'),e.cdecl(c,"GLOBAL_SCRIPTS","\nfunction addClass(element_id, classname) {\n  document.getElementById(element_id).className += (\" \" + classname);\n}\n\nfunction removeClass(element_id, classname) {\n  var elem = document.getElementById(element_id);\n  var classlist = elem.className.replace(classname,'');\n  elem.className = classlist;\n}\n\nfunction moveProgressBar(percentDone) {\n  document.getElementById(\"rspec-header\").style.width = percentDone +\"%\";\n}\n\nfunction makeRed(element_id) {\n  removeClass(element_id, 'passed');\n  removeClass(element_id, 'not_implemented');\n  addClass(element_id,'failed');\n}\n\nfunction makeYellow(element_id) {\n  var elem = document.getElementById(element_id);\n  if (elem.className.indexOf(\"failed\") == -1) {  // class doesn't includes failed\n    if (elem.className.indexOf(\"not_implemented\") == -1) { // class doesn't include not_implemented\n      removeClass(element_id, 'passed');\n      addClass(element_id,'not_implemented');\n    }\n  }\n}\n\nfunction apply_filters() {\n  var passed_filter = document.getElementById('passed_checkbox').checked;\n  var failed_filter = document.getElementById('failed_checkbox').checked;\n  var pending_filter = document.getElementById('pending_checkbox').checked;\n\n  assign_display_style(\"example passed\", passed_filter);\n  assign_display_style(\"example failed\", failed_filter);\n  assign_display_style(\"example not_implemented\", pending_filter);\n\n  assign_display_style_for_group(\"example_group passed\", passed_filter);\n  assign_display_style_for_group(\"example_group not_implemented\", pending_filter, pending_filter || passed_filter);\n  assign_display_style_for_group(\"example_group failed\", failed_filter, failed_filter || pending_filter || passed_filter);\n}\n\nfunction get_display_style(display_flag) {\n  var style_mode = 'none';\n  if (display_flag == true) {\n    style_mode = 'block';\n  }\n  return style_mode;\n}\n\nfunction assign_display_style(classname, display_flag) {\n  var style_mode = get_display_style(display_flag);\n  var elems = document.getElementsByClassName(classname)\n  for (var i=0; i<elems.length;i++) {\n    elems[i].style.display = style_mode;\n  }\n}\n\nfunction assign_display_style_for_group(classname, display_flag, subgroup_flag) {\n  var display_style_mode = get_display_style(display_flag);\n  var subgroup_style_mode = get_display_style(subgroup_flag);\n  var elems = document.getElementsByClassName(classname)\n  for (var i=0; i<elems.length;i++) {\n    var style_mode = display_style_mode;\n    if ((display_flag != subgroup_flag) && (elems[i].getElementsByTagName('dt')[0].innerHTML.indexOf(\", \") != -1)) {\n      elems[i].style.display = subgroup_style_mode;\n    } else {\n      elems[i].style.display = display_style_mode;\n    }\n  }\n}\n"),e.cdecl(c,"GLOBAL_STYLES",'#rspec-header {\n  background: #65C400; color: #fff; height: 4em;\n}\n\n.rspec-report h1 {\n  margin: 0px 10px 0px 10px;\n  padding: 10px;\n  font-family: "Lucida Grande", Helvetica, sans-serif;\n  font-size: 1.8em;\n  position: absolute;\n}\n\n#label {\n  float:left;\n}\n\n#display-filters {\n  float:left;\n  padding: 28px 0 0 40%;\n  font-family: "Lucida Grande", Helvetica, sans-serif;\n}\n\n#summary {\n  float:right;\n  padding: 5px 10px;\n  font-family: "Lucida Grande", Helvetica, sans-serif;\n  text-align: right;\n}\n\n#summary p {\n  margin: 0 0 0 2px;\n}\n\n#summary #totals {\n  font-size: 1.2em;\n}\n\n.example_group {\n  margin: 0 10px 5px;\n  background: #fff;\n}\n\ndl {\n  margin: 0; padding: 0 0 5px;\n  font: normal 11px "Lucida Grande", Helvetica, sans-serif;\n}\n\ndt {\n  padding: 3px;\n  background: #65C400;\n  color: #fff;\n  font-weight: bold;\n}\n\ndd {\n  margin: 5px 0 5px 5px;\n  padding: 3px 3px 3px 18px;\n}\n\ndd .duration {\n  padding-left: 5px;\n  text-align: right;\n  right: 0px;\n  float:right;\n}\n\ndd.example.passed {\n  border-left: 5px solid #65C400;\n  border-bottom: 1px solid #65C400;\n  background: #DBFFB4; color: #3D7700;\n}\n\ndd.example.not_implemented {\n  border-left: 5px solid #FAF834;\n  border-bottom: 1px solid #FAF834;\n  background: #FCFB98; color: #131313;\n}\n\ndd.example.pending_fixed {\n  border-left: 5px solid #0000C2;\n  border-bottom: 1px solid #0000C2;\n  color: #0000C2; background: #D3FBFF;\n}\n\ndd.example.failed {\n  border-left: 5px solid #C20000;\n  border-bottom: 1px solid #C20000;\n  color: #C20000; background: #FFFBD3;\n}\n\n\ndt.not_implemented {\n  color: #000000; background: #FAF834;\n}\n\ndt.pending_fixed {\n  color: #FFFFFF; background: #C40D0D;\n}\n\ndt.failed {\n  color: #FFFFFF; background: #C40D0D;\n}\n\n\n#rspec-header.not_implemented {\n  color: #000000; background: #FAF834;\n}\n\n#rspec-header.pending_fixed {\n  color: #FFFFFF; background: #C40D0D;\n}\n\n#rspec-header.failed {\n  color: #FFFFFF; background: #C40D0D;\n}\n\n\n.backtrace {\n  color: #000;\n  font-size: 12px;\n}\n\na {\n  color: #BE5C00;\n}\n\n/* Ruby code, style similar to vibrant ink */\n.ruby {\n  font-size: 12px;\n  font-family: monospace;\n  color: white;\n  background-color: black;\n  padding: 0.1em 0 0.2em 0;\n}\n\n.ruby .keyword { color: #FF6600; }\n.ruby .constant { color: #339999; }\n.ruby .attribute { color: white; }\n.ruby .global { color: white; }\n.ruby .module { color: white; }\n.ruby .class { color: white; }\n.ruby .string { color: #66FF00; }\n.ruby .ident { color: white; }\n.ruby .method { color: #FFCC00; }\n.ruby .number { color: white; }\n.ruby .char { color: white; }\n.ruby .comment { color: #9933CC; }\n.ruby .symbol { color: white; }\n.ruby .regex { color: #44B4CC; }\n.ruby .punct { color: white; }\n.ruby .escape { color: white; }\n.ruby .interp { color: white; }\n.ruby .expr { color: white; }\n\n.ruby .offending { background-color: gray; }\n.ruby .linenum {\n  width: 75px;\n  padding: 0.1em 1em 0.2em 0;\n  color: #000000;\n  background-color: #FFFBD3;\n}\n'),e.cdecl(c,"HTML_HEADER",'<!DOCTYPE html>\n<html lang=\'en\'>\n<head>\n  <title>RSpec results</title>\n  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\n  <meta http-equiv="Expires" content="-1" />\n  <meta http-equiv="Pragma" content="no-cache" />\n  <style type="text/css">\n  body {\n    margin: 0;\n    padding: 0;\n    background: #fff;\n    font-size: 80%;\n  }\n  </style>\n  <script type="text/javascript">\n    // <![CDATA[\n'+(null==(a=c.GLOBAL_SCRIPTS)?e.cm("GLOBAL_SCRIPTS"):a)+'\n    // ]]>\n  </script>\n  <style type="text/css">\n'+(null==(a=c.GLOBAL_STYLES)?e.cm("GLOBAL_STYLES"):a)+"\n  </style>\n</head>\n<body>\n")}(a,null)}(a)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass,a=e.hash2,i=e.range;return e.add_stubs(["$html","$scan","$new","$===","$snippet_for","$[]","$convert","$post_process","$=~","$to_i","$lines_around","$file?","$split","$read","$max","$-","$min","$+","$length","$join","$each_with_index","$==","$<<"]),function(n){var s=r(n,"RSpec");s._proto,s._scope,function(n){var s=r(n,"Core");s._proto,s._scope,function(n){var s=r(n,"Formatters");s._proto,s._scope,function(n,$super){function r(){}var s,l=r=o(n,$super,"SnippetExtractor",r),c=l._proto,u=l._scope;!function(e,$super){function n(){}var r=n=o(e,$super,"NullConverter",n),a=r._proto;return r._scope,a.$convert=function(e){return""+e+'\n<span class="comment"># Install the coderay gem to get syntax highlighting</span>'},t}(l,null),function(n,$super){function r(){}var i=r=o(n,$super,"CoderayConverter",r),s=i._proto,l=i._scope;return s.$convert=function(n){var t;return(null==(t=l.CodeRay)?e.cm("CodeRay"):t).$scan(n,"ruby").$html(a(["line_numbers"],{line_numbers:!1}))},t}(l,null);try{e.cvars["@@converter"]=(null==(s=u.CoderayConverter)?e.cm("CoderayConverter"):s).$new()}catch(_){if(!(null==(s=u.LoadError)?e.cm("LoadError"):s)["$==="](_))throw _;e.cvars["@@converter"]=(null==(s=u.NullConverter)?e.cm("NullConverter"):s).$new()}return c.$snippet=function(n){var r,o=this,a=t,i=t,s=t;return r=e.to_ary(o.$snippet_for(n["$[]"](0))),a=null==r[0]?t:r[0],i=null==r[1]?t:r[1],s=(null==(r=e.cvars["@@converter"])?t:r).$convert(a),o.$post_process(s,i)},c.$snippet_for=function(e){var n,r=this,o=t,a=t;return(n=e["$=~"](/(.*):(\d+)/))===t||n._isBoolean&&1!=n?["# Couldn't get snippet for "+e,1]:(o=t,a=t.$to_i(),[r.$lines_around(o,a),a])},c.$lines_around=function(n,r){var o,a,s=t,l=t,c=t,_=t;try{return(o=(null==(a=u.File)?e.cm("File"):a)["$file?"](n))===t||o._isBoolean&&1!=o?"# Couldn't get snippet for "+n:(s=(null==(o=u.File)?e.cm("File"):o).$read(n).$split("\n"),l=[0,r["$-"](3)].$max(),c=[r["$+"](1),s.$length()["$-"](1)].$min(),_=[],_.$join("\n"),s["$[]"](i(l,c,!1)).$join("\n"))}catch($){if((null==(o=u.SecurityError)?e.cm("SecurityError"):o)["$==="]($))return"# Couldn't get snippet for "+n;throw $}},c.$post_process=function(e,n){var r,o,a,i=this,s=t;return s=[],(r=(o=e.$split("\n")).$each_with_index,r._p=(a=function(e,r){var o=(a._s||this,t);return null==e&&(e=t),null==r&&(r=t),o='<span class="linenum">'+n["$+"](r)["$-"](2)+"</span>"+e,r["$=="](2)&&(o='<span class="offending">'+o+"</span>"),s["$<<"](o)},a._s=i,a),r).call(o),s.$join("\n")},t}(s,null)}(s)}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass,i=e.hash2;return e.add_stubs(["$new","$private","$public","$print_html_start","$flush","$+","$==","$example_group_number","$print_example_group_end","$print_example_group_start","$description","$size","$parent_groups","$move_progress","$percent_done","$print_example_passed","$[]","$execution_result","$make_header_red","$make_example_group_header_red","$metadata","$message","$join","$format_backtrace","$backtrace","$extra_failure_content","$print_example_failed","$make_header_yellow","$make_example_group_header_yellow","$print_example_pending","$map","$backtrace_line","$backtrace_formatter","$configuration","$compact!","$snippet","$>","$to_f","$/","$to_i","$*","$example_number","$print_summary","$dry_run?"]),function(n){var s=o(n,"RSpec");s._proto,s._scope,function(n){var s=o(n,"Core");s._proto,s._scope,function(n){var s,l=o(n,"Formatters"),c=(l._proto,l._scope);!function(n,$super){function o(){}var s,l,c,u,_,$,p=o=a(n,$super,"HtmlFormatter",o),d=p._proto,f=p._scope;return d.example_group_number=d.example_number=d.printer=d.header_red=d.example_group_red=d.failed_examples=d.snippet_extractor=d.example_count=t,d.$initialize=s=function(n){var r,o=this;return s._p,s._p=null,e.find_super_dispatcher(o,"initialize",s,null).apply(o,[n]),o.example_group_number=0,o.example_number=0,o.header_red=t,o.printer=(null==(r=f.HtmlPrinter)?e.cm("HtmlPrinter"):r).$new(n)},p.$private(),d.$method_missing=l=function(e,n){return l._p,n=r.call(arguments,1),l._p=null,t},p.$public(),d.$message=function(){return t},d.$example_group_number=function(){var e=this;return e.example_group_number},d.$example_number=function(){var e=this;return e.example_number},d.$start=c=function(n){var t=this;return c._p,c._p=null,e.find_super_dispatcher(t,"start",c,null).apply(t,[n]),t.printer.$print_html_start(),t.printer.$flush()},d.$example_group_started=u=function(n){var t=this;return u._p,u._p=null,e.find_super_dispatcher(t,"example_group_started",u,null).apply(t,[n]),t.example_group_red=!1,t.example_group_number=t.example_group_number["$+"](1),t.$example_group_number()["$=="](1)||t.printer.$print_example_group_end(),t.printer.$print_example_group_start(t.$example_group_number(),n.$description(),n.$parent_groups().$size()),t.printer.$flush()},d.$start_dump=function(){var e=this;return e.printer.$print_example_group_end(),e.printer.$flush()},d.$example_started=_=function(n){var t=this;return _._p,_._p=null,e.find_super_dispatcher(t,"example_started",_,null).apply(t,[n]),t.example_number=t.example_number["$+"](1)},d.$example_passed=function(e){var n=this;return n.printer.$move_progress(n.$percent_done()),n.printer.$print_example_passed(e.$description(),e.$execution_result()["$[]"]("run_time")),n.printer.$flush()},d.$example_failed=$=function(n){var r,o=this,a=($._p,t),s=t,l=t;return $._p=null,e.find_super_dispatcher(o,"example_failed",$,null).apply(o,[n]),((r=o.header_red)===t||r._isBoolean&&1!=r)&&(o.header_red=!0,o.printer.$make_header_red()),((r=o.example_group_red)===t||r._isBoolean&&1!=r)&&(o.example_group_red=!0,o.printer.$make_example_group_header_red(o.$example_group_number())),o.printer.$move_progress(o.$percent_done()),a=n.$metadata()["$[]"]("execution_result")["$[]"]("exception"),s=function(){return a!==!1&&a!==t?i(["message","backtrace"],{message:a.$message(),backtrace:o.$format_backtrace(a.$backtrace(),n).$join("\n")}):!1}(),l=o.$extra_failure_content(a),o.printer.$print_example_failed(n.$execution_result()["$[]"]("pending_fixed"),n.$description(),n.$execution_result()["$[]"]("run_time"),o.failed_examples.$size(),s,function(){return(r=l["$=="](""))===t||r._isBoolean&&1!=r?l:!1}(),!0),o.printer.$flush()},d.$example_pending=function(e){var n,r=this;
return((n=r.header_red)===t||n._isBoolean&&1!=n)&&r.printer.$make_header_yellow(),((n=r.example_group_red)===t||n._isBoolean&&1!=n)&&r.printer.$make_example_group_header_yellow(r.$example_group_number()),r.printer.$move_progress(r.$percent_done()),r.printer.$print_example_pending(e.$description(),e.$metadata()["$[]"]("execution_result")["$[]"]("pending_message")),r.printer.$flush()},d.$extra_failure_content=function(n){var r,o,a,i,s=this,l=t;return l=(r=(o=n.$backtrace()).$map,r._p=(a=function(e){var n=a._s||this;return null==e&&(e=t),n.$configuration().$backtrace_formatter().$backtrace_line(e)},a._s=s,a),r).call(o),l["$compact!"](),(r=s.snippet_extractor)!==!1&&r!==t?r:s.snippet_extractor=(null==(i=f.SnippetExtractor)?e.cm("SnippetExtractor"):i).$new(),'    <pre class="ruby"><code>'+s.snippet_extractor.$snippet(l)+"</code></pre>"},d.$percent_done=function(){var e=this,n=t;return n=100,e.example_count["$>"](0)&&(n=e.$example_number().$to_f()["$/"](e.example_count.$to_f())["$*"](1e3).$to_i()["$/"](10).$to_f()),n},d.$dump_failures=function(){return t},d.$dump_pending=function(){return t},d.$dump_summary=function(e,n,t,r){var o=this;return o.printer.$print_summary(o["$dry_run?"](),e,n,t,r),o.printer.$flush()},t}(l,null==(s=c.BaseTextFormatter)?e.cm("BaseTextFormatter"):s)}(s)}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$print","$output","$success_color","$pending_color","$failure_color","$puts"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Core");a._proto,a._scope,function(n){var a,i=r(n,"Formatters"),s=(i._proto,i._scope);!function(n,$super){function r(){}var a,i,s,l,c=r=o(n,$super,"ProgressFormatter",r),u=c._proto;return c._scope,u.$example_passed=a=function(n){var t=this;return a._p,a._p=null,e.find_super_dispatcher(t,"example_passed",a,null).apply(t,[n]),t.$output().$print(t.$success_color("."))},u.$example_pending=i=function(n){var t=this;return i._p,i._p=null,e.find_super_dispatcher(t,"example_pending",i,null).apply(t,[n]),t.$output().$print(t.$pending_color("*"))},u.$example_failed=s=function(n){var t=this;return s._p,s._p=null,e.find_super_dispatcher(t,"example_failed",s,null).apply(t,[n]),t.$output().$print(t.$failure_color("F"))},u.$start_dump=l=function(){var n=this;return l._p,l._p=null,e.find_super_dispatcher(n,"start_dump",l,null).apply(n,[]),n.$output().$puts()},t}(i,null==(a=s.BaseTextFormatter)?e.cm("BaseTextFormatter"):a)}(a)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.hash2,a=e.klass;return e.add_stubs(["$new","$push","$[]=","$[]","$create_id","$json_create","$attr_accessor","$create_id=","$===","$parse","$generate","$from_object","$to_json","$responds_to?","$to_io","$write","$to_s","$strftime"]),function(n){function a(n,r){switch(typeof n){case"string":return n;case"number":return n;case"boolean":return!!n;case"null":return t;case"object":if(!n)return t;if(n._isArray){for(var o=r.array_class.$new(),s=0,c=n.length;c>s;s++)o.$push(a(n[s],r));return o}var _=r.object_class.$new();for(var $ in n)u.call(n,$)&&_["$[]="]($,a(n[$],r));var p;return(p=_["$[]"]((null==(i=l.JSON)?e.cm("JSON"):i).$create_id()))!=t?(p=Opal.cget(p),p.$json_create(_)):_}}var i,s=r(n,"JSON"),l=(s._proto,s._scope),c=JSON.parse,u=Opal.hasOwnProperty;!function(e){return e._scope,e._proto,e.$attr_accessor("create_id")}(s.$singleton_class()),s["$create_id="]("json_class"),e.defs(s,"$[]",function(n,r){var a,i,s=this;return null==r&&(r=o([],{})),(a=(null==(i=l.String)?e.cm("String"):i)["$==="](n))===t||a._isBoolean&&1!=a?s.$generate(n,r):s.$parse(n,r)}),e.defs(s,"$parse",function(e,n){var t=this;return null==n&&(n=o([],{})),t.$from_object(c(e),n)}),e.defs(s,"$parse!",function(e,n){var t=this;return null==n&&(n=o([],{})),t.$parse(e,n)}),e.defs(s,"$from_object",function(n,r){var i,s,c,u;return null==r&&(r=o([],{})),i="object_class",s=r,(c=s["$[]"](i))!==!1&&c!==t?c:s["$[]="](i,null==(u=l.Hash)?e.cm("Hash"):u),i="array_class",s=r,(c=s["$[]"](i))!==!1&&c!==t?c:s["$[]="](i,null==(u=l.Array)?e.cm("Array"):u),a(n,r.map)}),e.defs(s,"$generate",function(e,n){return null==n&&(n=o([],{})),e.$to_json(n)}),e.defs(s,"$dump",function(e,n,r){var o,a=this,i=t;return null==n&&(n=t),null==r&&(r=t),i=a.$generate(e),n!==!1&&n!==t?((o=n["$responds_to?"]("to_io"))===t||o._isBoolean&&1!=o||(n=n.$to_io()),n.$write(i),n):i})}(n),function(n,$super){function r(){}var o=r=a(n,$super,"Object",r);return o._proto,o._scope,e.defn(o,"$to_json",function(){var e=this;return e.$to_s().$to_json()}),t}(n,null),function(e,$super){function n(){}var r=n=a(e,$super,"Array",n),o=r._proto;return r._scope,o.$to_json=function(){for(var e=this,n=[],t=0,r=e.length;r>t;t++)n.push(e[t].$to_json());return"["+n.join(", ")+"]"},t}(n,null),function(e,$super){function n(){}var r=n=a(e,$super,"Boolean",n),o=r._proto;return r._scope,o.$to_json=function(){var e=this;return 1==e?"true":"false"},t}(n,null),function(e,$super){function n(){}var r=n=a(e,$super,"Hash",n),o=r._proto;return r._scope,o.$to_json=function(){for(var e=this,n=[],t=e.keys,r=e.map,o=0,a=t.length;a>o;o++){var i=t[o];n.push(i.$to_s().$to_json()+":"+r[i].$to_json())}return"{"+n.join(", ")+"}"},t}(n,null),function(e,$super){function n(){}var r=n=a(e,$super,"NilClass",n),o=r._proto;return r._scope,o.$to_json=function(){return"null"},t}(n,null),function(e,$super){function n(){}var r=n=a(e,$super,"Numeric",n),o=r._proto;return r._scope,o.$to_json=function(){var e=this;return e.toString()},t}(n,null),function(n,$super){function t(){}var r=t=a(n,$super,"String",t),o=r._proto;return r._scope,e.defn(r,"$to_json",o.$inspect)}(n,null),function(e,$super){function n(){}var r=n=a(e,$super,"Time",n),o=r._proto;return r._scope,o.$to_json=function(){var e=this;return e.$strftime("%FT%T%z").$to_json()},t}(n,null)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass,i=e.hash2,s=e.gvars;return e.add_stubs(["$attr_reader","$<<","$[]","$[]=","$summary_line","$mute_profile_output?","$dump_profile","$pluralize","$>","$map","$tap","$exception","$name","$class","$message","$backtrace","$format_example","$examples","$write","$output","$to_json","$===","$!","$==","$close","$dump_profile_slowest_examples","$dump_profile_slowest_example_groups","$slowest_examples","$execution_result","$update","$slowest_groups","$private","$description","$full_description","$metadata"]),function(n){var l=o(n,"RSpec");l._proto,l._scope,function(n){var l=o(n,"Core");l._proto,l._scope,function(n){var l,c=o(n,"Formatters"),u=(c._proto,c._scope);!function(n,$super){function o(){}var l,c,u,_=o=a(n,$super,"JsonFormatter",o),$=_._proto,p=_._scope;return $.output_hash=t,_.$attr_reader("output_hash"),$.$initialize=l=function(){var n=r.call(arguments,0),t=this,o=l._p;return l._p=null,e.find_super_dispatcher(t,"initialize",l,o).apply(t,n),t.output_hash=i([],{})},$.$message=function(e){var n,r,o,a=this;return n="messages",r=a.output_hash,(o=r["$[]"](n))!==!1&&o!==t?o:r["$[]="](n,[])["$<<"](e)},$.$dump_summary=c=function(n,r,o,a){var s,l=this;return c._p,c._p=null,e.find_super_dispatcher(l,"dump_summary",c,null).apply(l,[n,r,o,a]),l.output_hash["$[]="]("summary",i(["duration","example_count","failure_count","pending_count"],{duration:n,example_count:r,failure_count:o,pending_count:a})),l.output_hash["$[]="]("summary_line",l.$summary_line(r,o,a)),(s=l["$mute_profile_output?"](o))===t||s._isBoolean&&1!=s?l.$dump_profile():t},$.$summary_line=function(e,n,r){var o=this,a=t;return a=o.$pluralize(e,"example"),a["$<<"](", ")["$<<"](o.$pluralize(n,"failure")),r["$>"](0)&&a["$<<"](", "+r+" pending"),a},$.$stop=u=function(){var n,o,a,s=r.call(arguments,0),l=this,c=u._p;return u._p=null,e.find_super_dispatcher(l,"stop",u,c).apply(l,s),l.output_hash["$[]="]("examples",(n=(o=l.$examples()).$map,n._p=(a=function(e){var n,r,o,s=a._s||this;return null==e&&(e=t),(n=(r=s.$format_example(e)).$tap,n._p=(o=function(n){var r,a=(o._s||this,t);return null==n&&(n=t),(r=a=e.$exception())===t||r._isBoolean&&1!=r?t:n["$[]="]("exception",i(["class","message","backtrace"],{"class":a.$class().$name(),message:a.$message(),backtrace:a.$backtrace()}))},o._s=s,o),n).call(r)},a._s=l,a),n).call(o))},$.$close=function(){var n,r,o,a=this;return a.$output().$write(a.output_hash.$to_json()),r=(null==(o=p.IO)?e.cm("IO"):o)["$==="](a.$output()),(n=r!==!1&&r!==t?a.$output()["$=="](s.stdout)["$!"]():r)===t||n._isBoolean&&1!=n?t:a.$output().$close()},$.$dump_profile=function(){var e=this;return e.output_hash["$[]="]("profile",i([],{})),e.$dump_profile_slowest_examples(),e.$dump_profile_slowest_example_groups()},$.$dump_profile_slowest_examples=function(){var e,n,r,o=this,a=t;return o.output_hash["$[]="]("profile",i([],{})),a=o.$slowest_examples(),o.output_hash["$[]"]("profile")["$[]="]("examples",(e=(n=a["$[]"]("examples")).$map,e._p=(r=function(e){var n,o,a,i=r._s||this;return null==e&&(e=t),(n=(o=i.$format_example(e)).$tap,n._p=(a=function(n){return a._s||this,null==n&&(n=t),n["$[]="]("run_time",e.$execution_result()["$[]"]("run_time"))},a._s=i,a),n).call(o)},r._s=o,r),e).call(n)),o.output_hash["$[]"]("profile")["$[]="]("slowest",a["$[]"]("slows")),o.output_hash["$[]"]("profile")["$[]="]("total",a["$[]"]("total"))},$.$dump_profile_slowest_example_groups=function(){var e,n,r,o,a=this;return e="profile",n=a.output_hash,(r=n["$[]"](e))!==!1&&r!==t?r:n["$[]="](e,i([],{})),a.output_hash["$[]"]("profile")["$[]="]("groups",(e=(n=a.$slowest_groups()).$map,e._p=(o=function(e,n){return o._s||this,null==e&&(e=t),null==n&&(n=t),n.$update(i(["location"],{location:e}))},o._s=a,o),e).call(n))},_.$private(),$.$format_example=function(e){return i(["description","full_description","status","file_path","line_number"],{description:e.$description(),full_description:e.$full_description(),status:e.$execution_result()["$[]"]("status"),file_path:e.$metadata()["$[]"]("file_path"),line_number:e.$metadata()["$[]"]("line_number")})},t}(c,null==(l=u.BaseFormatter)?e.cm("BaseFormatter"):l)}(l)}(l)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=e.slice,a=e.module,i=e.klass,s=e.hash2,l=e.gvars,c=e.range;return e.add_stubs(["$include","$define_method","$instance_variable_defined?","$instance_variable_get","$value_for","$deprecate","$alias_method","$define_predicate_for","$each","$has_key?","$raise","$[]","$deprecate_alias_key","$define_aliases","$attr_writer","$define_reader","$Array","$add_setting","$!","$equal?","$warn","$+","$inspect","$output_stream","$first_non_rspec_line","$warning","$attr_accessor","$attr_reader","$new","$force","$ordering_manager","$merge!","$warnings=","$clear","$delete","$class_eval","$send","$mock_with","$exclusion_patterns","$exclusion_patterns=","$inclusion_patterns","$inclusion_patterns=","$===","$map","$respond_to?","$framework_name","$==","$assert_no_example_groups_defined","$configuration","$empty?","$expect_with","$expecting_with_rspec=","$any?","$-","$>","$length","$first","$push","$full_backtrace?","$full_backtrace=","$output_to_tty?","$windows_os?","$unshift","$filter_run","$to_i","$fetch","$filter","$union","$built_in_formatter","$custom_formatter","$<<","$formatters","$file_at","$add_formatter","$deprecation_stream","$is_a?","$flatten","$command","$running_in_drb?","$default_path","$files_to_run=","$get_files_to_run","$build_hash_from","$alias_example_to","$alias_it_behaves_like_to","$include_with_low_priority","$filter_manager","$include!","$inclusions","$exclude_with_low_priority","$exclude!","$exclusions","$include_or_extend_modules","$any_apply?","$<","$select","$directory?","$add_to_load_path","$>=","$to_f","$extend","$include?","$included_modules","$mock_framework","$expectation_frameworks","$load","$expand_path","$uniq","$files_to_run","$lambda","$__send__","$to_proc","$delegate_to_ordering_manager","$module_eval","$let","$deprecation_stream=","$private","$sort","$flat_map","$gsub","$gather_directories","$extract_location","$pattern","$=~","$escape","$split","$add_location","$last","$example_groups","$world","$tty?","$to_s","$string_const?","$inject","$const_get","$retry","$underscore_with_fix_for_non_standard_rspec_naming","$sub","$underscore","$dup","$gsub!","$tr!","$downcase!","$mkdir_p","$dirname"]),function(n){var u=a(n,"RSpec");u._proto,u._scope,function(n){var u=a(n,"Core");u._proto,u._scope,function(n,$super){function u(){}var _,$,p,d,f,m,h,v=u=i(n,$super,"Configuration",u),g=v._proto,b=v._scope;return g.reporter=g.output_stream=g.spec_files_loaded=g.preferred_options=g.formatters=g.mock_framework=g.backtrace_formatter=g.expectation_frameworks=g.color=g.requires=g.profile_examples=g.format_docstrings_block=t,v.$include(null==(_=(null==($=(null==(p=b.RSpec)?e.cm("RSpec"):p)._scope).Core?$.cm("Core"):$.Core)._scope).Hooks?_.cm("Hooks"):_.Hooks),function(e,$super){function n(){}var r=n=i(e,$super,"MustBeConfiguredBeforeExampleGroupsError",n);return r._proto,r._scope,t}(v,null==(_=b.StandardError)?e.cm("StandardError"):_),e.defs(v,"$define_reader",function(e){var n,r,o,a=this;return(n=(r=a).$define_method,n._p=(o=function(){var n,r=o._s||this,a=t;return a=function(){return(n=r["$instance_variable_defined?"]("@"+e))===t||n._isBoolean&&1!=n?t:r.$instance_variable_get("@"+e)}(),r.$value_for(e,a)},o._s=a,o),n).call(r,e)}),e.defs(v,"$deprecate_alias_key",function(){var n;return(null==(n=b.RSpec)?e.cm("RSpec"):n).$deprecate("add_setting with :alias option",s(["replacement"],{replacement:":alias_with"}))}),e.defs(v,"$define_aliases",function(e,n){var t=this;return t.$alias_method(n,e),t.$alias_method(""+n+"=",""+e+"="),t.$define_predicate_for(n)}),e.defs(v,"$define_predicate_for",function(e){var n,r,a,i=this;return e=o.call(arguments,0),(n=(r=e).$each,n._p=(a=function(e){var n=a._s||this;return null==e&&(e=t),n.$alias_method(""+e+"?",e)},a._s=i,a),n).call(r)}),e.defs(v,"$add_setting",function(e,n){var r,o,a,i=this;return null==n&&(n=s([],{})),(r=n["$has_key?"]("default"))===t||r._isBoolean&&1!=r||i.$raise("Use the instance add_setting method if you want to set a default"),(r=n["$[]"]("alias"))===t||r._isBoolean&&1!=r?(i.$attr_writer(e),i.$define_reader(e),i.$define_predicate_for(e)):(i.$deprecate_alias_key(),i.$define_aliases(n["$[]"]("alias"),e)),(r=(o=i.$Array(n["$[]"]("alias_with"))).$each,r._p=(a=function(n){var r=a._s||this;return null==n&&(n=t),r.$define_aliases(e,n)},a._s=i,a),r).call(o)}),v.$add_setting("default_path"),v.$add_setting("drb"),v.$add_setting("drb_port"),v.$add_setting("error_stream"),v.$add_setting("deprecation_stream"),v.$add_setting("fail_fast"),v.$add_setting("dry_run"),v.$add_setting("failure_exit_code"),v.$define_reader("requires"),v.$define_reader("libs"),v.$define_reader("output_stream"),g["$output_stream="]=function(n){var r,o,a=this;return o=a.reporter,(r=o!==!1&&o!==t?n["$equal?"](a.output_stream)["$!"]():o)===t||r._isBoolean&&1!=r?a.output_stream=n:a.$warn("RSpec's reporter has already been initialized with "["$+"](""+a.$output_stream().$inspect()+" as the output stream, so your change to ")["$+"]("`output_stream` will be ignored. You should configure it earlier for ")["$+"]("it to take effect. (Called from "+(null==(r=b.CallerFilter)?e.cm("CallerFilter"):r).$first_non_rspec_line()+")"))},v.$add_setting("pattern",s(["alias_with"],{alias_with:"filename_pattern"})),g["$pattern="]=function(n){var r,o=this;return(r=o.spec_files_loaded)===t||r._isBoolean&&1!=r||(null==(r=b.RSpec)?e.cm("RSpec"):r).$warning("Configuring `pattern` to "+n+" has no effect since RSpec has already loaded the spec files."),o.pattern=n},e.defn(v,"$filename_pattern=",g["$pattern="]),v.$add_setting("profile_examples"),v.$add_setting("run_all_when_everything_filtered"),v.$add_setting("success_color"),v.$add_setting("pending_color"),v.$add_setting("failure_color"),v.$add_setting("default_color"),v.$add_setting("fixed_color"),v.$add_setting("detail_color"),v.$add_setting("show_failures_in_pending_blocks"),g["$treat_symbols_as_metadata_keys_with_true_values="]=function(){var n;return(null==(n=b.RSpec)?e.cm("RSpec"):n).$deprecate("RSpec::Core::Configuration#treat_symbols_as_metadata_keys_with_true_values=")},v.$add_setting("tty"),v.$add_setting("include_or_extend_modules"),v.$add_setting("files_to_run"),v.$add_setting("expecting_with_rspec"),v.$attr_accessor("filter_manager"),v.$attr_reader("backtrace_formatter","ordering_manager"),e.defn(v,"$backtrace_cleaner",g.$backtrace_formatter),g.$initialize=function(){var n,r,o=this;return o.expectation_frameworks=[],o.include_or_extend_modules=[],o.mock_framework=t,o.files_to_run=[],o.formatters=[],o.color=!1,o.pattern="**/*_spec.rb",o.failure_exit_code=1,o.spec_files_loaded=!1,o.backtrace_formatter=(null==(n=b.BacktraceFormatter)?e.cm("BacktraceFormatter"):n).$new(),o.default_path="spec",o.deprecation_stream=l.stderr,o.output_stream=l.stdout,o.reporter=t,o.filter_manager=(null==(n=b.FilterManager)?e.cm("FilterManager"):n).$new(),o.ordering_manager=(null==(n=(null==(r=b.Ordering)?e.cm("Ordering"):r)._scope).ConfigurationManager?n.cm("ConfigurationManager"):n.ConfigurationManager).$new(),o.preferred_options=s([],{}),o.failure_color="red",o.success_color="green",o.pending_color="yellow",o.default_color="white",o.fixed_color="blue",o.detail_color="cyan",o.profile_examples=!1,o.requires=[],o.libs=[]},g.$force=function(e){var n=this;return n.$ordering_manager().$force(e),n.preferred_options["$merge!"](e),n["$warnings="](n.$value_for("warnings",t))},g.$reset=function(){var e=this;return e.spec_files_loaded=!1,e.reporter=t,e.formatters.$clear()},g.$add_setting=function(e,n){var r,o,a,i=this,l=t;return null==n&&(n=s([],{})),l=n.$delete("default"),(r=(o=function(e){return e._scope,e._proto,e}(i.$singleton_class())).$class_eval,r._p=(a=function(){var t=a._s||this;return t.$add_setting(e,n)},a._s=i,a),r).call(o),l!==!1&&l!==t?i.$send(""+e+"=",l):t},g.$mock_framework=function(){var e,n=this;return((e=n.mock_framework)===t||e._isBoolean&&1!=e)&&n.$mock_with("rspec"),n.mock_framework},g["$mock_framework="]=function(e){var n=this;return n.$mock_with(e)},g.$backtrace_exclusion_patterns=function(){var e=this;return e.backtrace_formatter.$exclusion_patterns()},g["$backtrace_exclusion_patterns="]=function(e){var n=this;return n.backtrace_formatter["$exclusion_patterns="](e)},g.$backtrace_inclusion_patterns=function(){var e=this;return e.backtrace_formatter.$inclusion_patterns()},g["$backtrace_inclusion_patterns="]=function(e){var n=this;return n.backtrace_formatter["$inclusion_patterns="](e)},g.$mock_with=d=function(n){var o,a,i,s,l=this,c=d._p,u=c||t,_=t,$=t,p=t,f=t;return d._p=null,_=function(){return $=n,(null==(o=b.Module)?e.cm("Module"):o)["$==="]($)?n:(null==(o=b.String)?e.cm("String"):o)["$==="]($)||(null==(o=b.Symbol)?e.cm("Symbol"):o)["$==="]($)?null==(o=(null==(a=(null==(i=b.RSpec)?e.cm("RSpec"):i)._scope).Core?a.cm("Core"):a.Core)._scope).MockFrameworkAdapter?o.cm("MockFrameworkAdapter"):o.MockFrameworkAdapter:t}(),o=e.to_ary((a=(i=[_,l.mock_framework]).$map,a._p=(s=function(e){var n;return s._s||this,null==e&&(e=t),(n=e["$respond_to?"]("framework_name"))===t||n._isBoolean&&1!=n?"unnamed":e.$framework_name()},s._s=l,s),a).call(i)),p=null==o[0]?t:o[0],f=null==o[1]?t:o[1],p["$=="](f)||l.$assert_no_example_groups_defined("mock_framework"),u!==t&&(((o=_["$respond_to?"]("configuration"))===t||o._isBoolean&&1!=o)&&l.$raise(""+_+" must respond to `configuration` so that mock_with can yield it."),e.$yield1(u,_.$configuration())===r)?r.$v:l.mock_framework=_},g.$expectation_frameworks=function(){var e,n=this;return(e=n.expectation_frameworks["$empty?"]())===t||e._isBoolean&&1!=e||n.$expect_with("rspec"),n.expectation_frameworks},g["$expectation_framework="]=function(e){var n=this;return n.$expect_with(e)},g.$expect_with=f=function(n){var a,i,s,l=this,c=f._p,u=c||t,_=t;return n=o.call(arguments,0),f._p=null,_=(a=(i=n).$map,a._p=(s=function(n){var r,o,a,i=s._s||this,l=t;return null==n&&(n=t),function(){return l=n,(null==(r=b.Module)?e.cm("Module"):r)["$==="](l)?n:"rspec"["$==="](l)?(i["$expecting_with_rspec="](!0),null==(r=(null==(o=e.Object._scope.RSpec)?e.cm("RSpec"):o)._scope).Matchers?r.cm("Matchers"):r.Matchers):"stdlib"["$==="](l)?null==(r=(null==(o=(null==(a=e.Object._scope.Test)?e.cm("Test"):a)._scope).Unit?o.cm("Unit"):o.Unit)._scope).Assertions?r.cm("Assertions"):r.Assertions:i.$raise(null==(r=b.ArgumentError)?e.cm("ArgumentError"):r,""+n.$inspect()+" is not supported")}()},s._s=l,s),a).call(i),(a=_["$-"](l.expectation_frameworks)["$any?"]())===t||a._isBoolean&&1!=a||l.$assert_no_example_groups_defined("expect_with"),u!==t&&(_.$length()["$>"](1)&&l.$raise("expect_with only accepts a block with a single argument. Call expect_with "+_.$length()+" times, once with each argument, instead."),((a=_.$first()["$respond_to?"]("configuration"))===t||a._isBoolean&&1!=a)&&l.$raise(""+_.$first()+" must respond to `configuration` so that expect_with can yield it."),e.$yield1(u,_.$first().$configuration())===r)?r.$v:(a=l.expectation_frameworks).$push.apply(a,[].concat(_))},g["$full_backtrace?"]=function(){var e=this;return e.backtrace_formatter["$full_backtrace?"]()},g["$full_backtrace="]=function(e){var n=this;return n.backtrace_formatter["$full_backtrace="](e)},g.$color=function(e){var n,r=this;return null==e&&(e=r.$output_stream()),(n=r["$output_to_tty?"](e))===t||n._isBoolean&&1!=n?!1:r.$value_for("color",r.color)},g["$color="]=function(n){var r,o,a,i=this;return n!==!1&&n!==t?(o=(null==(a=b.RSpec)?e.cm("RSpec"):a)["$windows_os?"](),(r=o!==!1&&o!==t?(null==(a=b.ENV)?e.cm("ENV"):a)["$[]"]("ANSICON")["$!"]():o)===t||r._isBoolean&&1!=r?i.color=!0:((null==(r=b.RSpec)?e.cm("RSpec"):r).$warning("You must use ANSICON 1.31 or later (http://adoxa.3eeweb.com/ansicon/) to use colour on Windows"),i.color=!1)):t},v.$alias_method("color_enabled","color"),v.$alias_method("color_enabled=","color="),v.$define_predicate_for("color_enabled","color"),g["$libs="]=function(e){var n,r,o,a=this;return(n=(r=e).$map,n._p=(o=function(e){var n=o._s||this;return null==n.libs&&(n.libs=t),null==e&&(e=t),n.libs.$unshift(e),l.LOAD_PATH.$unshift(e)},o._s=a,o),n).call(r)},g["$requires="]=function(n){var r,o,a,i=this;return(null==(r=b.RSpec)?e.cm("RSpec"):r).$deprecate("RSpec::Core::Configuration#requires=(paths)",s(["replacement"],{replacement:"paths.each {|path| require path}"})),(r=(o=n).$map,r._p=(a=function(e){return a._s||this,null==e&&(e=t),!0},a._s=i,a),r).call(o),i.requires=i.requires["$+"](n)},g["$line_numbers="]=function(e){var n,r,o,a=this;return a.$filter_run(s(["line_numbers"],{line_numbers:(n=(r=e).$map,n._p=(o=function(e){return o._s||this,null==e&&(e=t),e.$to_i()},o._s=a,o),n).call(r)}))},g.$line_numbers=function(){var e=this;return e.$filter().$fetch("line_numbers",[])},g["$full_description="]=function(n){var r,o,a,i,l=this;return l.$filter_run(s(["full_description"],{full_description:(r=null==(o=b.Regexp)?e.cm("Regexp"):o).$union.apply(r,[].concat((o=(a=l.$Array(n)).$map,o._p=(i=function(n){var r;return i._s||this,null==n&&(n=t),(null==(r=b.Regexp)?e.cm("Regexp"):r).$new(n)},i._s=l,i),o).call(a)))}))},g.$full_description=function(){var e=this;return e.$filter().$fetch("full_description",t)},g.$add_formatter=function(n,r){var a,i,s,l,c=this,u=t;return r=o.call(arguments,1),u=(a=(i=c.$built_in_formatter(n))!==!1&&i!==t?i:c.$custom_formatter(n))!==!1&&a!==t?a:c.$raise(null==(i=b.ArgumentError)?e.cm("ArgumentError"):i,"Formatter '"+n+"' unknown - maybe you meant 'documentation' or 'progress'?."),(a=r["$empty?"]())===t||a._isBoolean&&1!=a||r["$<<"](c.$output_stream()),c.$formatters()["$<<"]((a=u).$new.apply(a,[].concat((i=(s=r).$map,i._p=(l=function(n){var r,o,a=l._s||this;return null==n&&(n=t),(r=(null==(o=b.String)?e.cm("String"):o)["$==="](n))===t||r._isBoolean&&1!=r?n:a.$file_at(n)},l._s=c,l),i).call(s))))},v.$alias_method("formatter=","add_formatter"),g.$formatters=function(){var e,n=this;return(e=n.formatters)!==!1&&e!==t?e:n.formatters=[]},g.$reporter=function(){var n,r,o,a,i,s=this;return(n=s.reporter)!==!1&&n!==t?n:s.reporter=function(){return(r=s.$formatters()["$empty?"]())===t||r._isBoolean&&1!=r||s.$add_formatter("progress"),s.$add_formatter(null==(r=(null==(o=(null==(a=(null==(i=b.RSpec)?e.cm("RSpec"):i)._scope).Core?a.cm("Core"):a.Core)._scope).Formatters?o.cm("Formatters"):o.Formatters)._scope).DeprecationFormatter?r.cm("DeprecationFormatter"):r.DeprecationFormatter,s.$deprecation_stream(),s.$output_stream()),(r=null==(o=b.Reporter)?e.cm("Reporter"):o).$new.apply(r,[s].concat(s.$formatters()))}()},g.$profile_examples=function(){var n,r,o,a=this,i=t;return i=a.$value_for("profile_examples",a.profile_examples),(n=(r=i!==!1&&i!==t)?i["$is_a?"](null==(o=b.Integer)?e.cm("Integer"):o)["$!"]():r)===t||n._isBoolean&&1!=n?i:10},g["$files_or_directories_to_run="]=function(n){var r,a,i,s,l,c=this;return n=o.call(arguments,0),n=n.$flatten(),i=(s=c.$command()["$=="]("rspec"))!==!1&&s!==t?s:(null==(l=b.Runner)?e.cm("Runner"):l)["$running_in_drb?"](),a=i!==!1&&i!==t?c.$default_path():i,(r=a!==!1&&a!==t?n["$empty?"]():a)===t||r._isBoolean&&1!=r||n["$<<"](c.$default_path()),c["$files_to_run="](c.$get_files_to_run(n))},g.$alias_example_to=function(n,r){var a,i,s,l=t;return r=o.call(arguments,1),l=(null==(a=b.Metadata)?e.cm("Metadata"):a).$build_hash_from(r),(null==(a=(null==(i=(null==(s=b.RSpec)?e.cm("RSpec"):s)._scope).Core?i.cm("Core"):i.Core)._scope).ExampleGroup?a.cm("ExampleGroup"):a.ExampleGroup).$alias_example_to(n,l)},g.$alias_it_behaves_like_to=function(n,t){var r,o,a;return null==t&&(t=""),(null==(r=(null==(o=(null==(a=b.RSpec)?e.cm("RSpec"):a)._scope).Core?o.cm("Core"):o.Core)._scope).ExampleGroup?r.cm("ExampleGroup"):r.ExampleGroup).$alias_it_behaves_like_to(n,t)},v.$alias_method("alias_it_should_behave_like_to","alias_it_behaves_like_to"),g.$filter_run_including=function(n){var t,r=this;return n=o.call(arguments,0),r.$filter_manager().$include_with_low_priority((null==(t=b.Metadata)?e.cm("Metadata"):t).$build_hash_from(n))},v.$alias_method("filter_run","filter_run_including"),g["$inclusion_filter="]=function(n){var t,r=this;return r.$filter_manager()["$include!"]((null==(t=b.Metadata)?e.cm("Metadata"):t).$build_hash_from([n]))},v.$alias_method("filter=","inclusion_filter="),g.$inclusion_filter=function(){var e=this;return e.$filter_manager().$inclusions()},v.$alias_method("filter","inclusion_filter"),g.$filter_run_excluding=function(n){var t,r=this;return n=o.call(arguments,0),r.$filter_manager().$exclude_with_low_priority((null==(t=b.Metadata)?e.cm("Metadata"):t).$build_hash_from(n))},g["$exclusion_filter="]=function(n){var t,r=this;return r.$filter_manager()["$exclude!"]((null==(t=b.Metadata)?e.cm("Metadata"):t).$build_hash_from([n]))},g.$exclusion_filter=function(){var e=this;return e.$filter_manager().$exclusions()},g.$include=function(n,t){var r,a=this;return t=o.call(arguments,1),a.$include_or_extend_modules()["$<<"](["include",n,(null==(r=b.Metadata)?e.cm("Metadata"):r).$build_hash_from(t)])},g.$extend=function(n,t){var r,a=this;return t=o.call(arguments,1),a.$include_or_extend_modules()["$<<"](["extend",n,(null==(r=b.Metadata)?e.cm("Metadata"):r).$build_hash_from(t)])},g.$configure_group=function(e){var n,r,o,a=this;return(n=(r=a.$include_or_extend_modules()).$each,n._p=(o=function(n,r,a){var i,s,l=o._s||this;return null==n&&(n=t),null==r&&(r=t),null==a&&(a=t),(i=(s=a["$empty?"]())!==!1&&s!==t?s:e["$any_apply?"](a))===t||i._isBoolean&&1!=i?t:l.$send("safe_"+n,r,e)},o._s=a,o),n).call(r)},g.$safe_include=function(e,n){return n["$<"](e)?t:n.$send("include",e)},g.$setup_load_path_and_require=function(n){var r,o,a,i,s,l,c,u=this,_=t;return _=(r=(o=["lib",u.$default_path()]).$select,r._p=(a=function(n){var r;return a._s||this,null==n&&(n=t),(null==(r=b.File)?e.cm("File"):r)["$directory?"](n)},a._s=u,a),r).call(o),(r=null==(i=(null==(s=(null==(l=b.RSpec)?e.cm("RSpec"):l)._scope).Core?s.cm("Core"):s.Core)._scope).RubyProject?i.cm("RubyProject"):i.RubyProject).$add_to_load_path.apply(r,[].concat(_)),(i=(s=n).$each,i._p=(c=function(e){return c._s||this,null==e&&(e=t),!0},c._s=u,c),i).call(s),u.requires=u.requires["$+"](n)},g.$safe_extend=(null==(_=b.RUBY_VERSION)?e.cm("RUBY_VERSION"):_).$to_f()["$>="](1.9)?function(e,n){return function(e){return e._scope,e._proto,e}(n.$singleton_class())["$<"](e)?t:n.$extend(e)}:function(e,n){var r;return(r=function(e){return e._scope,e._proto,e}(n.$singleton_class()).$included_modules()["$include?"](e))===t||r._isBoolean&&1!=r?n.$extend(e):t},g.$configure_mock_framework=function(){var n,t,r,o=this;return(null==(n=(null==(t=(null==(r=b.RSpec)?e.cm("RSpec"):r)._scope).Core?t.cm("Core"):t.Core)._scope).ExampleGroup?n.cm("ExampleGroup"):n.ExampleGroup).$send("include",o.$mock_framework())},g.$configure_expectation_framework=function(){var n,r,o,a=this;return(n=(r=a.$expectation_frameworks()).$each,n._p=(o=function(n){var r,a,i;return o._s||this,null==n&&(n=t),(null==(r=(null==(a=(null==(i=b.RSpec)?e.cm("RSpec"):i)._scope).Core?a.cm("Core"):a.Core)._scope).ExampleGroup?r.cm("ExampleGroup"):r.ExampleGroup).$send("include",n)},o._s=a,o),n).call(r)},g.$load_spec_files=function(){var n,r,o,a=this;return(n=(r=a.$files_to_run().$uniq()).$each,n._p=(o=function(n){var r,a=o._s||this;return null==n&&(n=t),a.$load((null==(r=b.File)?e.cm("File"):r).$expand_path(n))},o._s=a,o),n).call(r),a.spec_files_loaded=!0},e.cdecl(b,"DEFAULT_FORMATTER",(_=($=v).$lambda,_._p=(m=function(e){return m._s||this,null==e&&(e=t),e},m._s=v,m),_).call($)),g.$format_docstrings=h=function(){var n,r=this,o=h._p,a=o||t;return h._p=null,r.format_docstrings_block=function(){return a!==t?a:null==(n=b.DEFAULT_FORMATTER)?e.cm("DEFAULT_FORMATTER"):n}()},g.$format_docstrings_block=function(){var n,r,o=this;return(n=o.format_docstrings_block)!==!1&&n!==t?n:o.format_docstrings_block=null==(r=b.DEFAULT_FORMATTER)?e.cm("DEFAULT_FORMATTER"):r},e.defs(v,"$delegate_to_ordering_manager",function(e){var n,r,a,i=this;return e=o.call(arguments,0),(n=(r=e).$each,n._p=(a=function(e){var n,r,i,s=a._s||this;return null==e&&(e=t),(n=(r=s).$define_method,n._p=(i=function(n){var r,a,s,l=i._s||this;return n=o.call(arguments,0),r=i._p||t,i._p=null,(a=(s=l.$ordering_manager()).$__send__,a._p=r.$to_proc(),a).apply(s,[e].concat(n))},i._s=s,i),n).call(r,e)},a._s=i,a),n).call(r)}),v.$delegate_to_ordering_manager("seed="),v.$delegate_to_ordering_manager("seed"),v.$delegate_to_ordering_manager("order="),v.$delegate_to_ordering_manager("register_ordering"),v.$delegate_to_ordering_manager("seed_used?","ordering_registry"),g["$warnings="]=function(e){return l.VERBOSE=e["$!"]()["$!"]()},g.$warnings=function(){return l.VERBOSE},g.$expose_current_running_example_as=function(n){var r,o,a,i,s=this;return(r=(o=null==(i=b.ExposeCurrentExample)?e.cm("ExposeCurrentExample"):i).$module_eval,r._p=(a=function(){var r,o,i,s=a._s||this;return s.$extend(null==(r=(null==(o=b.RSpec)?e.cm("RSpec"):o)._scope).SharedContext?r.cm("SharedContext"):r.SharedContext),(r=(o=s).$let,r._p=(i=function(e){return i._s||this,null==e&&(e=t),e},i._s=s,i),r).call(o,n)},a._s=s,a),r).call(o),s.$include(null==(r=b.ExposeCurrentExample)?e.cm("ExposeCurrentExample"):r)},function(e){var n=a(e,"ExposeCurrentExample");n._proto,n._scope}(v),g["$raise_errors_for_deprecations!"]=function(){var n,t,r,o=this;return o["$deprecation_stream="]((null==(n=(null==(t=(null==(r=b.Formatters)?e.cm("Formatters"):r)._scope).DeprecationFormatter?t.cm("DeprecationFormatter"):t.DeprecationFormatter)._scope).RaiseErrorStream?n.cm("RaiseErrorStream"):n.RaiseErrorStream).$new())},v.$private(),g.$get_files_to_run=function(n){var r,o,a,i,s=this;return(r=(o=null==(i=b.FlatMap)?e.cm("FlatMap"):i).$flat_map,r._p=(a=function(n){var r,o,i,s=a._s||this;return null==n&&(n=t),(r=null==(o=(null==(i=b.File)?e.cm("File"):i)._scope).ALT_SEPARATOR?o.cm("ALT_SEPARATOR"):o.ALT_SEPARATOR)===t||r._isBoolean&&1!=r||(n=n.$gsub(null==(r=(null==(o=b.File)?e.cm("File"):o)._scope).ALT_SEPARATOR?r.cm("ALT_SEPARATOR"):r.ALT_SEPARATOR,null==(r=(null==(o=b.File)?e.cm("File"):o)._scope).SEPARATOR?r.cm("SEPARATOR"):r.SEPARATOR)),(r=(null==(o=b.File)?e.cm("File"):o)["$directory?"](n))===t||r._isBoolean&&1!=r?s.$extract_location(n):s.$gather_directories(n)},a._s=s,a),r).call(o,n).$sort()},g.$gather_directories=function(n){var r,o,a=this,i=t,s=t;return i="{"+a.$pattern().$gsub(/\s*,\s*/,",")+"}",s=function(){return(r=a.$pattern()["$=~"](new RegExp("^"+(null==(o=b.Regexp)?e.cm("Regexp"):o).$escape(n))))===t||r._isBoolean&&1!=r?(null==(r=b.Dir)?e.cm("Dir"):r)["$[]"](""+n+"/"+i):(null==(r=b.Dir)?e.cm("Dir"):r)["$[]"](i)}(),s.$sort()},g.$extract_location=function(e){var n,r,o,a,i=this,s=t;return(n=e["$=~"](/^(.*?)((?:\:\d+)+)$/))===t||n._isBoolean&&1!=n||(n=[t,(r=(o=t["$[]"](c(1,-1,!1)).$split(":")).$map,r._p=(a=function(e){return a._s||this,null==e&&(e=t),e.$to_i()},a._s=i,a),r).call(o)],e=n[0],s=n[1],i.$filter_manager().$add_location(e,s)),e
},g.$command=function(){var n,t;return l["0"].$split(null==(n=(null==(t=b.File)?e.cm("File"):t)._scope).SEPARATOR?n.cm("SEPARATOR"):n.SEPARATOR).$last()},g.$value_for=function(e,n){var r,o=this;return null==n&&(n=t),(r=o.preferred_options["$has_key?"](e))===t||r._isBoolean&&1!=r?n:o.preferred_options["$[]"](e)},g.$assert_no_example_groups_defined=function(n){var r,o,a=this;return(r=(null==(o=b.RSpec)?e.cm("RSpec"):o).$world().$example_groups()["$any?"]())===t||r._isBoolean&&1!=r?t:a.$raise((null==(r=b.MustBeConfiguredBeforeExampleGroupsError)?e.cm("MustBeConfiguredBeforeExampleGroupsError"):r).$new(("RSpec's "+n+" configuration option must be configured before ")["$+"]("any example groups are defined, but you have already defined a group.")))},g["$output_to_tty?"]=function(e){var n,r,o=this;return null==e&&(e=o.$output_stream()),(n=o["$tty?"]())!==!1&&n!==t?n:(r=e["$respond_to?"]("tty?"),r!==!1&&r!==t?e["$tty?"]():r)},g.$built_in_formatter=function(n){var r,o,a,i,s=t;return function(){return s=n.$to_s(),"d"["$==="](s)||"doc"["$==="](s)||"documentation"["$==="](s)||"s"["$==="](s)||"n"["$==="](s)||"spec"["$==="](s)||"nested"["$==="](s)?null==(r=(null==(o=(null==(a=(null==(i=b.RSpec)?e.cm("RSpec"):i)._scope).Core?a.cm("Core"):a.Core)._scope).Formatters?o.cm("Formatters"):o.Formatters)._scope).DocumentationFormatter?r.cm("DocumentationFormatter"):r.DocumentationFormatter:"h"["$==="](s)||"html"["$==="](s)?null==(r=(null==(o=(null==(a=(null==(i=b.RSpec)?e.cm("RSpec"):i)._scope).Core?a.cm("Core"):a.Core)._scope).Formatters?o.cm("Formatters"):o.Formatters)._scope).HtmlFormatter?r.cm("HtmlFormatter"):r.HtmlFormatter:"p"["$==="](s)||"progress"["$==="](s)?null==(r=(null==(o=(null==(a=(null==(i=b.RSpec)?e.cm("RSpec"):i)._scope).Core?a.cm("Core"):a.Core)._scope).Formatters?o.cm("Formatters"):o.Formatters)._scope).ProgressFormatter?r.cm("ProgressFormatter"):r.ProgressFormatter:"j"["$==="](s)||"json"["$==="](s)?null==(r=(null==(o=(null==(a=(null==(i=b.RSpec)?e.cm("RSpec"):i)._scope).Core?a.cm("Core"):a.Core)._scope).Formatters?o.cm("Formatters"):o.Formatters)._scope).JsonFormatter?r.cm("JsonFormatter"):r.JsonFormatter:t}()},g.$custom_formatter=function(n){var r,o,a,i,s=this;if(!((r=(null==(o=b.Class)?e.cm("Class"):o)["$==="](n))===t||r._isBoolean&&1!=r))return n;if((r=s["$string_const?"](n))===t||r._isBoolean&&1!=r)return t;try{return(r=(o=n.$gsub(/^::/,"").$split("::")).$inject,r._p=(a=function(e,n){return a._s||this,null==e&&(e=t),null==n&&(n=t),e.$const_get(n)},a._s=s,a),r).call(o,null==(i=b.Object)?e.cm("Object"):i)}catch(l){if((null==(r=b.NameError)?e.cm("NameError"):r)["$==="](l))return(r=!0)===t||r._isBoolean&&1!=r?s.$raise():s.$retry();throw l}},g["$string_const?"]=function(n){var r,o;return r=n["$is_a?"](null==(o=b.String)?e.cm("String"):o),r!==!1&&r!==t?/\A[A-Z][a-zA-Z0-9_:]*\z/["$=~"](n):r},g.$path_for=function(e){var n=this;return n.$underscore_with_fix_for_non_standard_rspec_naming(e)},g.$underscore_with_fix_for_non_standard_rspec_naming=function(e){var n=this;return n.$underscore(e).$sub(/(^|\/)r_spec($|\/)/,"\\1rspec\\2")},g.$underscore=function(e){var n=t;return n=e.$to_s().$dup(),n["$gsub!"](/::/,"/"),n["$gsub!"](/([A-Z]+)([A-Z][a-z])/,"\\1_\\2"),n["$gsub!"](/([a-z\d])([A-Z])/,"\\1_\\2"),n["$tr!"]("-","_"),n["$downcase!"](),n},g.$file_at=function(n){var t;return(null==(t=b.FileUtils)?e.cm("FileUtils"):t).$mkdir_p((null==(t=b.File)?e.cm("File"):t).$dirname(n)),(null==(t=b.File)?e.cm("File"):t).$new(n,"w")},t}(u,null)}(u)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$create_spec_helper_file","$create_dot_rspec_file","$delete_if_confirmed","$exist?","$report_exists","$report_creating","$open","$write","$mkdir_p","$puts","$=~","$gets","$rm_rf"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Core");a._proto,a._scope,function(n,$super){function r(){}var a=r=o(n,$super,"ProjectInitializer",r),i=a._proto,s=a._scope;return i.$initialize=function(e){var n=this;return null==e&&(e=t),n.arg=e},i.$run=function(){var e=this;return e.$create_spec_helper_file(),e.$create_dot_rspec_file(),e.$delete_if_confirmed("lib/tasks/rspec.rake","  If the file in lib/tasks/rspec.rake is the one generated by rspec-rails-1x,\n  you can get rid of it, as it is no longer needed with rspec-2.\n")},i.$create_dot_rspec_file=function(){var n,r,o,a,i=this;return(n=(null==(r=s.File)?e.cm("File"):r)["$exist?"](".rspec"))===t||n._isBoolean&&1!=n?(i.$report_creating(".rspec"),(n=(r=null==(a=s.File)?e.cm("File"):a).$open,n._p=(o=function(e){return o._s||this,null==e&&(e=t),e.$write("--color\n--format progress\n")},o._s=i,o),n).call(r,".rspec","w")):i.$report_exists(".rspec")},i.$create_spec_helper_file=function(){var n,r,o,a,i=this;return(n=(null==(r=s.File)?e.cm("File"):r)["$exist?"]("spec/spec_helper.rb"))===t||n._isBoolean&&1!=n?(i.$report_creating("spec/spec_helper.rb"),(null==(n=s.FileUtils)?e.cm("FileUtils"):n).$mkdir_p("spec"),(n=(r=null==(a=s.File)?e.cm("File"):a).$open,n._p=(o=function(e){return o._s||this,null==e&&(e=t),e.$write("# This file was generated by the `rspec --init` command. Conventionally, all\n# specs live under a `spec` directory, which RSpec adds to the `$LOAD_PATH`.\n# Require this file using `require \"spec_helper\"` to ensure that it is only\n# loaded once.\n#\n# See http://rubydoc.info/gems/rspec-core/RSpec/Core/Configuration\nRSpec.configure do |config|\n  # Limit the spec run to only specs with the focus metadata. If no specs have\n  # the filtering metadata and `run_all_when_everything_filtered = true` then\n  # all specs will run.\n  #config.filter_run :focus\n\n  # Run all specs when none match the provided filter. This works well in\n  # conjunction with `config.filter_run :focus`, as it will run the entire\n  # suite when no specs have `:filter` metadata.\n  #config.run_all_when_everything_filtered = true\n\n  # Run specs in random order to surface order dependencies. If you find an\n  # order dependency and want to debug it, you can fix the order by providing\n  # the seed, which is printed after each run.\n  #     --seed 1234\n  #config.order = 'random'\nend\n")},o._s=i,o),n).call(r,"spec/spec_helper.rb","w")):i.$report_exists("spec/spec_helper.rb")},i.$delete_if_confirmed=function(n,r){var o,a,i=this;return(o=(null==(a=s.File)?e.cm("File"):a)["$exist?"](n))===t||o._isBoolean&&1!=o?t:(i.$puts(),i.$puts(r),i.$puts(),i.$puts("  delete   "+n+"? [y/n]"),(o=i.$gets()["$=~"](/y/i))===t||o._isBoolean&&1!=o?t:(null==(o=s.FileUtils)?e.cm("FileUtils"):o).$rm_rf(n))},i.$report_exists=function(e){var n=this;return n.$puts("   exist   "+e)},i.$report_creating=function(e){var n=this;return n.$puts("  create   "+e)},t}(a,null)}(a)}(n)}(Opal),function(e){var n,t=(e.top,e),r=e.nil,o=(e.breaker,e.slice,e.module),a=e.klass,i=e.hash2,s=e.range;return e.add_stubs(["$parse!","$new","$alias_method","$empty?","$convert_deprecated_args","$delete","$parser","$===","$abort","$message","$map!","$deprecate","$banner=","$on","$[]","$[]=","$<<","$to_i","$run","$exit","$warning","$separator","$last","$nil?","$==","$Integer","$+","$compile","$escape","$=~","$split","$gsub","$to_sym","$Float","$puts","$on_tail"]),function(n){var t=o(n,"Core");t._proto,t._scope,function(n,$super){function t(){}var o=t=a(n,$super,"Parser",t),l=o._proto,c=o._scope;return e.defs(o,"$parse!",function(e){var n=this;return n.$new()["$parse!"](e)}),function(e){return e._scope,e._proto,e.$alias_method("parse","parse!")}(o.$singleton_class()),l["$parse!"]=function(n){var t,o,a=this,s=r,l=r;if((t=n["$empty?"]())!==r&&(!t._isBoolean||1==t))return i([],{});a.$convert_deprecated_args(n),s=function(){return(t=n.$delete("--tty"))===r||t._isBoolean&&1!=t?i([],{}):i(["tty"],{tty:!0})}();try{a.$parser(s)["$parse!"](n)}catch(u){if(!(null==(t=(null==(o=c.OptionParser)?e.cm("OptionParser"):o)._scope).InvalidOption?t.cm("InvalidOption"):t.InvalidOption)["$==="](u))throw u;l=u,a.$abort(""+l.$message()+"\n\nPlease use --help for a listing of valid options")}return s},l.$convert_deprecated_args=function(n){var t,o,a,s=this;return(t=(o=n)["$map!"],t._p=(a=function(n){var t,o=(a._s||this,r);return null==n&&(n=r),function(){return o=n,"--formatter"["$==="](o)?((null==(t=c.RSpec)?e.cm("RSpec"):t).$deprecate("the --formatter option",i(["replacement"],{replacement:"-f or --format"})),"--format"):"--default_path"["$==="](o)?"--default-path":"--line_number"["$==="](o)?"--line-number":n}()},a._s=s,a),t).call(o)},o.$alias_method("parse","parse!"),l.$parser=function(n){var t,o,a,l,u=this;return(t=(o=null==(l=c.OptionParser)?e.cm("OptionParser"):l).$new,t._p=(a=function(t){var o,l,u,_,$,p,d,f,m,h,v,g,b,x,y,k,E,S,w,R,B,M,O,A,C,I,T,j,N,z,F,D,P,H,L,U,G,Y,q,V,K,X,W,Z,J,Q,en,nn,tn,rn,on,an,sn,ln=a._s||this;return null==t&&(t=r),t["$banner="]("Usage: rspec [options] [files or directories]\n\n"),(o=(l=t).$on,o._p=(u=function(e){var t,o,a;return u._s||this,null==e&&(e=r),t="libs",o=n,(a=o["$[]"](t))!==!1&&a!==r?a:o["$[]="](t,[]),n["$[]"]("libs")["$<<"](e)},u._s=ln,u),o).call(l,"-I PATH","Specify PATH to add to $LOAD_PATH (may be used more than once)."),(o=(_=t).$on,o._p=($=function(e){var t,o,a;return $._s||this,null==e&&(e=r),t="requires",o=n,(a=o["$[]"](t))!==!1&&a!==r?a:o["$[]="](t,[]),n["$[]"]("requires")["$<<"](e)},$._s=ln,$),o).call(_,"-r","--require PATH","Require a file."),(o=(p=t).$on,o._p=(d=function(e){return d._s||this,null==e&&(e=r),n["$[]="]("custom_options_file",e)},d._s=ln,d),o).call(p,"-O","--options PATH","Specify the path to a custom options file."),(o=(f=t).$on,o._p=(m=function(e){return m._s||this,null==e&&(e=r),n["$[]="]("order",e)},m._s=ln,m),o).call(f,"--order TYPE[:SEED]","Run examples by the specified order type.","  [defined] examples and groups are run in the order they are defined","  [rand]    randomize the order of groups and examples","  [random]  alias for rand","  [random:SEED] e.g. --order random:123"),(o=(h=t).$on,o._p=(v=function(e){return v._s||this,null==e&&(e=r),n["$[]="]("order","rand:"+e)},v._s=ln,v),o).call(h,"--seed SEED",null==(g=c.Integer)?e.cm("Integer"):g,"Equivalent of --order rand:SEED."),(o=(g=t).$on,o._p=(b=function(e){return b._s||this,null==e&&(e=r),n["$[]="]("fail_fast",!0)},b._s=ln,b),o).call(g,"--fail-fast","Abort the run on first failure."),(o=(x=t).$on,o._p=(y=function(e){return y._s||this,null==e&&(e=r),n["$[]="]("fail_fast",!1)},y._s=ln,y),o).call(x,"--no-fail-fast","Do not abort the run on first failure."),(o=(k=t).$on,o._p=(E=function(e){return E._s||this,null==e&&(e=r),n["$[]="]("failure_exit_code",e)},E._s=ln,E),o).call(k,"--failure-exit-code CODE",null==(S=c.Integer)?e.cm("Integer"):S,"Override the exit code used when there are failing specs."),(o=(S=t).$on,o._p=(w=function(e){return w._s||this,null==e&&(e=r),n["$[]="]("dry_run",!0)},w._s=ln,w),o).call(S,"--dry-run","Print the formatter output of your suite without","  running any examples or hooks"),(o=(R=t).$on,o._p=(B=function(e){return B._s||this,null==e&&(e=r),n["$[]="]("drb",e)},B._s=ln,B),o).call(R,"-X","--[no-]drb","Run examples via DRb."),(o=(M=t).$on,o._p=(O=function(e){return O._s||this,null==e&&(e=r),n["$[]="]("drb_port",e.$to_i())},O._s=ln,O),o).call(M,"--drb-port PORT","Port to connect to the DRb server."),(o=(A=t).$on,o._p=(C=function(n){var t,o=C._s||this;return null==n&&(n=r),(null==(t=c.ProjectInitializer)?e.cm("ProjectInitializer"):t).$new(n).$run(),o.$exit()},C._s=ln,C),o).call(A,"--init","Initialize your project with RSpec."),(o=(I=t).$on,o._p=(T=function(n){var t,o=T._s||this;return null==n&&(n=r),(null==(t=c.RSpec)?e.cm("RSpec"):t).$warning("--configure is deprecated with no effect. Use --init instead.",i(["call_site"],{call_site:r})),o.$exit()},T._s=ln,T),o).call(I,"--configure","Deprecated. Use --init instead."),t.$separator("\n  **** Output ****\n\n"),(o=(j=t).$on,o._p=(N=function(e){var t,o,a;return N._s||this,null==e&&(e=r),t="formatters",o=n,(a=o["$[]"](t))!==!1&&a!==r?a:o["$[]="](t,[]),n["$[]"]("formatters")["$<<"]([e])},N._s=ln,N),o).call(j,"-f","--format FORMATTER","Choose a formatter.","  [p]rogress (default - dots)","  [d]ocumentation (group and example names)","  [h]tml","  [j]son","  custom formatter class name"),(o=(z=t).$on,o._p=(F=function(e){var t,o,a;return F._s||this,null==e&&(e=r),t="formatters",o=n,(a=o["$[]"](t))!==!1&&a!==r?a:o["$[]="](t,[["progress"]]),n["$[]"]("formatters").$last()["$<<"](e)},F._s=ln,F),o).call(z,"-o","--out FILE","Write output to a file instead of $stdout. This option applies","  to the previously specified --format, or the default format","  if no format is specified."),(o=(D=t).$on,o._p=(P=function(e){return P._s||this,null==e&&(e=r),n["$[]="]("full_backtrace",!0)},P._s=ln,P),o).call(D,"-b","--backtrace","Enable full backtrace."),(o=(H=t).$on,o._p=(L=function(e){return L._s||this,null==e&&(e=r),n["$[]="]("color",e)},L._s=ln,L),o).call(H,"-c","--[no-]color","--[no-]colour","Enable color in the output."),(o=(U=t).$on,o._p=(G=function(t){var o,a=G._s||this;return null==t&&(t=r),n["$[]="]("profile_examples",function(){if(!((o=t["$nil?"]())===r||o._isBoolean&&1!=o))return!0;if(t["$=="](!1))return!1;try{return a.$Integer(t)}catch(n){if((null==(o=c.ArgumentError)?e.cm("ArgumentError"):o)["$==="](n))return(null==(o=c.RSpec)?e.cm("RSpec"):o).$warning("Non integer specified as profile count, seperate "["$+"]("your path from options with -- e.g. ")["$+"]("`rspec --profile -- "+t+"`"),i(["call_site"],{call_site:r})),!0;throw n}return r}())},G._s=ln,G),o).call(U,"-p","--[no-]profile [COUNT]","Enable profiling of examples and list the slowest examples (default: 10)."),(o=(Y=t).$on,o._p=(q=function(){return q._s||this,n["$[]="]("warnings",!0)},q._s=ln,q),o).call(Y,"-w","--warnings","Enable ruby warnings"),t.$separator("\n  **** Filtering/tags ****\n\n    In addition to the following options for selecting specific files, groups,\n    or examples, you can select a single example by appending the line number to\n    the filename:\n\n      rspec path/to/a_spec.rb:37\n\n"),(o=(V=t).$on,o._p=(K=function(e){return K._s||this,null==e&&(e=r),n["$[]="]("pattern",e)},K._s=ln,K),o).call(V,"-P","--pattern PATTERN",'Load files matching pattern (default: "spec/**/*_spec.rb").'),(o=(X=t).$on,o._p=(W=function(t){var o,a,i;return W._s||this,null==t&&(t=r),o="full_description",a=n,(i=a["$[]"](o))!==!1&&i!==r?i:a["$[]="](o,[])["$<<"]((null==(o=c.Regexp)?e.cm("Regexp"):o).$compile((null==(o=c.Regexp)?e.cm("Regexp"):o).$escape(t)))},W._s=ln,W),o).call(X,"-e","--example STRING","Run examples whose full nested names include STRING (may be","  used more than once)"),(o=(Z=t).$on,o._p=(J=function(e){var t,o,a;return J._s||this,null==e&&(e=r),t="line_numbers",o=n,(a=o["$[]"](t))!==!1&&a!==r?a:o["$[]="](t,[])["$<<"](e)},J._s=ln,J),o).call(Z,"-l","--line-number LINE","Specify line number of an example or group (may be","  used more than once)."),(o=(Q=t).$on,o._p=(en=function(t){var o,a,l,c=en._s||this,u=r,_=r,$=r,p=r;return null==t&&(t=r),u=function(){return(o=t["$=~"](/^~/))===r||o._isBoolean&&1!=o?"inclusion_filter":"exclusion_filter"}(),o=e.to_ary(t.$gsub(/^(~@|~|@)/,"").$split(":",2)),_=null==o[0]?r:o[0],$=null==o[1]?r:o[1],_=_.$to_sym(),o=u,a=n,(l=a["$[]"](o))!==!1&&l!==r?l:a["$[]="](o,i([],{})),n["$[]"](u)["$[]="](_,function(){return p=$,r["$==="](p)?!0:"true"["$==="](p)?!0:"false"["$==="](p)?!1:"nil"["$==="](p)?r:/^:/["$==="](p)?$["$[]"](s(1,-1,!1)).$to_sym():/^\d+$/["$==="](p)?c.$Integer($):/^\d+.\d+$/["$==="](p)?c.$Float($):$}())},en._s=ln,en),o).call(Q,"-t","--tag TAG[:VALUE]","Run examples with the specified tag, or exclude examples","by adding ~ before the tag.","  - e.g. ~slow","  - TAG is always converted to a symbol"),(o=(nn=t).$on,o._p=(tn=function(e){return tn._s||this,null==e&&(e=r),n["$[]="]("default_path",e)},tn._s=ln,tn),o).call(nn,"--default-path PATH","Set the default path where RSpec looks for examples (can","  be a path to a file or a directory)."),t.$separator("\n  **** Utility ****\n\n"),(o=(rn=t).$on,o._p=(on=function(){var n,t,r,o,a=on._s||this;return a.$puts(null==(n=(null==(t=(null==(r=(null==(o=c.RSpec)?e.cm("RSpec"):o)._scope).Core?r.cm("Core"):r.Core)._scope).Version?t.cm("Version"):t.Version)._scope).STRING?n.cm("STRING"):n.STRING),a.$exit()},on._s=ln,on),o).call(rn,"-v","--version","Display the version."),(o=(an=t).$on_tail,o._p=(sn=function(){var e=sn._s||this;return e.$puts(t),e.$exit()},sn._s=ln,sn),o).call(an,"-h","--help","You're looking at it.")},a._s=u,a),t).call(o)},r}(t,null)}(null==(n=t.RSpec)?e.cm("RSpec"):n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass,i=e.hash,s=e.hash2;return e.add_stubs(["$attr_reader","$map","$sub","$filter_manager=","$filter_manager","$libs=","$[]","$options","$setup_load_path_and_require","$process_options_into","$load_formatters_into","$inject","$merge","$include?","$+","$each","$has_key?","$include","$delete","$exclude","$<<","$file_options","$command_line_options","$env_options","$new","$configuration","$private","$to_set","$!","$unshift","$reverse","$reject","$force?","$force","$send","$order","$keys","$add_formatter","$custom_options_file","$custom_options","$global_options","$project_options","$local_options","$parse!","$split","$options_from","$local_options_file","$project_options_file","$global_options_file","$parse","$args_from_options_file","$exist?","$options_file_as_erb_string","$flat_map","$to_proc","$result","$read","$binding","$join","$expand_path","$===","$warning"]),function(n){var l=o(n,"RSpec");l._proto,l._scope,function(n){var l=o(n,"Core");l._proto,l._scope,function(n,$super){function o(){}var l=o=a(n,$super,"ConfigurationOptions",o),c=l._proto,u=l._scope;return c.filter_manager=c.command_line_options=c.args=c.local_options=c.project_options=c.global_options=t,l.$attr_reader("options"),c.$initialize=function(e){var n,r,o,a=this;return a.args=(n=(r=e).$map,n._p=(o=function(e){return o._s||this,null==e&&(e=t),e.$sub("default_path","default-path").$sub("line_number","line-number")},o._s=a,o),n).call(r)},c.$configure=function(e){var n,r=this;return e["$filter_manager="](r.$filter_manager()),e["$libs="]((n=r.$options()["$[]"]("libs"))!==!1&&n!==t?n:[]),e.$setup_load_path_and_require((n=r.$options()["$[]"]("requires"))!==!1&&n!==t?n:[]),r.$process_options_into(e),r.$load_formatters_into(e)},c.$parse_options=function(){var e,n,r,o,a,i,s=this;return s.options=(e=(n=(o=(a=s.$file_options()["$<<"](s.$command_line_options())["$<<"](s.$env_options())).$each,o._p=(i=function(e){var n,r=i._s||this;return null==e&&(e=t),(n=e["$has_key?"]("inclusion_filter"))===t||n._isBoolean&&1!=n||r.$filter_manager().$include(e.$delete("inclusion_filter")),(n=e["$has_key?"]("exclusion_filter"))===t||n._isBoolean&&1!=n?t:r.$filter_manager().$exclude(e.$delete("exclusion_filter"))},i._s=s,i),o).call(a)).$inject,e._p=(r=function(e,n){var o,a,i,s=r._s||this;return null==e&&(e=t),null==n&&(n=t),(o=(a=e).$merge,o._p=(i=function(e,n,r){var o;return i._s||this,null==e&&(e=t),null==n&&(n=t),null==r&&(r=t),(o=["libs","requires"]["$include?"](e))===t||o._isBoolean&&1!=o?r:n["$+"](r)},i._s=s,i),o).call(a,n)},r._s=s,r),e).call(n)},c.$drb_argv=function(){var n,t=this;return(null==(n=u.DrbOptions)?e.cm("DrbOptions"):n).$new(t.$options(),t.$filter_manager()).$options()},c.$filter_manager=function(){var n,r,o=this;return(n=o.filter_manager)!==!1&&n!==t?n:o.filter_manager=(null==(r=u.RSpec)?e.cm("RSpec"):r).$configuration().$filter_manager()},l.$private(),e.cdecl(u,"UNFORCED_OPTIONS",["requires","profile","drb","libs","files_or_directories_to_run","line_numbers","full_description","full_backtrace","tty"].$to_set()),e.cdecl(u,"UNPROCESSABLE_OPTIONS",["libs","formatters","requires"].$to_set()),c["$force?"]=function(n){var t;return(null==(t=u.UNFORCED_OPTIONS)?e.cm("UNFORCED_OPTIONS"):t)["$include?"](n)["$!"]()},c.$order=function(e,n){var o,a,i,s=this;return n=r.call(arguments,1),(o=(a=n.$reverse()).$each,o._p=(i=function(n){var r;return i._s||this,null==n&&(n=t),(r=e.$delete(n))===t||r._isBoolean&&1!=r?t:e.$unshift(n)},i._s=s,i),o).call(a),e},c.$process_options_into=function(n){var r,o,a,s,l,c=this,_=t;return _=(r=(o=c.$options()).$reject,r._p=(a=function(n,r){var o;return a._s||this,null==n&&(n=t),null==r&&(r=t),(null==(o=u.UNPROCESSABLE_OPTIONS)?e.cm("UNPROCESSABLE_OPTIONS"):o)["$include?"](n)},a._s=c,a),r).call(o),(r=(s=c.$order(_.$keys(),"default_path","pattern")).$each,r._p=(l=function(e){var r,o=l._s||this;return null==e&&(e=t),(r=o["$force?"](e))===t||r._isBoolean&&1!=r?n.$send(""+e+"=",_["$[]"](e)):n.$force(i(e,_["$[]"](e)))},l._s=c,l),r).call(s)},c.$load_formatters_into=function(e){var n,r,o,a=this;return(n=a.$options()["$[]"]("formatters"))===t||n._isBoolean&&1!=n?t:(n=(r=a.$options()["$[]"]("formatters")).$each,n._p=(o=function(n){var r;return o._s||this,null==n&&(n=t),(r=e).$add_formatter.apply(r,[].concat(n))},o._s=a,o),n).call(r)},c.$file_options=function(){var e,n=this;return(e=n.$custom_options_file())===t||e._isBoolean&&1!=e?[n.$global_options(),n.$project_options(),n.$local_options()]:[n.$custom_options()]},c.$env_options=function(){var n,r;return(n=(null==(r=u.ENV)?e.cm("ENV"):r)["$[]"]("SPEC_OPTS"))===t||n._isBoolean&&1!=n?s([],{}):(null==(n=u.Parser)?e.cm("Parser"):n)["$parse!"]((null==(n=u.Shellwords)?e.cm("Shellwords"):n).$split((null==(n=u.ENV)?e.cm("ENV"):n)["$[]"]("SPEC_OPTS")))},c.$command_line_options=function(){var n,r,o=this;return(n=o.command_line_options)!==!1&&n!==t?n:o.command_line_options=(null==(r=u.Parser)?e.cm("Parser"):r)["$parse!"](o.args).$merge(s(["files_or_directories_to_run"],{files_or_directories_to_run:o.args}))},c.$custom_options=function(){var e=this;return e.$options_from(e.$custom_options_file())},c.$local_options=function(){var e,n=this;return(e=n.local_options)!==!1&&e!==t?e:n.local_options=n.$options_from(n.$local_options_file())},c.$project_options=function(){var e,n=this;return(e=n.project_options)!==!1&&e!==t?e:n.project_options=n.$options_from(n.$project_options_file())},c.$global_options=function(){var e,n=this;return(e=n.global_options)!==!1&&e!==t?e:n.global_options=n.$options_from(n.$global_options_file())},c.$options_from=function(n){var t,r=this;return(null==(t=u.Parser)?e.cm("Parser"):t).$parse(r.$args_from_options_file(n))},c.$args_from_options_file=function(n){var r,o,a,i=this,s=t;return(r=(o=n!==!1&&n!==t)?(null==(a=u.File)?e.cm("File"):a)["$exist?"](n):o)===t||r._isBoolean&&1!=r?[]:(s=i.$options_file_as_erb_string(n),(r=(o=null==(a=u.FlatMap)?e.cm("FlatMap"):a).$flat_map,r._p="shellsplit".$to_proc(),r).call(o,s.$split(/\n+/)))},c.$options_file_as_erb_string=function(n){var r,o=this;return(null==(r=u.ERB)?e.cm("ERB"):r).$new((null==(r=u.File)?e.cm("File"):r).$read(n),t,"-").$result(o.$binding())},c.$custom_options_file=function(){var e=this;return e.$command_line_options()["$[]"]("custom_options_file")},c.$project_options_file=function(){return".rspec"},c.$local_options_file=function(){return".rspec-local"},c.$global_options_file=function(){var n;try{return(null==(n=u.File)?e.cm("File"):n).$join((null==(n=u.File)?e.cm("File"):n).$expand_path("~"),".rspec")}catch(r){if((null==(n=u.ArgumentError)?e.cm("ArgumentError"):n)["$==="](r))return(null==(n=u.RSpec)?e.cm("RSpec"):n).$warning("Unable to find ~/.rspec because the HOME environment variable is not set"),t;throw r}},t}(l,null)}(l)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass,a=e.gvars;return e.add_stubs(["$===","$new","$parse_options","$configuration","$world","$error_stream=","$==","$output_stream","$output_stream=","$configure","$load_spec_files","$announce_filters","$report","$run_hook","$all?","$map","$run","$ordered_example_groups","$failure_exit_code","$reporter","$example_count"]),function(n){var i=r(n,"RSpec");i._proto,i._scope,function(n){var i=r(n,"Core");i._proto,i._scope,function(n,$super){function r(){}var i=r=o(n,$super,"CommandLine",r),s=i._proto,l=i._scope;return s.configuration=s.options=s.world=t,s.$initialize=function(n,r,o){var a,i,s=this;return null==r&&(r=(null==(a=l.RSpec)?e.cm("RSpec"):a).$configuration()),null==o&&(o=(null==(a=l.RSpec)?e.cm("RSpec"):a).$world()),(a=(null==(i=l.Array)?e.cm("Array"):i)["$==="](n))===t||a._isBoolean&&1!=a||(n=(null==(a=l.ConfigurationOptions)?e.cm("ConfigurationOptions"):a).$new(n),n.$parse_options()),s.options=n,s.configuration=r,s.world=o},s.$run=function(e,n){var r,o,i,s=this;return s.configuration["$error_stream="](e),s.configuration.$output_stream()["$=="](a.stdout)&&s.configuration["$output_stream="](n),s.options.$configure(s.configuration),s.configuration.$load_spec_files(),s.world.$announce_filters(),(r=(o=s.configuration.$reporter()).$report,r._p=(i=function(e){var n,r,o,a,s=i._s||this;null==s.configuration&&(s.configuration=t),null==s.world&&(s.world=t),null==e&&(e=t);try{return s.configuration.$run_hook("before","suite"),(n=(r=(o=s.world.$ordered_example_groups()).$map,r._p=(a=function(n){return a._s||this,null==n&&(n=t),n.$run(e)},a._s=s,a),r).call(o)["$all?"]())===t||n._isBoolean&&1!=n?s.configuration.$failure_exit_code():0}finally{s.configuration.$run_hook("after","suite")}},i._s=s,i),r).call(o,s.world.$example_count())},t}(i,null)}(i)}(n)}(Opal),function(e){var n,t=(e.top,e),r=e.nil,o=(e.breaker,e.slice,e.module),a=e.klass;return e.add_stubs(["$[]","$<<","$add_failure_exit_code","$add_full_description","$add_line_numbers","$add_filter","$inclusions","$exclusions","$add_formatters","$add_libs","$add_requires","$+","$to_s","$each","$delete","$source","$push","$inject","$empty?","$each_pair","$include?","$==","$is_a?"]),function(n){var t=o(n,"Core");t._proto,t._scope,function(n,$super){function t(){}var o=t=a(n,$super,"DrbOptions",t),i=o._proto,s=o._scope;return i.submitted_options=i.filter_manager=r,i.$initialize=function(e,n){var t=this;return t.submitted_options=e,t.filter_manager=n},i.$options=function(){var e,n=this,t=r;return t=[],(e=n.submitted_options["$[]"]("color"))===r||e._isBoolean&&1!=e||t["$<<"]("--color"),(e=n.submitted_options["$[]"]("profile_examples"))===r||e._isBoolean&&1!=e||t["$<<"]("--profile"),(e=n.submitted_options["$[]"]("full_backtrace"))===r||e._isBoolean&&1!=e||t["$<<"]("--backtrace"),(e=n.submitted_options["$[]"]("tty"))===r||e._isBoolean&&1!=e||t["$<<"]("--tty"),(e=n.submitted_options["$[]"]("fail_fast"))===r||e._isBoolean&&1!=e||t["$<<"]("--fail-fast"),(e=n.submitted_options["$[]"]("custom_options_file"))===r||e._isBoolean&&1!=e||t["$<<"]("--options")["$<<"](n.submitted_options["$[]"]("custom_options_file")),(e=n.submitted_options["$[]"]("order"))===r||e._isBoolean&&1!=e||t["$<<"]("--order")["$<<"](n.submitted_options["$[]"]("order")),n.$add_failure_exit_code(t),n.$add_full_description(t),n.$add_line_numbers(t),n.$add_filter(t,"inclusion",n.filter_manager.$inclusions()),n.$add_filter(t,"exclusion",n.filter_manager.$exclusions()),n.$add_formatters(t),n.$add_libs(t),n.$add_requires(t),t["$+"](n.submitted_options["$[]"]("files_or_directories_to_run"))},i.$add_failure_exit_code=function(e){var n,t=this;return(n=t.submitted_options["$[]"]("failure_exit_code"))===r||n._isBoolean&&1!=n?r:e["$<<"]("--failure-exit-code")["$<<"](t.submitted_options["$[]"]("failure_exit_code").$to_s())},i.$add_full_description=function(e){var n,t,o,a=this;return(n=a.submitted_options["$[]"]("full_description"))===r||n._isBoolean&&1!=n?r:(n=(t=a.submitted_options["$[]"]("full_description")).$each,n._p=(o=function(n){return o._s||this,null==n&&(n=r),e["$<<"]("--example")["$<<"](n.$source().$delete("\\"))},o._s=a,o),n).call(t)},i.$add_line_numbers=function(e){var n,t,o,a,i=this;return(n=i.submitted_options["$[]"]("line_numbers"))===r||n._isBoolean&&1!=n?r:(n=e).$push.apply(n,[].concat((t=(o=i.submitted_options["$[]"]("line_numbers")).$inject,t._p=(a=function(e,n){return a._s||this,null==e&&(e=r),null==n&&(n=r),e["$<<"]("--line_number")["$<<"](n)},a._s=i,a),t).call(o,[])))},e.cdecl(s,"CONDITIONAL_FILTERS",["if","unless"]),i.$add_filter=function(n,t,o){var a,i,l,c=this;return(a=o["$empty?"]())===r||a._isBoolean&&1!=a?(a=(i=o).$each_pair,a._p=(l=function(o,a){var i,c,u=(l._s||this,r);return null==o&&(o=r),null==a&&(a=r),(i=(null==(c=s.CONDITIONAL_FILTERS)?e.cm("CONDITIONAL_FILTERS"):c)["$include?"](o))===r||i._isBoolean&&1!=i?(u=function(){return t["$=="]("inclusion")?o.$to_s():"~"+o}(),(i=a["$is_a?"](null==(c=s.String)?e.cm("String"):c))===r||i._isBoolean&&1!=i||u["$<<"](":"+a),n["$<<"]("--tag")["$<<"](u)):r},l._s=c,l),a).call(i):r},i.$add_formatters=function(e){var n,t,o,a=this;return(n=a.submitted_options["$[]"]("formatters"))===r||n._isBoolean&&1!=n?r:(n=(t=a.submitted_options["$[]"]("formatters")).$each,n._p=(o=function(n){var t;return o._s||this,null==n&&(n=r),e["$<<"]("--format")["$<<"](n["$[]"](0)),(t=n["$[]"](1))===r||t._isBoolean&&1!=t?r:e["$<<"]("--out")["$<<"](n["$[]"](1))},o._s=a,o),n).call(t)},i.$add_libs=function(e){var n,t,o,a=this;return(n=a.submitted_options["$[]"]("libs"))===r||n._isBoolean&&1!=n?r:(n=(t=a.submitted_options["$[]"]("libs")).$each,n._p=(o=function(n){return o._s||this,null==n&&(n=r),e["$<<"]("-I")["$<<"](n)},o._s=a,o),n).call(t)},i.$add_requires=function(e){var n,t,o,a=this;return(n=a.submitted_options["$[]"]("requires"))===r||n._isBoolean&&1!=n?r:(n=(t=a.submitted_options["$[]"]("requires")).$each,n._p=(o=function(n){return o._s||this,null==n&&(n=r),e["$<<"]("--require")["$<<"](n)},o._s=a,o),n).call(t)},r}(t,null)}(null==(n=t.RSpec)?e.cm("RSpec"):n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$[]","$options","$start_service","$===","$new_with_uri","$drb_port","$run","$drb_argv"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Core");a._proto,a._scope,function(n,$super){function r(){}var a=r=o(n,$super,"DRbCommandLine",r),i=a._proto,s=a._scope;return i.options=t,i.$initialize=function(e){var n=this;return n.options=e},i.$drb_port=function(){var n,r,o,a=this;return(n=(r=a.options.$options()["$[]"]("drb_port"))!==!1&&r!==t?r:(null==(o=s.ENV)?e.cm("ENV"):o)["$[]"]("RSPEC_DRB"))!==!1&&n!==t?n:8989},i.$run=function(n,r){var o,a=this,i=t;try{(null==(o=s.DRb)?e.cm("DRb"):o).$start_service("druby://localhost:0")}catch(l){if(!(null==(o=s.SocketError)?e.cm("SocketError"):o)["$==="](l))throw l;(null==(o=s.DRb)?e.cm("DRb"):o).$start_service("druby://:0")}return i=(null==(o=s.DRbObject)?e.cm("DRbObject"):o).$new_with_uri("druby://127.0.0.1:"+a.$drb_port()),i.$run(a.options.$drb_argv(),n,r)},t}(a,null)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass,a=e.gvars;return e.add_stubs(["$autorun_disabled?","$installed_at_exit?","$running_in_drb?","$at_exit","$nil?","$kind_of?","$to_i","$run","$!","$==","$exit","$-","$current_server","$getaddress","$gethostname","$any?","$host","$URI","$uri","$trap","$wants_to_quit","$exit!","$wants_to_quit=","$puts","$trap_interrupt","$new","$parse_options","$[]","$options","$reset"]),function(n){var i=r(n,"RSpec");i._proto,i._scope,function(n){var i=r(n,"Core");i._proto,i._scope,function(n,$super){function r(){}var i=r=o(n,$super,"Runner",r),s=(i._proto,i._scope);return e.defs(i,"$autorun",function(){var n,r,o,i,l=this;return(n=(r=(o=l["$autorun_disabled?"]())!==!1&&o!==t?o:l["$installed_at_exit?"]())!==!1&&r!==t?r:l["$running_in_drb?"]())===t||n._isBoolean&&1!=n?((n=(r=l).$at_exit,n._p=(i=function(){var n,r,o,l=i._s||this,c=t;return(n=(r=a["!"]["$nil?"]())!==!1&&r!==t?r:a["!"]["$kind_of?"](null==(o=s.SystemExit)?e.cm("SystemExit"):o))===t||n._isBoolean&&1!=n?t:(c=l.$run(null==(n=s.ARGV)?e.cm("ARGV"):n,a.stderr,a.stdout).$to_i(),(n=c["$=="](0)["$!"]())===t||n._isBoolean&&1!=n?t:l.$exit(c))},i._s=l,i),n).call(r),l.installed_at_exit=!0):t}),e.cdecl(s,"AT_EXIT_HOOK_BACKTRACE_LINE","rspec/core/runner:"+22["$-"](2)+":in `autorun'"),e.defs(i,"$disable_autorun!",function(){var e=this;return e.autorun_disabled=!0}),e.defs(i,"$autorun_disabled?",function(){var e,n=this;return null==n.autorun_disabled&&(n.autorun_disabled=t),(e=n.autorun_disabled)!==!1&&e!==t?e:n.autorun_disabled=!1}),e.defs(i,"$installed_at_exit?",function(){var e,n=this;return null==n.installed_at_exit&&(n.installed_at_exit=t),(e=n.installed_at_exit)!==!1&&e!==t?e:n.installed_at_exit=!1}),e.defs(i,"$running_in_drb?",function(){var n,r,o,a,i=this,l=t,c=t;try{try{return r=null!=s.DRb,(n=r!==!1&&r!==t?(null==(o=s.DRb)?e.cm("DRb"):o).$current_server():r)===t||n._isBoolean&&1!=n?t:(l=(null==(n=s.IPSocket)?e.cm("IPSocket"):n).$getaddress((null==(n=s.Socket)?e.cm("Socket"):n).$gethostname()),c=(n=(r=["127.0.0.1","localhost",l])["$any?"],n._p=(a=function(n){var r,o=a._s||this;return null==n&&(n=t),n["$=="](o.$URI((null==(r=s.DRb)?e.cm("DRb"):r).$current_server().$uri()).$host())},a._s=i,a),n).call(r))}catch(u){return t}}finally{return(n=c)!==!1&&n!==t?n:!1}}),e.defs(i,"$trap_interrupt",function(){var n,r,o,a=this;
return(n=(r=a).$trap,n._p=(o=function(){var n,r,a=o._s||this;return(n=(null==(r=s.RSpec)?e.cm("RSpec"):r).$wants_to_quit())===t||n._isBoolean&&1!=n||a["$exit!"](1),(null==(n=s.RSpec)?e.cm("RSpec"):n)["$wants_to_quit="](!0),(null==(n=s.STDERR)?e.cm("STDERR"):n).$puts("\nExiting... Interrupt again to exit immediately.")},o._s=a,o),n).call(r,"INT")}),e.defs(i,"$run",function(n,r,o){var i,l=this,c=t;null==r&&(r=a.stderr),null==o&&(o=a.stdout);try{if(l.$trap_interrupt(),c=(null==(i=s.ConfigurationOptions)?e.cm("ConfigurationOptions"):i).$new(n),c.$parse_options(),(i=c.$options()["$[]"]("drb"))===t||i._isBoolean&&1!=i)return(null==(i=s.CommandLine)?e.cm("CommandLine"):i).$new(c).$run(r,o);try{return(null==(i=s.DRbCommandLine)?e.cm("DRbCommandLine"):i).$new(c).$run(r,o)}catch(u){return r.$puts("No DRb server is running. Running in local process instead ..."),(null==(i=s.CommandLine)?e.cm("CommandLine"):i).$new(c).$run(r,o)}}finally{(null==(i=s.RSpec)?e.cm("RSpec"):i).$reset()}}),t}(i,null)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=e.slice,a=e.module,i=e.klass,s=e.hash2;return e.add_stubs(["$each","$define_method","$[]","$delegate_to_metadata","$empty?","$to_s","$metadata","$location","$call","$format_docstrings_block","$configuration","$attr_reader","$for_example","$alias_method","$current_example=","$start","$pending","$dry_run?","$with_around_each_hooks","$run_before_each","$instance_exec","$to_proc","$===","$message","$set_exception","$run_after_each","$instance_variable_set","$instance_variables","$assign_generated_description","$finish","$__send__","$public_instance_methods","$new","$class","$any_apply?","$all_apply?","$around_each_hooks_for","$example_group","$!","$==","$first","$backtrace","$reporter","$instance_exec_with_rescue","$private","$around_each_hooks","$run_around_each_hooks","$example_started","$record","$now","$record_finished","$example_failed","$example_pending","$example_passed","$merge","$to_f","$-","$execution_result","$setup_mocks_for_rspec","$run_before_each_hooks","$run_after_each_hooks","$verify_mocks","$teardown_mocks_for_rspec","$verify_mocks_for_rspec","$expecting_with_rspec?","$pending?","$<<","$generated_description","$clear_generated_description","$update"]),function(n){var l=a(n,"RSpec");l._proto,l._scope,function(n){var l=a(n,"Core");l._proto,l._scope,function(n,$super){function a(){}var l,c,u,_=a=i(n,$super,"Example",a),$=_._proto,p=_._scope;return $.example_group_class=$.options=$.example_group_instance=$.metadata=$.around_each_hooks=$.exception=$.pending_declared_in_example=t,e.defs(_,"$delegate_to_metadata",function(e){var n,r,a,i=this;return e=o.call(arguments,0),(n=(r=e).$each,n._p=(a=function(e){var n,r,o,i=a._s||this;return null==e&&(e=t),(n=(r=i).$define_method,n._p=(o=function(){var n=o._s||this;return null==n.metadata&&(n.metadata=t),n.metadata["$[]"](e)},o._s=i,o),n).call(r,e)},a._s=i,a),n).call(r)}),_.$delegate_to_metadata("full_description","execution_result","file_path","pending","location"),$.$description=function(){var n,r=this,o=t;return o=function(){return(n=r.$metadata()["$[]"]("description").$to_s()["$empty?"]())===t||n._isBoolean&&1!=n?r.$metadata()["$[]"]("description"):"example at "+r.$location()}(),(null==(n=p.RSpec)?e.cm("RSpec"):n).$configuration().$format_docstrings_block().$call(o)},_.$attr_reader("exception"),_.$attr_reader("metadata"),_.$attr_reader("example_group_instance"),$.$initialize=function(e,n,r,o){var a,i=this;return null==o&&(o=t),a=[e,r,o],i.example_group_class=a[0],i.options=a[1],i.example_block=a[2],i.metadata=i.example_group_class.$metadata().$for_example(n,r),i.example_group_instance=i.exception=t,i.pending_declared_in_example=!1},$.$options=function(){var e=this;return e.options},$.$example_group=function(){var e=this;return e.example_group_class},_.$alias_method("pending?","pending"),$.$run=function(n,r){var o,a,i,s,l,c=this,u=t;try{c.example_group_instance=n,(null==(o=p.RSpec)?e.cm("RSpec"):o)["$current_example="](c),c.$start(r);try{try{((o=(a=c.$pending())!==!1&&a!==t?a:(null==(i=p.RSpec)?e.cm("RSpec"):i).$configuration()["$dry_run?"]())===t||o._isBoolean&&1!=o)&&(o=(a=c).$with_around_each_hooks,o._p=(s=function(){var n,r,o,a=s._s||this,i=t;null==a.example_block&&(a.example_block=t),null==a.example_group_instance&&(a.example_group_instance=t);try{try{return a.$run_before_each(),(n=(r=a.example_group_instance).$instance_exec,n._p=a.example_block.$to_proc(),n).call(r,a)}catch(l){if((null==(n=(null==(o=p.Pending)?e.cm("Pending"):o)._scope).PendingDeclaredInExample?n.cm("PendingDeclaredInExample"):n.PendingDeclaredInExample)["$==="](l))return i=l,a.pending_declared_in_example=i.$message();if(!(null==(n=p.Exception)?e.cm("Exception"):n)["$==="](l))throw l;i=l,a.$set_exception(i)}}finally{a.$run_after_each()}},s._s=c,s),o).call(a)}catch(_){if(!(null==(o=p.Exception)?e.cm("Exception"):o)["$==="](_))throw _;u=_,c.$set_exception(u)}}finally{(o=(i=c.example_group_instance.$instance_variables()).$each,o._p=(l=function(e){var n=l._s||this;return null==n.example_group_instance&&(n.example_group_instance=t),null==e&&(e=t),n.example_group_instance.$instance_variable_set(e,t)},l._s=c,l),o).call(i),c.example_group_instance=t;try{c.$assign_generated_description()}catch(_){if(!(null==(o=p.Exception)?e.cm("Exception"):o)["$==="](_))throw _;u=_,c.$set_exception(u,"while assigning the example description")}}return c.$finish(r)}finally{(null==(o=p.RSpec)?e.cm("RSpec"):o)["$current_example="](t)}},function(n,$super){function r(){}var a,s,l,c,u,_,$=r=i(n,$super,"Procsy",r),p=$._proto,d=$._scope;return $.$attr_reader("metadata"),(a=(s=(null==(c=d.Proc)?e.cm("Proc"):c).$public_instance_methods(!1)).$each,a._p=(l=function(e){var n,r,a,i=l._s||this;return null==e&&(e=t),(n=(r=i).$define_method,n._p=(a=function(n){var r,i,s,l=a._s||this;return null==l.proc&&(l.proc=t),n=o.call(arguments,0),r=a._p||t,a._p=null,(i=(s=l.proc).$__send__,i._p=r.$to_proc(),i).apply(s,[e].concat(n))},a._s=i,a),n).call(r,e)},l._s=$,l),a).call(s),e.defn($,"$run",p.$call),p.$initialize=u=function(e){var n=this,r=u._p,o=r||t;return u._p=null,n.metadata=e,n.proc=o},p.$wrap=_=function(){var e,n,r=this,o=_._p,a=o||t;return _._p=null,(e=(n=r.$class()).$new,e._p=a.$to_proc(),e).call(n,r.$metadata())},t}(_,null),$["$any_apply?"]=function(e){var n=this;return n.$metadata()["$any_apply?"](e)},$["$all_apply?"]=function(e){var n,r=this;return(n=r.metadata["$all_apply?"](e))!==!1&&n!==t?n:r.example_group_class["$all_apply?"](e)},$.$around_each_hooks=function(){var e,n=this;return(e=n.around_each_hooks)!==!1&&e!==t?e:n.around_each_hooks=n.$example_group().$around_each_hooks_for(n)},$.$set_exception=function(n,r){var o,a,i=this,s=t;return null==r&&(r=t),a=i.exception,(o=a!==!1&&a!==t?r["$=="]("dont_print")["$!"]():a)===t||o._isBoolean&&1!=o||(s="\nAn error occurred "+r+"\n  "+n.$class()+": "+n.$message()+"\n  occurred at "+n.$backtrace().$first()+"\n\n",(null==(o=p.RSpec)?e.cm("RSpec"):o).$configuration().$reporter().$message(s)),(o=i.exception)!==!1&&o!==t?o:i.exception=n},$.$fail_with_exception=function(e,n){var t=this;return t.$start(e),t.$set_exception(n),t.$finish(e)},$.$instance_exec_with_rescue=l=function(e){var n,r,o=this,a=l._p,i=a||t;return null==e&&(e=t),l._p=null,(n=(r=o.example_group_instance).$instance_exec_with_rescue,n._p=i.$to_proc(),n).call(r,o,e)},$.$instance_exec=c=function(e){var n,r,a=this,i=c._p,s=i||t;return e=o.call(arguments,0),c._p=null,(n=(r=a.example_group_instance).$instance_exec,n._p=s.$to_proc(),n).apply(r,[].concat(e))},_.$private(),$.$with_around_each_hooks=u=function(){var n,o,a,i=this,s=u._p,l=s||t,c=t;u._p=null;try{return(n=i.$around_each_hooks()["$empty?"]())===t||n._isBoolean&&1!=n?i.example_group_class.$run_around_each_hooks(i,(n=(o=null==(a=p.Procsy)?e.cm("Procsy"):a).$new,n._p=l.$to_proc(),n).call(o,i.$metadata())):(n=e.$yieldX(l,[]),n===r?n:n)}catch(_){if((null==(n=p.Exception)?e.cm("Exception"):n)["$==="](_))return c=_,i.$set_exception(c,"in an around(:each) hook");throw _}},$.$start=function(n){var t,r,o,a=this;return n.$example_started(a),a.$record(s(["started_at"],{started_at:(null==(t=(null==(r=(null==(o=p.RSpec)?e.cm("RSpec"):o)._scope).Core?r.cm("Core"):r.Core)._scope).Time?t.cm("Time"):t.Time).$now()}))},$.$finish=function(n){var r,o,a=this;return(r=a.exception)===t||r._isBoolean&&1!=r?(r=a.pending_declared_in_example)===t||r._isBoolean&&1!=r?(r=a.$pending())===t||r._isBoolean&&1!=r?(a.$record_finished("passed"),n.$example_passed(a),!0):(a.$record_finished("pending",s(["pending_message"],{pending_message:function(){return(r=(null==(o=p.String)?e.cm("String"):o)["$==="](a.$pending()))===t||r._isBoolean&&1!=r?null==(r=(null==(o=p.Pending)?e.cm("Pending"):o)._scope).NO_REASON_GIVEN?r.cm("NO_REASON_GIVEN"):r.NO_REASON_GIVEN:a.$pending()}()})),n.$example_pending(a),!0):(a.$record_finished("pending",s(["pending_message"],{pending_message:a.pending_declared_in_example})),n.$example_pending(a),!0):(a.$record_finished("failed",s(["exception"],{exception:a.exception})),n.$example_failed(a),!1)},$.$record_finished=function(n,r){var o,a,i,l=this,c=t;return null==r&&(r=s([],{})),c=(null==(o=(null==(a=(null==(i=p.RSpec)?e.cm("RSpec"):i)._scope).Core?a.cm("Core"):a.Core)._scope).Time?o.cm("Time"):o.Time).$now(),l.$record(r.$merge(s(["status","finished_at","run_time"],{status:n,finished_at:c,run_time:c["$-"](l.$execution_result()["$[]"]("started_at")).$to_f()})))},$.$run_before_each=function(){var e=this;return e.example_group_instance.$setup_mocks_for_rspec(),e.example_group_class.$run_before_each_hooks(e)},$.$run_after_each=function(){var n,r=this,o=t;try{try{return r.example_group_class.$run_after_each_hooks(r),r.$verify_mocks()}catch(a){if((null==(n=p.Exception)?e.cm("Exception"):n)["$==="](a))return o=a,r.$set_exception(o,"in an after(:each) hook");throw a}}finally{r.example_group_instance.$teardown_mocks_for_rspec()}},$.$verify_mocks=function(){var n,r=this,o=t;try{return r.example_group_instance.$verify_mocks_for_rspec()}catch(a){if((null==(n=p.Exception)?e.cm("Exception"):n)["$==="](a))return o=a,r.$set_exception(o,"dont_print");throw a}},$.$assign_generated_description=function(){var n,r,o=this;return(n=(null==(r=p.RSpec)?e.cm("RSpec"):r).$configuration()["$expecting_with_rspec?"]())===t||n._isBoolean&&1!=n?t:(r=o.$metadata()["$[]"]("description_args")["$empty?"](),(n=r!==!1&&r!==t?o["$pending?"]()["$!"]():r)===t||n._isBoolean&&1!=n||o.$metadata()["$[]"]("description_args")["$<<"]((null==(n=(null==(r=p.RSpec)?e.cm("RSpec"):r)._scope).Matchers?n.cm("Matchers"):n.Matchers).$generated_description()),(null==(n=(null==(r=p.RSpec)?e.cm("RSpec"):r)._scope).Matchers?n.cm("Matchers"):n.Matchers).$clear_generated_description())},$.$record=function(e){var n=this;return null==e&&(e=s([],{})),n.$execution_result().$update(e)},t}(l,null)}(l)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$fetch_examples","$private","$[]","$source_for","$find","$has_key?","$reverse"]),function(e){var n=r(e,"RSpec");n._proto,n._scope,function(e){var n=r(e,"Core");n._proto,n._scope,function(e){var n=r(e,"SharedExampleGroup");n._proto,n._scope,function(e,$super){function n(){}var r=n=o(e,$super,"Collection",n),a=r._proto;return r._scope,a.examples=a.sources=t,a.$initialize=function(e,n){var t,r=this;return t=[e,n],r.sources=t[0],r.examples=t[1]},a["$[]"]=function(e){var n=this;return n.$fetch_examples(e)},r.$private(),a.$fetch_examples=function(e){var n=this;return n.examples["$[]"](n.$source_for(e))["$[]"](e)},a.$source_for=function(e){var n,r,o,a=this;return(n=(r=a.sources.$reverse()).$find,n._p=(o=function(n){var r=o._s||this;return null==r.examples&&(r.examples=t),null==n&&(n=t),r.examples["$[]"](n)["$has_key?"](e)},o._s=a,o),n).call(r)},t}(n,null)}(n)}(n)}(n)}(Opal),function(e){var n,t,r,o,a=e.top,i=e,s=e.nil,l=(e.breaker,e.slice),c=e.module,u=e.range,_=e.klass,$=e.hash2;return e.add_stubs(["$add_group","$to_proc","$registry","$alias_method","$shared_example_groups_for","$[]","$ancestors","$new","$ensure_block_has_source_location","$first_non_rspec_line","$key?","$first","$shift","$warn_if_key_taken","$add_shared_example_group","$empty?","$send","$class_eval","$extend","$configuration","$shared_example_groups","$[]=","$clear","$private","$any?","$===","$example_block_for","$warn_with","$gsub","$formatted_location","$join","$source_location","$method_defined?","$define_method","$split"]),function(n){var t=c(n,"RSpec");t._proto,t._scope,function(n){var t=c(n,"Core");t._proto,t._scope,function(n){var t,r=c(n,"SharedExampleGroup"),o=r._proto,a=r._scope;o.$shared_examples=t=function(n){var r,o,i,c=this,u=t._p,_=u||s;return n=l.call(arguments,0),t._p=null,(r=(o=(null==(i=a.SharedExampleGroup)?e.cm("SharedExampleGroup"):i).$registry()).$add_group,r._p=_.$to_proc(),r).apply(o,[c].concat(n))},r.$alias_method("shared_context","shared_examples"),r.$alias_method("share_examples_for","shared_examples"),r.$alias_method("shared_examples_for","shared_examples"),o.$shared_example_groups=function(){var n,t,r=this;return(n=(null==(t=a.SharedExampleGroup)?e.cm("SharedExampleGroup"):t).$registry()).$shared_example_groups_for.apply(n,["main"].concat(r.$ancestors()["$[]"](u(0,-1,!1))))},function(n){var t,r=c(n,"TopLevelDSL"),o=r._proto,a=r._scope;o.$shared_examples=t=function(n){var r,o,i,c=t._p,u=c||s;return n=l.call(arguments,0),t._p=null,(r=(o=(null==(i=a.SharedExampleGroup)?e.cm("SharedExampleGroup"):i).$registry()).$add_group,r._p=u.$to_proc(),r).apply(o,["main"].concat(n))},r.$alias_method("shared_context","shared_examples"),r.$alias_method("share_examples_for","shared_examples"),r.$alias_method("shared_examples_for","shared_examples"),o.$shared_example_groups=function(){var n;return(null==(n=a.SharedExampleGroup)?e.cm("SharedExampleGroup"):n).$registry().$shared_example_groups_for("main")},e.donate(r,["$shared_examples","$shared_example_groups"])}(r),e.defs(r,"$registry",function(){var n,t,r=this;return null==r.registry&&(r.registry=s),(n=r.registry)!==!1&&n!==s?n:r.registry=(null==(t=a.Registry)?e.cm("Registry"):t).$new()}),function(n,$super){function t(){}var r,o,a,i=t=_(n,$super,"Registry",t),c=i._proto,u=i._scope;return c.shared_example_groups=s,c.$add_group=r=function(n,t){var o,a,i,c,_=this,$=r._p,p=$||s,d=s,f=s;return t=l.call(arguments,1),r._p=null,_.$ensure_block_has_source_location(p,(null==(o=u.CallerFilter)?e.cm("CallerFilter"):o).$first_non_rspec_line()),(o=_["$key?"](t.$first()))===s||o._isBoolean&&1!=o||(d=t.$shift(),_.$warn_if_key_taken(n,d,p),_.$add_shared_example_group(n,d,p)),(o=t["$empty?"]())===s||o._isBoolean&&1!=o?(f=(null==(o=u.Module)?e.cm("Module"):o).$new(),(o=(a=function(e){return e._scope,e._proto,e}(f.$singleton_class())).$send,o._p=(i=function(e){var n,t;return i._s||this,null==e&&(e=s),(n=(t=e).$class_eval,n._p=p.$to_proc(),n).call(t)},i._s=_,i),o).call(a,"define_method","extended"),(o=(null==(c=u.RSpec)?e.cm("RSpec"):c).$configuration()).$extend.apply(o,[f].concat(t))):s},c.$shared_example_groups_for=function(n){var t,r=this;return n=l.call(arguments,0),(null==(t=u.Collection)?e.cm("Collection"):t).$new(n,r.$shared_example_groups())},c.$shared_example_groups=function(){var n,t,r,o,a,i=this;return(n=i.shared_example_groups)!==!1&&n!==s?n:i.shared_example_groups=(t=(r=null==(a=u.Hash)?e.cm("Hash"):a).$new,t._p=(o=function(n,t){var r;return o._s||this,null==n&&(n=s),null==t&&(t=s),n["$[]="](t,(null==(r=u.Hash)?e.cm("Hash"):r).$new())},o._s=i,o),t).call(r)},c.$clear=function(){var e=this;return e.$shared_example_groups().$clear()},i.$private(),c.$add_shared_example_group=function(e,n,t){var r=this;return r.$shared_example_groups()["$[]"](e)["$[]="](n,t)},c["$key?"]=function(n){var t,r,o,a,i=this;return(t=(r=[null==(a=u.String)?e.cm("String"):a,null==(a=u.Symbol)?e.cm("Symbol"):a,null==(a=u.Module)?e.cm("Module"):a])["$any?"],t._p=(o=function(e){return o._s||this,null==e&&(e=s),e["$==="](n)},o._s=i,o),t).call(r)},c.$warn_if_key_taken=function(n,t,r){var o,a=this,i=s;return(o=i=a.$example_block_for(n,t))===s||o._isBoolean&&1!=o?s:(null==(o=u.RSpec)?e.cm("RSpec"):o).$warn_with(("            |WARNING: Shared example group '"+t+"' has been previously defined at:\n            |  "+a.$formatted_location(i)+"\n            |...and you are now defining it at:\n            |  "+a.$formatted_location(r)+"\n            |The new definition will overwrite the original one.\n").$gsub(/^ +\|/,""),$(["call_site"],{call_site:s}))},c.$formatted_location=function(e){return e.$source_location().$join(":")},c.$example_block_for=function(e,n){var t=this;return t.$shared_example_groups()["$[]"](e)["$[]"](n)},(o=(null==(a=u.Proc)?e.cm("Proc"):a)["$method_defined?"]("source_location"))===s||o._isBoolean&&1!=o?(c.$ensure_block_has_source_location=function(n,t){var r,o,a,i,s=this;return n.$extend((r=(o=null==(i=u.Module)?e.cm("Module"):i).$new,r._p=(a=function(){var e,n,r,o=a._s||this;return(e=(n=o).$define_method,e._p=(r=function(){return r._s||this,t.$split(":")},r._s=o,r),e).call(n,"source_location")},a._s=s,a),r).call(o))},s):(c.$ensure_block_has_source_location=function(){return s},s)}(r,null),e.donate(r,["$shared_examples","$shared_example_groups"])}(t)}(t)}(a),a.$extend(null==(n=(null==(t=(null==(r=(null==(o=i.RSpec)?e.cm("RSpec"):o)._scope).Core?r.cm("Core"):r.Core)._scope).SharedExampleGroup?t.cm("SharedExampleGroup"):t.SharedExampleGroup)._scope).TopLevelDSL?n.cm("TopLevelDSL"):n.TopLevelDSL),(null==(n=i.Module)?e.cm("Module"):n).$send("include",null==(n=(null==(t=(null==(r=(null==(o=i.RSpec)?e.cm("RSpec"):o)._scope).Core?r.cm("Core"):r.Core)._scope).SharedExampleGroup?t.cm("SharedExampleGroup"):t.SharedExampleGroup)._scope).TopLevelDSL?n.cm("TopLevelDSL"):n.TopLevelDSL)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass,i=e.hash2;return e.add_stubs(["$extend","$include","$world","$register","$each","$define_method","$[]","$metadata","$call","$format_docstrings_block","$configuration","$delegate_to_metadata","$alias_method","$build_hash_from","$update","$<<","$examples","$new","$last","$define_example_method","$describe","$find_and_eval_shared","$to_proc","$[]=","$define_nested_shared_group_method","$shared_example_groups","$raise","$inspect","$module_exec","$module_eval","$filtered_examples","$+","$inject","$descendant_filtered_examples","$children","$respond_to?","$superclass","$is_a?","$subclass","$set_it_up","$assign_const","$define_helpers_on","$descendants","$select","$<","$ancestors","$==","$configure_mock_framework","$configure_expectation_framework","$ensure_example_groups_are_configured","$first","$shift","$unshift","$process","$superclass_metadata","$register_globals","$hooks","$configure_group","$empty?","$instance_variables","$before_all_ivars","$instance_variable_get","$instance_variable_set","$assign_before_all_ivars","$isolate_for_all_hook","$run_hook","$store_before_all_ivars","$wants_to_quit","$top_level?","$clear_remaining_example_groups","$example_group_started","$run_before_all_hooks","$run_examples","$all?","$map","$run","$order","$ordering_strategy","$===","$fail_fast?","$wants_to_quit=","$fail_filtered_examples","$run_after_all_hooks","$clear","$example_group_finished","$fetch","$ordering_registry","$warn","$gsub","$set_ivars","$!","$fail_with_exception","$any_apply?","$all_apply?","$collect","$declaration_line_numbers","$description","$parent_groups","$described_class","$class","$instance_exec","$current_example","$set_exception","$base_name_for","$constant_scope_for","$disambiguate","$const_set","$gsub!","$upcase","$lstrip!","$const_defined?","$next!"]),function(n){var s=o(n,"RSpec");s._proto,s._scope,function(n){var s=o(n,"Core");s._proto,s._scope,function(n,$super){function o(){}var s,l,c,u,_,$,p,d=o=a(n,$super,"ExampleGroup",o),f=d._proto,m=d._scope;return d.$extend(null==(s=m.Hooks)?e.cm("Hooks"):s),d.$include(null==(s=m.MemoizedHelpers)?e.cm("MemoizedHelpers"):s),d.$include(null==(s=m.Pending)?e.cm("Pending"):s),d.$extend(null==(s=m.SharedExampleGroup)?e.cm("SharedExampleGroup"):s),e.defs(d,"$world",function(){var n;return(null==(n=m.RSpec)?e.cm("RSpec"):n).$world()}),e.defs(d,"$register",function(){var e=this;return e.$world().$register(e)}),function(n){var o=n._scope;return n._proto,e.defs(n,"$delegate_to_metadata",function(e){var n,o,a,i=this;return e=r.call(arguments,0),(n=(o=e).$each,n._p=(a=function(e){var n,r,o,i=a._s||this;return null==e&&(e=t),(n=(r=i).$define_method,n._p=(o=function(){var n=o._s||this;return n.$metadata()["$[]"]("example_group")["$[]"](e)},o._s=i,o),n).call(r,e)},a._s=i,a),n).call(o)}),n._proto.$description=function(){var n,r=this,a=t;return a=r.$metadata()["$[]"]("example_group")["$[]"]("description"),(null==(n=o.RSpec)?e.cm("RSpec"):n).$configuration().$format_docstrings_block().$call(a)},n.$delegate_to_metadata("described_class","file_path"),n.$alias_method("display_name","description"),n.$alias_method("describes","described_class"),e.defs(n,"$define_example_method",function(n,a){var s,l,c,u=this;return null==a&&(a=i([],{})),(s=(l=u).$define_method,s._p=(c=function(n){var s,l,u,_,$,p=c._s||this,d=t,f=t,m=t;return n=r.call(arguments,0),s=c._p||t,c._p=null,(l=n).$to_a?l=l.$to_a():l._isArray?l:l=[l],d=null==l[0]?t:l[0],f=r.call(l,1),m=(null==(l=o.Metadata)?e.cm("Metadata"):l).$build_hash_from(f),s!==!1&&s!==t||m.$update(i(["pending"],{pending:null==(l=(null==(u=(null==(_=(null==($=o.RSpec)?e.cm("RSpec"):$)._scope).Core?_.cm("Core"):_.Core)._scope).Pending?u.cm("Pending"):u.Pending)._scope).NOT_YET_IMPLEMENTED?l.cm("NOT_YET_IMPLEMENTED"):l.NOT_YET_IMPLEMENTED})),m.$update(a),p.$examples()["$<<"]((null==(l=(null==(u=(null==(_=o.RSpec)?e.cm("RSpec"):_)._scope).Core?u.cm("Core"):u.Core)._scope).Example?l.cm("Example"):l.Example).$new(p,d,m,s)),p.$examples().$last()},c._s=u,c),s).call(l,n)}),n.$define_example_method("example"),n.$define_example_method("it"),n.$define_example_method("specify"),n.$define_example_method("focus",i(["focused","focus"],{focused:!0,focus:!0})),n.$define_example_method("focused",i(["focused","focus"],{focused:!0,focus:!0})),n.$define_example_method("fit",i(["focused","focus"],{focused:!0,focus:!0})),n.$define_example_method("pending",i(["pending"],{pending:!0})),n.$define_example_method("xexample",i(["pending"],{pending:"Temporarily disabled with xexample"})),n.$define_example_method("xit",i(["pending"],{pending:"Temporarily disabled with xit"})),n.$define_example_method("xspecify",i(["pending"],{pending:"Temporarily disabled with xspecify"})),n._proto.$alias_example_to=function(e,n){var t=this;return null==n&&(n=i([],{})),function(e){return e._scope,e._proto,e}(t.$singleton_class()).$define_example_method(e,n)},e.defs(n,"$define_nested_shared_group_method",function(e,n){var o,a,i,s=this;return null==n&&(n="it should behave like"),(o=(a=s).$define_method,o._p=(i=function(e,o){var a,s,l,c,u=i._s||this,_=t;return null==e&&(e=t),o=r.call(arguments,1),a=i._p||t,i._p=null,_=(s=(l=u).$describe,s._p=(c=function(){var n,t,r=c._s||this;return(n=(t=r).$find_and_eval_shared,n._p=a.$to_proc(),n).apply(t,["examples",e].concat(o))},c._s=u,c),s).call(l,""+n+" "+e),_.$metadata()["$[]="]("shared_group_name",e),_},i._s=s,i),o).call(a,e)}),n.$define_nested_shared_group_method("it_behaves_like","behaves like"),n.$define_nested_shared_group_method("it_should_behave_like"),n._proto.$alias_it_behaves_like_to=TMP_6=function(e,n){var o,a,i=this,s=TMP_6._p,l=s||t;return n=r.call(arguments,1),TMP_6._p=null,(o=(a=function(e){return e._scope,e._proto,e}(i.$singleton_class())).$define_nested_shared_group_method,o._p=l.$to_proc(),o).apply(a,[e].concat(n))},t}(d.$singleton_class()),e.defs(d,"$include_context",l=function(e,n){var o,a,i=this,s=l._p,c=s||t;return n=r.call(arguments,1),l._p=null,(o=(a=i).$find_and_eval_shared,o._p=c.$to_proc(),o).apply(a,["context",e].concat(n))}),e.defs(d,"$include_examples",c=function(e,n){var o,a,i=this,s=c._p,l=s||t;return n=r.call(arguments,1),c._p=null,(o=(a=i).$find_and_eval_shared,o._p=l.$to_proc(),o).apply(a,["examples",e].concat(n))}),e.defs(d,"$find_and_eval_shared",u=function(n,o,a){var i,s,l,c=this,_=u._p,$=_||t,p=t;return a=r.call(arguments,2),u._p=null,((i=p=c.$shared_example_groups()["$[]"](o))===t||i._isBoolean&&1!=i)&&c.$raise(null==(i=m.ArgumentError)?e.cm("ArgumentError"):i,"Could not find shared "+n+" "+o.$inspect()),(i=(s=c).$module_exec,i._p=p.$to_proc(),i).apply(s,[].concat(a)),$!==!1&&$!==t?(i=(l=c).$module_eval,i._p=$.$to_proc(),i).call(l):t}),e.defs(d,"$examples",function(){var e,n=this;return null==n.examples&&(n.examples=t),(e=n.examples)!==!1&&e!==t?e:n.examples=[]}),e.defs(d,"$filtered_examples",function(){var e=this;return e.$world().$filtered_examples()["$[]"](e)}),e.defs(d,"$descendant_filtered_examples",function(){var e,n,r,o,a=this;return null==a.descendant_filtered_examples&&(a.descendant_filtered_examples=t),(e=a.descendant_filtered_examples)!==!1&&e!==t?e:a.descendant_filtered_examples=a.$filtered_examples()["$+"]((n=(r=a.$children()).$inject,n._p=(o=function(e,n){return o._s||this,null==e&&(e=t),null==n&&(n=t),e["$+"](n.$descendant_filtered_examples())},o._s=a,o),n).call(r,[]))}),e.defs(d,"$metadata",function(){var e,n,r=this;return null==r.metadata&&(r.metadata=t),n=r.metadata,(e=null!=n&&n!==t?"instance-variable":t)===t||e._isBoolean&&1!=e?t:r.metadata}),e.defs(d,"$superclass_metadata",function(){var e,n,r=this;return null==r.superclass_metadata&&(r.superclass_metadata=t),(e=r.superclass_metadata)!==!1&&e!==t?e:r.superclass_metadata=function(){return(n=r.$superclass()["$respond_to?"]("metadata"))===t||n._isBoolean&&1!=n?t:r.$superclass().$metadata()}()}),e.defs(d,"$describe",_=function(n){var o,a,s=this,l=_._p,c=l||t,u=t;return n=r.call(arguments,0),_._p=null,((o=n.$last()["$is_a?"](null==(a=m.Hash)?e.cm("Hash"):a))===t||o._isBoolean&&1!=o)&&n["$<<"](i([],{})),n.$last().$update(i(["example_group_block"],{example_group_block:c})),u=(o=(a=s).$subclass,o._p=c.$to_proc(),o).call(a,s,n),s.$children()["$<<"](u),u}),function(e){return e._scope,e._proto,e.$alias_method("context","describe")}(d.$singleton_class()),e.defs(d,"$subclass",$=function(n,r){var o,a,i,s=$._p,l=s||t,c=t;return $._p=null,c=(null==(o=m.Class)?e.cm("Class"):o).$new(n),(o=c).$set_it_up.apply(o,[].concat(r)),(null==(a=m.ExampleGroups)?e.cm("ExampleGroups"):a).$assign_const(c),l!==!1&&l!==t&&(a=(i=c).$module_eval,a._p=l.$to_proc(),a).call(i),(null==(a=m.MemoizedHelpers)?e.cm("MemoizedHelpers"):a).$define_helpers_on(c),c}),e.defs(d,"$children",function(){var e,n=this;return null==n.children&&(n.children=t),(e=n.children)!==!1&&e!==t?e:n.children=[]}),e.defs(d,"$descendants",function(){var e,n,r,o,a=this;return null==a._descendants&&(a._descendants=t),(e=a._descendants)!==!1&&e!==t?e:a._descendants=[a]["$+"]((n=(r=a.$children()).$inject,n._p=(o=function(e,n){return o._s||this,null==e&&(e=t),null==n&&(n=t),e["$+"](n.$descendants())},o._s=a,o),n).call(r,[]))}),e.defs(d,"$parent_groups",function(){var n,r,o,a,i=this;return null==i.parent_groups&&(i.parent_groups=t),(n=i.parent_groups)!==!1&&n!==t?n:i.parent_groups=(r=(o=i.$ancestors()).$select,r._p=(a=function(n){var r,o,i;return a._s||this,null==n&&(n=t),n["$<"](null==(r=(null==(o=(null==(i=m.RSpec)?e.cm("RSpec"):i)._scope).Core?o.cm("Core"):o.Core)._scope).ExampleGroup?r.cm("ExampleGroup"):r.ExampleGroup)},a._s=i,a),r).call(o)}),e.defs(d,"$top_level?",function(){var n,r,o=this;return null==o.top_level&&(o.top_level=t),(n=o.top_level)!==!1&&n!==t?n:o.top_level=o.$superclass()["$=="](null==(r=m.ExampleGroup)?e.cm("ExampleGroup"):r)}),e.defs(d,"$ensure_example_groups_are_configured",function(){var n;return(n=null!=e.cvars["@@example_groups_configured"]?"class variable":t)===t||n._isBoolean&&1!=n?((null==(n=m.RSpec)?e.cm("RSpec"):n).$configuration().$configure_mock_framework(),(null==(n=m.RSpec)?e.cm("RSpec"):n).$configuration().$configure_expectation_framework(),e.cvars["@@example_groups_configured"]=!0):t}),e.defs(d,"$set_it_up",function(n){var o,a,i,s,l=this,c=t;return n=r.call(arguments,0),l.$ensure_example_groups_are_configured(),(o=n.$first()["$is_a?"](null==(a=m.Symbol)?e.cm("Symbol"):a))===t||o._isBoolean&&1!=o||(c=n.$shift()),n["$<<"]((null==(o=m.Metadata)?e.cm("Metadata"):o).$build_hash_from(n)),c!==!1&&c!==t&&n.$unshift(c),l.metadata=(o=(null==(a=(null==(i=(null==(s=m.RSpec)?e.cm("RSpec"):s)._scope).Core?i.cm("Core"):i.Core)._scope).Metadata?a.cm("Metadata"):a.Metadata).$new(l.$superclass_metadata())).$process.apply(o,[].concat(n)),l.order=t,l.$hooks().$register_globals(l,(null==(a=m.RSpec)?e.cm("RSpec"):a).$configuration().$hooks()),l.$world().$configure_group(l)}),e.defs(d,"$before_all_ivars",function(){var e,n=this;return null==n.before_all_ivars&&(n.before_all_ivars=t),(e=n.before_all_ivars)!==!1&&e!==t?e:n.before_all_ivars=i([],{})}),e.defs(d,"$store_before_all_ivars",function(e){var n,r,o,a=this;return(n=e.$instance_variables()["$empty?"]())===t||n._isBoolean&&1!=n?(n=(r=e.$instance_variables()).$each,n._p=(o=function(n){var r=o._s||this;return null==n&&(n=t),r.$before_all_ivars()["$[]="](n,e.$instance_variable_get(n))},o._s=a,o),n).call(r):t}),e.defs(d,"$assign_before_all_ivars",function(e,n){var r,o,a,i=this;return(r=(o=e).$each,r._p=(a=function(e,r){return a._s||this,null==e&&(e=t),null==r&&(r=t),n.$instance_variable_set(e,r)},a._s=i,a),r).call(o)}),e.defs(d,"$run_before_all_hooks",function(n){var r,o,a,i,s,l=this;if((r=l.$descendant_filtered_examples()["$empty?"]())!==t&&(!r._isBoolean||1==r))return t;try{return l.$assign_before_all_ivars(l.$superclass().$before_all_ivars(),n),(r=(o=null==(i=(null==(s=m.AllHookMemoizedHash)?e.cm("AllHookMemoizedHash"):s)._scope).Before?i.cm("Before"):i.Before).$isolate_for_all_hook,r._p=(a=function(){var e=a._s||this;return e.$run_hook("before","all",n)},a._s=l,a),r).call(o,n)}finally{l.$store_before_all_ivars(n)}}),e.defs(d,"$run_around_each_hooks",function(e,n){var t=this;return t.$run_hook("around","each",e,n)}),e.defs(d,"$run_before_each_hooks",function(e){var n=this;return n.$run_hook("before","each",e)}),e.defs(d,"$run_after_each_hooks",function(e){var n=this;return n.$run_hook("after","each",e)}),e.defs(d,"$run_after_all_hooks",function(n){var r,o,a,i,s,l=this;return(r=l.$descendant_filtered_examples()["$empty?"]())===t||r._isBoolean&&1!=r?(l.$assign_before_all_ivars(l.$before_all_ivars(),n),(r=(o=null==(i=(null==(s=m.AllHookMemoizedHash)?e.cm("AllHookMemoizedHash"):s)._scope).After?i.cm("After"):i.After).$isolate_for_all_hook,r._p=(a=function(){var e=a._s||this;return e.$run_hook("after","all",n)},a._s=l,a),r).call(o,n)):t}),e.defs(d,"$run",function(n){var r,o,a,i=this,s=t,l=t,c=t;if((r=(null==(o=m.RSpec)?e.cm("RSpec"):o).$wants_to_quit())!==t&&(!r._isBoolean||1==r))return(r=i["$top_level?"]())===t||r._isBoolean&&1!=r||(null==(r=m.RSpec)?e.cm("RSpec"):r).$clear_remaining_example_groups(),t;n.$example_group_started(i);try{try{return i.$run_before_all_hooks(i.$new()),s=i.$run_examples(n),l=(r=(o=i.$ordering_strategy().$order(i.$children())).$map,r._p=(a=function(e){return a._s||this,null==e&&(e=t),e.$run(n)},a._s=i,a),r).call(o)["$all?"](),(r=s!==!1&&s!==t)?l:r}catch(u){if((null==(r=m.Exception)?e.cm("Exception"):r)["$==="](u))return c=u,(r=i["$fail_fast?"]())===t||r._isBoolean&&1!=r||(null==(r=m.RSpec)?e.cm("RSpec"):r)["$wants_to_quit="](!0),i.$fail_filtered_examples(c,n);throw u}}finally{i.$run_after_all_hooks(i.$new()),i.$before_all_ivars().$clear(),n.$example_group_finished(i)}}),e.defs(d,"$ordering_strategy",function(){var n,r,o,a=this,i=t,s=t;return i=a.$metadata().$fetch("order","global"),s=(null==(n=m.RSpec)?e.cm("RSpec"):n).$configuration().$ordering_registry(),(n=(r=s).$fetch,n._p=(o=function(){var e=o._s||this;return e.$warn(("            |WARNING: Ignoring unknown ordering specified using `:order => "+i.$inspect()+"` metadata.\n            |         Falling back to configured global ordering.\n            |         Unrecognized ordering specified at: "+e.$metadata()["$[]"]("example_group")["$[]"]("location")+"\n").$gsub(/^ +\|/,"")),s.$fetch("global")},o._s=a,o),n).call(r,i)}),e.defs(d,"$run_examples",function(n){var r,o,a,i=this;return(r=(o=i.$ordering_strategy().$order(i.$filtered_examples())).$map,r._p=(a=function(r){var o,i,s=a._s||this,l=t,c=t;return null==r&&(r=t),(o=(null==(i=m.RSpec)?e.cm("RSpec"):i).$wants_to_quit())===t||o._isBoolean&&1!=o?(l=s.$new(),s.$set_ivars(l,s.$before_all_ivars()),c=r.$run(l,n),i=s["$fail_fast?"](),(o=i!==!1&&i!==t?c["$!"]():i)===t||o._isBoolean&&1!=o||(null==(o=m.RSpec)?e.cm("RSpec"):o)["$wants_to_quit="](!0),c):t},a._s=i,a),r).call(o)["$all?"]()}),e.defs(d,"$fail_filtered_examples",function(e,n){var r,o,a,i,s,l=this;return(r=(o=l.$filtered_examples()).$each,r._p=(a=function(r){return a._s||this,null==r&&(r=t),r.$fail_with_exception(n,e)},a._s=l,a),r).call(o),(r=(i=l.$children()).$each,r._p=(s=function(r){return s._s||this,null==r&&(r=t),n.$example_group_started(r),r.$fail_filtered_examples(e,n),n.$example_group_finished(r)
},s._s=l,s),r).call(i),!1}),e.defs(d,"$fail_fast?",function(){var n;return(null==(n=m.RSpec)?e.cm("RSpec"):n).$configuration()["$fail_fast?"]()}),e.defs(d,"$any_apply?",function(e){var n=this;return n.$metadata()["$any_apply?"](e)}),e.defs(d,"$all_apply?",function(e){var n=this;return n.$metadata()["$all_apply?"](e)}),e.defs(d,"$declaration_line_numbers",function(){var e,n,r,o,a,i,s=this;return null==s.declaration_line_numbers&&(s.declaration_line_numbers=t),(e=s.declaration_line_numbers)!==!1&&e!==t?e:s.declaration_line_numbers=[s.$metadata()["$[]"]("example_group")["$[]"]("line_number")]["$+"]((n=(r=s.$examples()).$collect,n._p=(o=function(e){return o._s||this,null==e&&(e=t),e.$metadata()["$[]"]("line_number")},o._s=s,o),n).call(r))["$+"]((n=(a=s.$children()).$inject,n._p=(i=function(e,n){return i._s||this,null==e&&(e=t),null==n&&(n=t),e["$+"](n.$declaration_line_numbers())},i._s=s,i),n).call(a,[]))}),e.defs(d,"$top_level_description",function(){var e=this;return e.$parent_groups().$last().$description()}),e.defs(d,"$set_ivars",function(e,n){var r,o,a,i=this;return(r=(o=n).$each,r._p=(a=function(n,r){return a._s||this,null==n&&(n=t),null==r&&(r=t),e.$instance_variable_set(n,r)},a._s=i,a),r).call(o)}),f.$described_class=function(){var e=this;return e.$class().$described_class()},f.$instance_exec_with_rescue=p=function(n,r){var o,a,i,s=this,l=p._p,c=l||t,u=t;null==r&&(r=t),p._p=null;try{return(o=(a=s).$instance_exec,o._p=c.$to_proc(),o).call(a,n)}catch(_){if((null==(o=m.Exception)?e.cm("Exception"):o)["$==="](_))return u=_,(o=(null==(i=m.RSpec)?e.cm("RSpec"):i).$current_example())===t||o._isBoolean&&1!=o?s.$raise():(null==(o=m.RSpec)?e.cm("RSpec"):o).$current_example().$set_exception(u,r);throw _}},t}(s,null)}(s),function(n){var r=o(n,"ExampleGroups"),a=(r._proto,r._scope);e.defs(r,"$assign_const",function(e){var n=this,r=t,o=t,a=t;return r=n.$base_name_for(e),o=n.$constant_scope_for(e),a=n.$disambiguate(r,o),o.$const_set(a,e)}),e.defs(r,"$constant_scope_for",function(n){var r,o,i=this,s=t;return s=n.$superclass(),s["$=="](null==(r=(null==(o=a.Core)?e.cm("Core"):o)._scope).ExampleGroup?r.cm("ExampleGroup"):r.ExampleGroup)&&(s=i),s}),e.defs(r,"$base_name_for",function(e){var n,r,o,a=this,i=t;return(n=e.$description()["$empty?"]())===t||n._isBoolean&&1!=n?(i=" "["$+"](e.$description()),(n=(r=i)["$gsub!"],n._p=(o=function(){return o._s||this,t.$upcase()},o._s=a,o),n).call(r,/[^0-9a-zA-Z]+([0-9a-zA-Z])/),i["$lstrip!"](),i["$gsub!"](/\W/,""),i["$gsub!"](/\A([^A-Z]|\z)/,"Nested\\1"),i):"Anonymous"}),e.defs(r,"$disambiguate",function(e,n){var r,o;if((r=n["$const_defined?"](e))===t||r._isBoolean&&1!=r)return e;for(e["$<<"]("_2");(o=n["$const_defined?"](e))!==t&&(!o._isBoolean||1==o);)e["$next!"]();return e})}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module;return e.add_stubs(["$each","$playback_onto","$__shared_context_recordings","$new","$__send__","$to_proc","$block","$method_name","$args","$define_method","$<<","$record","$+","$instance_methods"]),function(n){var a,i,s=o(n,"RSpec"),l=(s._proto,s._scope);!function(n){var a=o(n,"Core");a._proto,a._scope,function(n){var a,i,s,l,c=o(n,"SharedContext"),u=c._proto,_=c._scope;u.$included=function(e){var n,r,o,a=this;return(n=(r=a.$__shared_context_recordings()).$each,n._p=(o=function(n){return o._s||this,null==n&&(n=t),n.$playback_onto(e)},o._s=a,o),n).call(r)},u.$__shared_context_recordings=function(){var e,n=this;return null==n.__shared_context_recordings&&(n.__shared_context_recordings=t),(e=n.__shared_context_recordings)!==!1&&e!==t?e:n.__shared_context_recordings=[]},e.cdecl(_,"Recording",(a=(i=null==(l=_.Struct)?e.cm("Struct"):l).$new,a._p=(s=function(){var n=s._s||this;return e.defn(n,"$playback_onto",function(e){var n,t,r=this;return(n=(t=e).$__send__,n._p=r.$block().$to_proc(),n).apply(t,[r.$method_name()].concat(r.$args()))}),t},s._s=c,s),a).call(i,"method_name","args","block")),e.defs(c,"$record",function(n){var o,a,i,s=this;return(o=(a=n).$each,o._p=(i=function(n){var o,a,s,l=i._s||this;return null==n&&(n=t),(o=(a=l).$define_method,o._p=(s=function(o){var a,i,l=s._s||this;return o=r.call(arguments,0),a=s._p||t,s._p=null,l.$__shared_context_recordings()["$<<"]((null==(i=_.Recording)?e.cm("Recording"):i).$new(n,o,a))},s._s=l,s),o).call(a,n)},i._s=s,i),o).call(a)}),c.$record(["describe","context"]["$+"]((null==(a=_.Hooks)?e.cm("Hooks"):a).$instance_methods(!1))["$+"]((null==(a=(null==(l=_.MemoizedHelpers)?e.cm("MemoizedHelpers"):l)._scope).ClassMethods?a.cm("ClassMethods"):a.ClassMethods).$instance_methods(!1))),e.donate(c,["$included","$__shared_context_recordings"])}(a)}(s),e.cdecl(l,"SharedContext",null==(a=(null==(i=l.Core)?e.cm("Core"):i)._scope).SharedContext?a.cm("SharedContext"):a.SharedContext)}(n)}(Opal),function(e){var n,t,r,o,a,i=e.top,s=e.nil,l=e.breaker,c=(e.slice,e.module),u=e.klass,_=e.hash2,$=s;return e.add_stubs(["$lambda","$require_relative","$[]","$wants_to_quit","$world","$wants_to_quit=","$new","$warn_deprecation","$first_non_rspec_line","$configuration","$clear","$example_groups","$current","$[]=","$=~","$define_method","$to_proc","$method","$expand_path","$const_get"]),$=function(){return(n=(t=i.$require_relative)&&!t.rb_stub||i["$respond_to_missing?"]("require_relative")?"method":s)===s||n._isBoolean&&1!=n?(n=(o=i).$lambda,n._p=(a=function(e){return a._s||this,null==e&&(e=s),!0},a._s=i,a),n).call(o):(n=(t=i).$lambda,n._p=(r=function(e){var n=r._s||this;return null==e&&(e=s),n.$require_relative(e)},r._s=i,r),n).call(t)}(),$["$[]"]("core/version"),$["$[]"]("core/flat_map"),$["$[]"]("core/filter_manager"),$["$[]"]("core/dsl"),$["$[]"]("core/reporter"),$["$[]"]("core/hooks"),$["$[]"]("core/memoized_helpers"),$["$[]"]("core/metadata"),$["$[]"]("core/pending"),$["$[]"]("core/formatters"),$["$[]"]("core/ordering"),$["$[]"]("core/world"),$["$[]"]("core/configuration"),$["$[]"]("core/option_parser"),$["$[]"]("core/configuration_options"),$["$[]"]("core/command_line"),$["$[]"]("core/runner"),$["$[]"]("core/example"),$["$[]"]("core/shared_example_group/collection"),$["$[]"]("core/shared_example_group"),$["$[]"]("core/example_group"),function(r){var a,i,$=c(r,"RSpec"),p=($._proto,$._scope);e.defs($,"$wants_to_quit",function(){var e=this;return e.$world().$wants_to_quit()}),e.defs($,"$wants_to_quit=",function(e){var n=this;return n.$world()["$wants_to_quit="](e)}),e.defs($,"$world",function(){var n,t,r,o,a=this;return null==a.world&&(a.world=s),(n=a.world)!==!1&&n!==s?n:a.world=(null==(t=(null==(r=(null==(o=p.RSpec)?e.cm("RSpec"):o)._scope).Core?r.cm("Core"):r.Core)._scope).World?t.cm("World"):t.World).$new()}),e.defs($,"$world=",function(e){var n=this;return n.world=e}),e.defs($,"$reset",function(){var e=this;return e.world=s,e.configuration=s}),e.defs($,"$configuration",a=function(){var n,t,r,o,i=this,l=a._p,c=l||s;return null==i.configuration&&(i.configuration=s),a._p=null,c!==s&&(null==(n=p.RSpec)?e.cm("RSpec"):n).$warn_deprecation("\n*****************************************************************\nDEPRECATION WARNING\n\n* RSpec.configuration with a block is deprecated and has no effect.\n* please use RSpec.configure with a block instead.\n\nCalled from "+(null==(n=p.CallerFilter)?e.cm("CallerFilter"):n).$first_non_rspec_line()+"\n*****************************************************************\n\n"),(n=i.configuration)!==!1&&n!==s?n:i.configuration=(null==(t=(null==(r=(null==(o=p.RSpec)?e.cm("RSpec"):o)._scope).Core?r.cm("Core"):r.Core)._scope).Configuration?t.cm("Configuration"):t.Configuration).$new()}),e.defs($,"$configuration=",function(e){var n=this;return n.configuration=e}),e.defs($,"$configure",i=function(){var n,t=this,r=i._p,o=r||s;return i._p=null,o!==s?(n=e.$yield1(o,t.$configuration()),n===l?n:n):s}),e.defs($,"$clear_remaining_example_groups",function(){var e=this;return e.$world().$example_groups().$clear()}),e.defs($,"$current_example",function(){var n;return(null==(n=p.Thread)?e.cm("Thread"):n).$current()["$[]"]("_rspec_current_example")}),e.defs($,"$current_example=",function(n){var t;return(null==(t=p.Thread)?e.cm("Thread"):t).$current()["$[]="]("_rspec_current_example",n)}),e.defs($,"$windows_os?",function(){var n,t;return(null==(n=(null==(t=p.RbConfig)?e.cm("RbConfig"):t)._scope).CONFIG?n.cm("CONFIG"):n.CONFIG)["$[]"]("host_os")["$=~"](/cygwin|mswin|mingw|bccwin|wince|emx/)}),function(r){var a=c(r,"Core"),i=(a._proto,a._scope);!function(r,$super){function a(){}var i=a=u(r,$super,"Time",a);return i._proto,i._scope,function(r){return r._scope,r._proto,(n=(t=r).$define_method,n._p=(null==(o=e.Object._scope.Time)?e.cm("Time"):o).$method("now").$to_proc(),n).call(t,"now")}(i.$singleton_class())}(a,null),e.defs(a,"$path_to_executable",function(){var n,t,r=this;return null==r.path_to_executable&&(r.path_to_executable=s),(n=r.path_to_executable)!==!1&&n!==s?n:r.path_to_executable=(null==(t=i.File)?e.cm("File"):t).$expand_path("../../../exe/rspec","rspec/core")})}($),e.cdecl(p,"MODULES_TO_AUTOLOAD",_(["Matchers","Expectations","Mocks"],{Matchers:"rspec/expectations",Expectations:"rspec/expectations",Mocks:"rspec/mocks"})),e.defs($,"$const_missing",function(n){var t;return(null==(t=e.Object._scope.RSpec)?e.cm("RSpec"):t).$const_get(n)})}(i)}(Opal),function(e){return e.top,e.nil,e.breaker,e.slice,e.add_stubs([]),!0}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$attr_reader","$<","$to_f","$!","$method_defined_directly_on_klass?","$__send__","$stashed_method_name","$private","$method_handle_for","$method_defined_on_klass?","$method_owned_by_klass?","$method_defined?","$private_method_defined?","$owner","$instance_method","$===","$class","$=="]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Mocks");a._proto,a._scope,function(n,$super){function r(){}var a,i=r=o(n,$super,"InstanceMethodStasher",r),s=i._proto,l=i._scope;return s.method_is_stashed=s.klass=s.method=s.original_method=s.object=t,s.$initialize=function(e,n){var r=this;return r.object=e,r.method=n,r.klass=function(e){return e._scope,e._proto,e}(e.$singleton_class()),r.original_method=t,r.method_is_stashed=!1},i.$attr_reader("original_method"),(null==(a=l.RUBY_VERSION)?e.cm("RUBY_VERSION"):a).$to_f()["$<"](1.9)?(s["$method_is_stashed?"]=function(){var e=this;return e.method_is_stashed},s.$stash=function(){var e,n,r=this;return(e=(n=r["$method_defined_directly_on_klass?"]()["$!"]())!==!1&&n!==t?n:r.method_is_stashed)===t||e._isBoolean&&1!=e?(r.klass.$__send__("alias_method",r.$stashed_method_name(),r.method),r.method_is_stashed=!0):t},s.$stashed_method_name=function(){var e=this;return"obfuscated_by_rspec_mocks__"+e.method},i.$private("stashed_method_name"),s.$restore=function(){var e,n=this;return(e=n.method_is_stashed)===t||e._isBoolean&&1!=e?t:((e=n.klass.$__send__("method_defined?",n.method))===t||e._isBoolean&&1!=e||n.klass.$__send__("undef_method",n.method),n.klass.$__send__("alias_method",n.method,n.$stashed_method_name()),n.klass.$__send__("remove_method",n.$stashed_method_name()),n.method_is_stashed=!1)}):(s["$method_is_stashed?"]=function(){var e=this;return e.original_method["$!"]()["$!"]()},s.$stash=function(){var n,r,o,a=this;return(n=a["$method_defined_directly_on_klass?"]()["$!"]())===t||n._isBoolean&&1!=n?(n=a.original_method)!==!1&&n!==t?n:a.original_method=(null==(r=(null==(o=e.Object._scope.RSpec)?e.cm("RSpec"):o)._scope).Mocks?r.cm("Mocks"):r.Mocks).$method_handle_for(a.object,a.method):t},s.$restore=function(){var e,n=this;return(e=n.original_method)===t||e._isBoolean&&1!=e?t:((e=n.klass.$__send__("method_defined?",n.method))===t||e._isBoolean&&1!=e||n.klass.$__send__("undef_method",n.method),n.klass.$__send__("define_method",n.method,n.original_method),n.original_method=t)}),i.$private(),s["$method_defined_directly_on_klass?"]=function(){var e,n=this;return e=n["$method_defined_on_klass?"](),e!==!1&&e!==t?n["$method_owned_by_klass?"]():e},s["$method_defined_on_klass?"]=function(e){var n,r=this;return null==e&&(e=r.klass),(n=e["$method_defined?"](r.method))!==!1&&n!==t?n:e["$private_method_defined?"](r.method)},s["$method_owned_by_klass?"]=function(){var n,r,o=this,a=t;return a=o.klass.$instance_method(o.method).$owner(),((n=(null==(r=l.Module)?e.cm("Module"):r)["$==="](a))===t||n._isBoolean&&1!=n)&&(a=a.$class()),(n=a["$=="](o.klass))!==!1&&n!==t?n:o["$method_defined_on_klass?"](a)["$!"]()},t}(a,null)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass,i=e.hash2;return e.add_stubs(["$attr_reader","$new","$original_method","$method_handle_for","$method_name","$__send__","$to_proc","$alias_method","$===","$private_method_defined?","$object_singleton_class","$protected_method_defined?","$visibility","$stash","$define_proxy_method","$save_original_method!","$class_exec","$define_method","$proxy_method_invoked","$message_received","$method_is_stashed?","$restore","$restore_original_visibility","$method_defined?","$each","$verify_messages_received","$expectations","$restore_original_method","$clear","$stubs","$configure_method","$message_expectation_class","$<<","$unshift","$setup_simple_method_double","$any?","$add_stub","$empty?","$raise_method_not_stubbed_error","$reset","$delete","$raise"]),function(n){var s=o(n,"RSpec");s._proto,s._scope,function(n){var s=o(n,"Mocks");s._proto,s._scope,function(n,$super){function o(){}var s,l,c,u,_=o=a(n,$super,"MethodDouble",o),$=_._proto,p=_._scope;return $.original_method=$.method_stasher=$.proxy=$.object=$.method_name=$.method_is_proxied=$.original_visibility=t,_.$attr_reader("method_name","object","expectations","stubs"),$.$initialize=function(n,r,o){var a,i=this;return i.method_name=r,i.object=n,i.proxy=o,i.original_visibility=t,i.method_stasher=(null==(a=p.InstanceMethodStasher)?e.cm("InstanceMethodStasher"):a).$new(n,r),i.method_is_proxied=!1,i.expectations=[],i.stubs=[]},$.$original_method=function(){var n,o,a,i,s,l,c=this;return(n=c.original_method)!==!1&&n!==t?n:c.original_method=(o=(a=c.method_stasher.$original_method())!==!1&&a!==t?a:c.proxy.$method_handle_for(c.$method_name()))!==!1&&o!==t?o:(a=(i=null==(l=p.Proc)?e.cm("Proc"):l).$new,a._p=(s=function(e){var n,o,a,i=s._s||this;return null==i.object&&(i.object=t),null==i.method_name&&(i.method_name=t),e=r.call(arguments,0),n=s._p||t,s._p=null,(o=(a=i.object).$__send__,o._p=n.$to_proc(),o).apply(a,["method_missing",i.method_name].concat(e))},s._s=c,s),a).call(i)},_.$alias_method("save_original_method!","original_method"),$.$visibility=function(){var n,r,o=this;return(n=(null==(r=p.TestDouble)?e.cm("TestDouble"):r)["$==="](o.object))===t||n._isBoolean&&1!=n?(n=o.$object_singleton_class()["$private_method_defined?"](o.method_name))===t||n._isBoolean&&1!=n?(n=o.$object_singleton_class()["$protected_method_defined?"](o.method_name))===t||n._isBoolean&&1!=n?"public":"protected":"private":"public"},$.$object_singleton_class=function(){var e=this;return function(e){return e._scope,e._proto,e}(e.object.$singleton_class())},$.$configure_method=function(){var e,n=this;return n.original_visibility=[n.$visibility(),n.$method_name()],((e=n.method_is_proxied)===t||e._isBoolean&&1!=e)&&n.method_stasher.$stash(),n.$define_proxy_method()},$.$define_proxy_method=function(){var e,n,o,a=this;return(e=a.method_is_proxied)===t||e._isBoolean&&1!=e?(a["$save_original_method!"](),(e=(n=a.$object_singleton_class()).$class_exec,e._p=(o=function(e,n,a){var i,s,l,c=o._s||this;return null==e&&(e=t),null==n&&(n=t),null==a&&(a=t),(i=(s=c).$define_method,i._p=(l=function(n){var o,a,i,s=l._s||this;return n=r.call(arguments,0),o=l._p||t,l._p=null,(a=(i=e).$proxy_method_invoked,a._p=o.$to_proc(),a).apply(i,[s].concat(n))},l._s=c,l),i).call(s,n),c.$__send__(a,n)},o._s=a,o),e).call(n,a,a.$method_name(),a.$visibility()),a.method_is_proxied=!0):t},$.$proxy_method_invoked=s=function(e,n){var o,a,i=this,l=s._p,c=l||t;return n=r.call(arguments,1),s._p=null,(o=(a=i.proxy).$message_received,o._p=c.$to_proc(),o).apply(a,[i.$method_name()].concat(n))},$.$restore_original_method=function(){var e,n=this;return(e=n.method_is_proxied)===t||e._isBoolean&&1!=e?t:(n.$object_singleton_class().$__send__("remove_method",n.method_name),(e=n.method_stasher["$method_is_stashed?"]())===t||e._isBoolean&&1!=e||n.method_stasher.$restore(),n.$restore_original_visibility(),n.method_is_proxied=!1)},$.$restore_original_visibility=function(){var e,n,r,o=this;return n=o.original_visibility,(e=n!==!1&&n!==t?(r=o.$object_singleton_class()["$method_defined?"](o.method_name))!==!1&&r!==t?r:o.$object_singleton_class()["$private_method_defined?"](o.method_name):n)===t||e._isBoolean&&1!=e?t:(e=o.$object_singleton_class()).$__send__.apply(e,[].concat(o.original_visibility))},$.$verify=function(){var e,n,r,o=this;return(e=(n=o.$expectations()).$each,e._p=(r=function(e){return r._s||this,null==e&&(e=t),e.$verify_messages_received()},r._s=o,r),e).call(n)},$.$reset=function(){var e=this;return e.$restore_original_method(),e.$clear()},$.$clear=function(){var e=this;return e.$expectations().$clear(),e.$stubs().$clear()},$.$message_expectation_class=function(){var n;return null==(n=p.MessageExpectation)?e.cm("MessageExpectation"):n},$.$add_expectation=l=function(e,n,r,o){var a,i,s=this,c=l._p,u=c||t,_=t;return l._p=null,s.$configure_method(),_=(a=(i=s.$message_expectation_class()).$new,a._p=u.$to_proc(),a).call(i,e,n,r,s,1,o),s.$expectations()["$<<"](_),_},$.$build_expectation=function(n,r){var o,a=this,i=t;return i=null==(o=p.IGNORED_BACKTRACE_LINE)?e.cm("IGNORED_BACKTRACE_LINE"):o,a.$message_expectation_class().$new(n,r,i,a)},$.$add_stub=c=function(e,n,r,o){var a,s,l=this,u=c._p,_=u||t,$=t;return null==o&&(o=i([],{})),c._p=null,l.$configure_method(),$=(a=(s=l.$message_expectation_class()).$new,a._p=_.$to_proc(),a).call(s,e,n,r,l,"any",o),l.$stubs().$unshift($),$},$.$add_simple_stub=function(e,n){var t=this;return t.$setup_simple_method_double(e,n,t.$stubs())},$.$add_simple_expectation=function(e,n,t,r){var o=this;return o.$setup_simple_method_double(e,n,o.$expectations(),t,r)},$.$setup_simple_method_double=function(n,r,o,a,i){var s,l=this,c=t;return null==a&&(a=t),null==i&&(i=t),l.$define_proxy_method(),c=(null==(s=p.SimpleMessageExpectation)?e.cm("SimpleMessageExpectation"):s).$new(n,r,a,i),o.$unshift(c),c},$.$add_default_stub=u=function(e){var n,o,a=this,i=u._p,s=i||t;return e=r.call(arguments,0),u._p=null,(n=a.$stubs()["$any?"]())===t||n._isBoolean&&1!=n?(n=(o=a).$add_stub,n._p=s.$to_proc(),n).apply(o,[].concat(e)):t},$.$remove_stub=function(){var e,n=this;return(e=n.$stubs()["$empty?"]())===t||e._isBoolean&&1!=e||n.$raise_method_not_stubbed_error(),(e=n.$expectations()["$empty?"]())===t||e._isBoolean&&1!=e?n.$stubs().$clear():n.$reset()},$.$remove_single_stub=function(e){var n,r,o=this;return o.$stubs().$delete(e),r=o.$stubs()["$empty?"](),(n=r!==!1&&r!==t?o.$expectations()["$empty?"]():r)===t||n._isBoolean&&1!=n?t:o.$restore_original_method()},$.$raise_method_not_stubbed_error=function(){var n,t=this;return t.$raise(null==(n=p.MockExpectationError)?e.cm("MockExpectationError"):n,"The method `"+t.$method_name()+"` was not stubbed or was already unstubbed")},e.cdecl(p,"IGNORED_BACKTRACE_LINE","this backtrace line is ignored")}(s,null)}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass,i=e.hash2;return e.add_stubs(["$===","$==","$=~","$include?","$all?","$has_key?","$[]","$sub","$inspect","$none?","$superset?","$new","$join","$respond_to?","$matches?","$instance_of?","$kind_of?","$anythingize_lonely_keys","$first","$count","$alias_method","$private","$class","$last","$delete_at","$each","$[]=","$anything"]),function(n){var s=o(n,"RSpec");s._proto,s._scope,function(n){var s=o(n,"Mocks");s._proto,s._scope,function(n){var s=o(n,"ArgumentMatchers"),l=s._proto,c=s._scope;!function(e,$super){function n(){}var r=n=a(e,$super,"AnyArgsMatcher",n),o=r._proto;return r._scope,o.$description=function(){return"any args"},t}(s,null),function(e,$super){function n(){}var r=n=a(e,$super,"AnyArgMatcher",n),o=r._proto;return r._scope,o.$initialize=function(){return t},o["$=="]=function(){return!0},t}(s,null),function(e,$super){function n(){}var r=n=a(e,$super,"NoArgsMatcher",n),o=r._proto;return r._scope,o.$description=function(){return"no args"},t}(s,null),function(n,$super){function r(){}var o=r=a(n,$super,"RegexpMatcher",r),i=o._proto,s=o._scope;return i.regexp=t,i.$initialize=function(e){var n=this;return n.regexp=e},i["$=="]=function(n){var r,o,a=this;return(r=(null==(o=s.Regexp)?e.cm("Regexp"):o)["$==="](n))===t||r._isBoolean&&1!=r?n["$=~"](a.regexp):n["$=="](a.regexp)},t}(s,null),function(e,$super){function n(){}var r=n=a(e,$super,"BooleanMatcher",n),o=r._proto;return r._scope,o.$initialize=function(){return t},o["$=="]=function(e){return[!0,!1]["$include?"](e)},t}(s,null),function(n,$super){function r(){}var o=r=a(n,$super,"HashIncludingMatcher",r),i=o._proto,s=o._scope;return i.expected=t,i.$initialize=function(e){var n=this;return n.expected=e},i["$=="]=function(n){var r,o,a,i=this;try{return(r=(o=i.expected)["$all?"],r._p=(a=function(e,r){var o;return a._s||this,null==e&&(e=t),null==r&&(r=t),o=n["$has_key?"](e),o!==!1&&o!==t?r["$=="](n["$[]"](e)):o},a._s=i,a),r).call(o)}catch(l){if((null==(r=s.NoMethodError)?e.cm("NoMethodError"):r)["$==="](l))return!1;throw l}},i.$description=function(){var e=this;return"hash_including("+e.expected.$inspect().$sub(/^\{/,"").$sub(/\}$/,"")+")"},t}(s,null),function(n,$super){function r(){}var o=r=a(n,$super,"HashExcludingMatcher",r),i=o._proto,s=o._scope;return i.expected=t,i.$initialize=function(e){var n=this;return n.expected=e},i["$=="]=function(n){var r,o,a,i=this;try{return(r=(o=i.expected)["$none?"],r._p=(a=function(e,r){var o;return a._s||this,null==e&&(e=t),null==r&&(r=t),o=n["$has_key?"](e),o!==!1&&o!==t?r["$=="](n["$[]"](e)):o},a._s=i,a),r).call(o)}catch(l){if((null==(r=s.NoMethodError)?e.cm("NoMethodError"):r)["$==="](l))return!1;throw l}},i.$description=function(){var e=this;return"hash_not_including("+e.expected.$inspect().$sub(/^\{/,"").$sub(/\}$/,"")+")"},t}(s,null),function(n,$super){function r(){}var o=r=a(n,$super,"ArrayIncludingMatcher",r),i=o._proto,s=o._scope;return i.expected=t,i.$initialize=function(e){var n=this;return n.expected=e},i["$=="]=function(n){var t,r=this;return(null==(t=s.Set)?e.cm("Set"):t).$new(n)["$superset?"]((null==(t=s.Set)?e.cm("Set"):t).$new(r.expected))},i.$description=function(){var e=this;return"array_including("+e.expected.$join(",")+")"},t}(s,null),function(e,$super){function n(){}var o=n=a(e,$super,"DuckTypeMatcher",n),i=o._proto;return o._scope,i.methods_to_respond_to=t,i.$initialize=function(e){var n=this;return e=r.call(arguments,0),n.methods_to_respond_to=e},i["$=="]=function(e){var n,r,o,a=this;return(n=(r=a.methods_to_respond_to)["$all?"],n._p=(o=function(n){return o._s||this,null==n&&(n=t),e["$respond_to?"](n)},o._s=a,o),n).call(r)},t}(s,null),function(e,$super){function n(){}var r=n=a(e,$super,"MatcherMatcher",n),o=r._proto;return r._scope,o.matcher=t,o.$initialize=function(e){var n=this;return n.matcher=e},o["$=="]=function(e){var n=this;return n.matcher["$matches?"](e)},t}(s,null),function(e,$super){function n(){}var r=n=a(e,$super,"EqualityProxy",n),o=r._proto;return r._scope,o.given=t,o.$initialize=function(e){var n=this;return n.given=e},o["$=="]=function(e){var n=this;return n.given["$=="](e)},t}(s,null),function(e,$super){function n(){}var r=n=a(e,$super,"InstanceOf",n),o=r._proto;return r._scope,o.klass=t,o.$initialize=function(e){var n=this;return n.klass=e},o["$=="]=function(e){var n=this;return e["$instance_of?"](n.klass)},t}(s,null),function(e,$super){function n(){}var r=n=a(e,$super,"KindOf",n),o=r._proto;return r._scope,o.klass=t,o.$initialize=function(e){var n=this;return n.klass=e},o["$=="]=function(e){var n=this;return e["$kind_of?"](n.klass)},t}(s,null),l.$any_args=function(){var n;return(null==(n=c.AnyArgsMatcher)?e.cm("AnyArgsMatcher"):n).$new()},l.$anything=function(){var n;return(null==(n=c.AnyArgMatcher)?e.cm("AnyArgMatcher"):n).$new(t)},l.$no_args=function(){var n;return(null==(n=c.NoArgsMatcher)?e.cm("NoArgsMatcher"):n).$new()},l.$duck_type=function(n){var t,o;return n=r.call(arguments,0),(t=null==(o=c.DuckTypeMatcher)?e.cm("DuckTypeMatcher"):o).$new.apply(t,[].concat(n))},l.$boolean=function(){var n;return(null==(n=c.BooleanMatcher)?e.cm("BooleanMatcher"):n).$new(t)},l.$hash_including=function(n){var t,o=this;return n=r.call(arguments,0),(null==(t=c.HashIncludingMatcher)?e.cm("HashIncludingMatcher"):t).$new((t=o).$anythingize_lonely_keys.apply(t,[].concat(n)))},l.$array_including=function(n){var o,a,i,s=t;return n=r.call(arguments,0),s=function(){return a=(null==(i=c.Array)?e.cm("Array"):i)["$==="](n.$first()),(o=a!==!1&&a!==t?n.$count()["$=="](1):a)===t||o._isBoolean&&1!=o?n:n.$first()}(),(null==(o=c.ArrayIncludingMatcher)?e.cm("ArrayIncludingMatcher"):o).$new(s)},l.$hash_excluding=function(n){var t,o=this;return n=r.call(arguments,0),(null==(t=c.HashExcludingMatcher)?e.cm("HashExcludingMatcher"):t).$new((t=o).$anythingize_lonely_keys.apply(t,[].concat(n)))},s.$alias_method("hash_not_including","hash_excluding"),l.$instance_of=function(n){var t;return(null==(t=c.InstanceOf)?e.cm("InstanceOf"):t).$new(n)},s.$alias_method("an_instance_of","instance_of"),l.$kind_of=function(n){var t;return(null==(t=c.KindOf)?e.cm("KindOf"):t).$new(n)},s.$alias_method("a_kind_of","kind_of"),s.$private(),l.$anythingize_lonely_keys=function(n){var o,a,s,l=this,u=t;return n=r.call(arguments,0),u=function(){return n.$last().$class()["$=="](null==(o=c.Hash)?e.cm("Hash"):o)?n.$delete_at(-1):i([],{})}(),(o=(a=n).$each,o._p=(s=function(e){var n=s._s||this;return null==e&&(e=t),u["$[]="](e,n.$anything())},s._s=l,s),o).call(a),u},e.donate(s,["$any_args","$anything","$no_args","$duck_type","$boolean","$hash_including","$array_including","$hash_excluding","$instance_of","$kind_of","$anythingize_lonely_keys"])}(s)}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=(e.slice,e.module),a=e.klass;return e.add_stubs(["$===","$new","$raise","$inspect","$name","$!","$object","$private","$original_value","$original"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i,s=o(n,"Mocks"),l=(s._proto,s._scope);!function(n,$super){function r(){}var o=r=a(n,$super,"ObjectReference",r),i=(o._proto,o._scope);return e.defs(o,"$for",function(n,r){var o,a=this,s=t;return null==r&&(r=!1),function(){return s=n,(null==(o=i.Module)?e.cm("Module"):o)["$==="](s)?(null==(o=i.DirectModuleReference)?e.cm("DirectModuleReference"):o).$new(n):(null==(o=i.String)?e.cm("String"):o)["$==="](s)?(null==(o=i.NamedObjectReference)?e.cm("NamedObjectReference"):o).$new(n):r!==!1&&r!==t?(null==(o=i.DirectObjectReference)?e.cm("DirectObjectReference"):o).$new(n):a.$raise(null==(o=i.ArgumentError)?e.cm("ArgumentError"):o,"Module or String expected, got "+n.$inspect())}()}),t}(s,null),function(n,$super){function o(){}var i,s=o=a(n,$super,"DirectObjectReference",o),l=s._proto,c=s._scope;return l.object=t,l.$initialize=function(e){var n=this;return n.object=e},l.$description=function(){var e=this;return e.object.$inspect()},l.$const_to_replace=function(){var n,t=this;return t.$raise(null==(n=c.ArgumentError)?e.cm("ArgumentError"):n,"Can not perform constant replacement with an object.")},l["$defined?"]=function(){return!0},l.$when_loaded=i=function(){var n,o=this,a=i._p,s=a||t;return i._p=null,n=e.$yield1(s,o.object),n===r?n:n},t}(s,null),function(n,$super){function r(){}var o=r=a(n,$super,"DirectModuleReference",r),i=o._proto;return o._scope,i.object=t,i.$const_to_replace=function(){var e=this;return e.object.$name()},e.defn(o,"$description",i.$const_to_replace)}(s,null==(i=l.DirectObjectReference)?e.cm("DirectObjectReference"):i),function(n,$super){function o(){}var i,s=o=a(n,$super,"NamedObjectReference",o),l=s._proto,c=s._scope;return l.const_name=l.object=t,l.$initialize=function(e){var n=this;return n.const_name=e},l["$defined?"]=function(){var e=this;return e.$object()["$!"]()["$!"]()},l.$const_to_replace=function(){var e=this;return e.const_name},e.defn(s,"$description",l.$const_to_replace),l.$when_loaded=i=function(){var n,o=this,a=i._p,s=a||t;return i._p=null,(n=o.$object())===t||n._isBoolean&&1!=n?t:(n=e.$yield1(s,o.$object()),n===r?n:n)},s.$private(),l.$object=function(){var n,r,o=this;return(n=o.object)!==!1&&n!==t?n:o.object=(null==(r=c.Constant)?e.cm("Constant"):r).$original(o.const_name).$original_value()},t}(s,null)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.hash2;return e.add_stubs(["$include","$declare_double","$for","$declare_verifying_double","$warn_about_expectations=","$proxy_for","$space","$stub","$hide","$new","$to_proc","$class_exec","$method_defined?","$private","$verify_doubled_constant_names?","$configuration","$!","$defined?","$raise","$+","$name","$===","$last","$<<"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Mocks");i._proto,i._scope,function(n){var i,s,l,c,u=o(n,"ExampleMethods"),_=u._proto,$=u._scope;u.$include(null==(i=(null==(s=(null==(l=$.RSpec)?e.cm("RSpec"):l)._scope).Mocks?s.cm("Mocks"):s.Mocks)._scope).ArgumentMatchers?i.cm("ArgumentMatchers"):i.ArgumentMatchers),_.$double=function(n){var t,o,a=this;return n=r.call(arguments,0),(t=a).$declare_double.apply(t,[null==(o=$.Mock)?e.cm("Mock"):o].concat(n))},_.$instance_double=function(n,o){var a,i,s=this,l=t;return o=r.call(arguments,1),l=(null==(a=$.ObjectReference)?e.cm("ObjectReference"):a).$for(n),(a=s).$declare_verifying_double.apply(a,[null==(i=$.InstanceVerifyingDouble)?e.cm("InstanceVerifyingDouble"):i,l].concat(o))},_.$class_double=function(n,o){var a,i,s=this,l=t;return o=r.call(arguments,1),l=(null==(a=$.ObjectReference)?e.cm("ObjectReference"):a).$for(n),(a=s).$declare_verifying_double.apply(a,[null==(i=$.ClassVerifyingDouble)?e.cm("ClassVerifyingDouble"):i,l].concat(o))},_.$object_double=function(n,o){var a,i,s=this,l=t;return o=r.call(arguments,1),l=(null==(a=$.ObjectReference)?e.cm("ObjectReference"):a).$for(n,"allow_direct_object_refs"),(a=s).$declare_verifying_double.apply(a,[null==(i=$.ObjectVerifyingDouble)?e.cm("ObjectVerifyingDouble"):i,l].concat(o))},_.$allow_message_expectations_on_nil=function(){var n,r;return(null==(n=(null==(r=$.RSpec)?e.cm("RSpec"):r)._scope).Mocks?n.cm("Mocks"):n.Mocks).$space().$proxy_for(t)["$warn_about_expectations="](!1)},_.$stub_const=function(n,t,r){var o;return null==r&&(r=a([],{})),(null==(o=$.ConstantMutator)?e.cm("ConstantMutator"):o).$stub(n,t,r)},_.$hide_const=function(n){var t;return(null==(t=$.ConstantMutator)?e.cm("ConstantMutator"):t).$hide(n)},_.$have_received=c=function(n){var r,o,a,i,s=c._p,l=s||t;return c._p=null,(r=(o=null==(a=(null==(i=$.Matchers)?e.cm("Matchers"):i)._scope).HaveReceived?a.cm("HaveReceived"):a.HaveReceived).$new,r._p=l.$to_proc(),r).call(o,n)},e.defs(u,"$included",function(n){var r,o,a,i=this;return(r=(o=n).$class_exec,r._p=(a=function(){var n,r=a._s||this;return(n=r["$method_defined?"]("expect"))===t||n._isBoolean&&1!=n?r.$include(null==(n=$.ExpectHost)?e.cm("ExpectHost"):n):t},a._s=i,a),r).call(o)}),u.$private(),_.$declare_verifying_double=function(n,o,a){var i,s,l,c,u=this;return a=r.call(arguments,2),s=(null==(l=(null==(c=$.RSpec)?e.cm("RSpec"):c)._scope).Mocks?l.cm("Mocks"):l.Mocks).$configuration()["$verify_doubled_constant_names?"](),(i=s!==!1&&s!==t?o["$defined?"]()["$!"]():s)===t||i._isBoolean&&1!=i||u.$raise(null==(i=$.NameError)?e.cm("NameError"):i,(""+o.$name()+" is not a defined constant. ")["$+"]("Perhaps you misspelt it? ")["$+"]("Disable check with verify_doubled_constant_names configuration option.")),(i=u).$declare_double.apply(i,[n,o].concat(a))},_.$declare_double=function(n,o){var i,s;return o=r.call(arguments,1),((i=(null==(s=$.Hash)?e.cm("Hash"):s)["$==="](o.$last()))===t||i._isBoolean&&1!=i)&&o["$<<"](a([],{})),(i=n).$new.apply(i,[].concat(o))},function(e){var n=o(e,"ExpectHost");n._proto,n._scope}(u),e.donate(u,["$double","$instance_double","$class_double","$object_double","$allow_message_expectations_on_nil","$stub_const","$hide_const","$have_received","$declare_verifying_double","$declare_double"])}(i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=e.slice,a=e.module,i=e.klass,s=e.hash2;return e.add_stubs(["$new","$==","$orig_object","$object","$message","$expectation_ordering","$space","$[]=","$attr_reader","$method_double_for","$null_object?","$!","$add_default_stub","$add_expectation","$to_proc","$add_simple_expectation","$build_expectation","$any?","$expectations","$raise_expectation_on_mocked_method","$stubs","$raise_expectation_on_unstubbed_method","$each","$matches?","$invoke","$call","$matches_name_but_not_args","$raise_unexpected_message_args_error","$add_stub","$add_simple_stub","$remove_stub","$remove_single_stub","$each_value","$verify","$reset","$clear","$detect","$negative_expectation_for?","$invoked","$<<","$record_message_received","$find_matching_expectation","$find_matching_method_stub","$called_max_times?","$actual_received_count_matters?","$increase_actual_received_count!","$find_almost_matching_expectation","$expected_messages_received?","$advise","$has_negative_expectation?","$find_almost_matching_stub","$raise_missing_default_stub_error","$===","$__send__","$superclass","$raise_unexpected_message_error","$private","$[]","$to_sym","$find_best_matching_expectation_for","$find","$any_instance_class_recorder_observing_method?","$class","$build_alias_method_name","$any_instance_recorder_for","$method_handle_for","$configure_method","$already_observing?","$nil?"]),function(n){var l=a(n,"RSpec");
l._proto,l._scope,function(n){var l,c=a(n,"Mocks"),u=(c._proto,c._scope);!function(n,$super){function a(){}var l,c,u,_,$,p,d,f,m,h,v,g=a=i(n,$super,"Proxy",a),b=g._proto,x=g._scope;return b.null_object=b.object=b.error_generator=b.expectation_ordering=b.messages_received=b.method_doubles=b.order_group=t,e.cdecl(x,"SpecificMessage",(l=(c=null==(_=x.Struct)?e.cm("Struct"):_).$new,l._p=(u=function(){var n=u._s||this;return e.defn(n,"$==",function(e){var n,t=this;return(n=e.$orig_object()["$=="](t.$object()))?e.$message()["$=="](t.$message()):n}),t},u._s=g,u),l).call(c,"object","message")),b.$initialize=function(n,r,o,a){var i,l,c,u,_=this;return null==o&&(o=t),null==a&&(a=s([],{})),_.object=n,_.order_group=r,_.name=o,_.error_generator=(null==(i=x.ErrorGenerator)?e.cm("ErrorGenerator"):i).$new(n,o),_.expectation_ordering=(null==(i=(null==(l=x.RSpec)?e.cm("RSpec"):l)._scope).Mocks?i.cm("Mocks"):i.Mocks).$space().$expectation_ordering(),_.messages_received=[],_.options=a,_.null_object=!1,_.method_doubles=(i=(l=null==(u=x.Hash)?e.cm("Hash"):u).$new,i._p=(c=function(n,r){var o,a=c._s||this;return null==a.object&&(a.object=t),null==n&&(n=t),null==r&&(r=t),n["$[]="](r,(null==(o=x.MethodDouble)?e.cm("MethodDouble"):o).$new(a.object,r,a))},c._s=_,c),i).call(l)},g.$attr_reader("object"),b["$null_object?"]=function(){var e=this;return e.null_object},b.$as_null_object=function(){var e=this;return e.null_object=!0,e.object},b.$method_handle_for=function(){return t},b.$add_message_expectation=$=function(e,n,r){var o,a,i,l,c=this,u=$._p,_=u||t,p=t;return null==r&&(r=s([],{})),$._p=null,p=c.$method_double_for(n),a=c["$null_object?"](),(o=a!==!1&&a!==t?_["$!"]():a)===t||o._isBoolean&&1!=o||(o=(a=p).$add_default_stub,o._p=(i=function(){var e=i._s||this;return null==e.object&&(e.object=t),e.object},i._s=c,i),o).call(a,c.error_generator,c.expectation_ordering,e,r),(o=(l=p).$add_expectation,o._p=_.$to_proc(),o).call(l,c.error_generator,c.expectation_ordering,e,r)},b.$add_simple_expectation=function(e,n,t){var r=this;return r.$method_double_for(e).$add_simple_expectation(e,n,r.error_generator,t)},b.$build_expectation=function(e){var n=this,r=t;return r=n.$method_double_for(e),r.$build_expectation(n.error_generator,n.expectation_ordering)},b.$replay_received_message_on=p=function(e){var n,r,o,a=this,i=p._p,s=i||t,l=t,c=t;return p._p=null,l=e.$message(),c=a.$method_double_for(l),(n=c.$expectations()["$any?"]())===t||n._isBoolean&&1!=n||a.error_generator.$raise_expectation_on_mocked_method(l),((n=(r=a["$null_object?"]())!==!1&&r!==t?r:c.$stubs()["$any?"]())===t||n._isBoolean&&1!=n)&&a.error_generator.$raise_expectation_on_unstubbed_method(l),(n=(r=a.messages_received).$each,n._p=(o=function(n,r,a){var i,l;return o._s||this,null==n&&(n=t),null==r&&(r=t),null==a&&(a=t),(i=(l=e)["$matches?"].apply(l,[n].concat(r)))===t||i._isBoolean&&1!=i?t:(e.$invoke(t),s!==!1&&s!==t?(i=s).$call.apply(i,[].concat(r)):t)},o._s=a,o),n).call(r)},b.$check_for_unexpected_arguments=function(e){var n,r,o,a=this;return(n=(r=a.messages_received).$each,n._p=(o=function(n,r,a){var i,s,l=o._s||this;return null==n&&(n=t),null==r&&(r=t),null==a&&(a=t),(i=(s=e).$matches_name_but_not_args.apply(s,[n].concat(r)))===t||i._isBoolean&&1!=i?t:(i=l).$raise_unexpected_message_args_error.apply(i,[e].concat(r))},o._s=a,o),n).call(r)},b.$add_stub=d=function(e,n,r){var o,a,i=this,l=d._p,c=l||t;return null==r&&(r=s([],{})),d._p=null,(o=(a=i.$method_double_for(n)).$add_stub,o._p=c.$to_proc(),o).call(a,i.error_generator,i.expectation_ordering,e,r)},b.$add_simple_stub=function(e,n){var t=this;return t.$method_double_for(e).$add_simple_stub(e,n)},b.$remove_stub=function(e){var n=this;return n.$method_double_for(e).$remove_stub()},b.$remove_single_stub=function(e,n){var t=this;return t.$method_double_for(e).$remove_single_stub(n)},b.$verify=function(){var e,n,r,o=this;try{return(e=(n=o.method_doubles).$each_value,e._p=(r=function(e){return r._s||this,null==e&&(e=t),e.$verify()},r._s=o,r),e).call(n)}finally{o.$reset()}},b.$reset=function(){var e,n,r,o=this;return(e=(n=o.method_doubles).$each_value,e._p=(r=function(e){return r._s||this,null==e&&(e=t),e.$reset()},r._s=o,r),e).call(n),o.messages_received.$clear()},b["$received_message?"]=f=function(e,n){var r,a,i,s=this,l=f._p,c=l||t;return n=o.call(arguments,1),f._p=null,(r=(a=s.messages_received)["$any?"],r._p=(i=function(r){return i._s||this,null==r&&(r=t),r["$=="]([e,n,c])},i._s=s,i),r).call(a)},b["$has_negative_expectation?"]=function(e){var n,r,o,a=this;return(n=(r=a.$method_double_for(e).$expectations()).$detect,n._p=(o=function(n){return o._s||this,null==n&&(n=t),n["$negative_expectation_for?"](e)},o._s=a,o),n).call(r)},b.$record_message_received=m=function(n,r){var a,i=this,s=m._p,l=s||t;return r=o.call(arguments,1),m._p=null,i.order_group.$invoked((null==(a=x.SpecificMessage)?e.cm("SpecificMessage"):a).$new(i.$object(),n)),i.messages_received["$<<"]([n,r,l])},b.$message_received=h=function(n,r){var a,i,s,l,c,u,_,$,p,d,f,m,v,g,b,y,k=this,E=h._p,S=E||t,w=t,R=t;return r=o.call(arguments,1),h._p=null,(a=(i=k).$record_message_received,a._p=S.$to_proc(),a).apply(i,[n].concat(r)),w=(a=k).$find_matching_expectation.apply(a,[n].concat(r)),R=(s=k).$find_matching_method_stub.apply(s,[n].concat(r)),u=(_=R!==!1&&R!==t)?w:_,(l=(c=u!==!1&&u!==t?w["$called_max_times?"]():u)!==!1&&c!==t?c:(u=R!==!1&&R!==t)?w["$!"]():u)===t||l._isBoolean&&1!=l?w!==!1&&w!==t?(u=($=w).$invoke,u._p=S.$to_proc(),u).apply($,[R].concat(r)):(u=w=(p=k).$find_almost_matching_expectation.apply(p,[n].concat(r)))===t||u._isBoolean&&1!=u?(f=R=(m=k).$find_almost_matching_stub.apply(m,[n].concat(r)))===t||f._isBoolean&&1!=f?(g=(null==(b=x.Class)?e.cm("Class"):b)["$==="](k.object))===t||g._isBoolean&&1!=g?(g=(y=k.object).$__send__,g._p=S.$to_proc(),g).apply(y,["method_missing",n].concat(r)):(g=(b=k.object.$superclass()).$__send__,g._p=S.$to_proc(),g).apply(b,[n].concat(r)):((f=R).$advise.apply(f,[].concat(r)),(v=k).$raise_missing_default_stub_error.apply(v,[R].concat(r))):(((u=w["$expected_messages_received?"]())===t||u._isBoolean&&1!=u)&&((u=k["$null_object?"]())===t||u._isBoolean&&1!=u||(u=w).$advise.apply(u,[].concat(r))),(d=(f=k["$has_negative_expectation?"](n))!==!1&&f!==t?f:k["$null_object?"]())===t||d._isBoolean&&1!=d?(d=k).$raise_unexpected_message_args_error.apply(d,[w].concat(r)):t):((l=(c=w!==!1&&w!==t)?w["$actual_received_count_matters?"]():c)===t||l._isBoolean&&1!=l||w["$increase_actual_received_count!"](),(l=w=(c=k).$find_almost_matching_expectation.apply(c,[n].concat(r)))===t||l._isBoolean&&1!=l||((l=w["$expected_messages_received?"]())===t||l._isBoolean&&1!=l)&&(l=w).$advise.apply(l,[].concat(r)),(u=(_=R).$invoke,u._p=S.$to_proc(),u).apply(_,[t].concat(r)))},b.$raise_unexpected_message_error=function(e,n){var t,r=this;return n=o.call(arguments,1),(t=r.error_generator).$raise_unexpected_message_error.apply(t,[e].concat(n))},b.$raise_unexpected_message_args_error=function(e,n){var t,r=this;return n=o.call(arguments,1),(t=r.error_generator).$raise_unexpected_message_args_error.apply(t,[e].concat(n))},b.$raise_missing_default_stub_error=function(e,n){var t,r=this;return n=o.call(arguments,1),(t=r.error_generator).$raise_missing_default_stub_error.apply(t,[e].concat(n))},g.$private(),b.$method_double_for=function(e){var n=this;return n.method_doubles["$[]"](e.$to_sym())},b.$find_matching_expectation=function(e,n){var r,a,i,s=this;return n=o.call(arguments,1),(r=(a=s).$find_best_matching_expectation_for,r._p=(i=function(r){var o;return i._s||this,null==r&&(r=t),(o=r)["$matches?"].apply(o,[e].concat(n))},i._s=s,i),r).call(a,e)},b.$find_almost_matching_expectation=function(e,n){var r,a,i,s=this;return n=o.call(arguments,1),(r=(a=s).$find_best_matching_expectation_for,r._p=(i=function(r){var o;return i._s||this,null==r&&(r=t),(o=r).$matches_name_but_not_args.apply(o,[e].concat(n))},i._s=s,i),r).call(a,e)},b.$find_best_matching_expectation_for=v=function(n){try{var o,a,i,s=this,l=v._p,c=l||t,u=t;return v._p=null,u=t,(o=(a=s.$method_double_for(n).$expectations()).$each,o._p=(i=function(n){var o,a;return i._s||this,null==n&&(n=t),(o=(a=e.$yield1(c,n))===r?r.$v:a)===t||o._isBoolean&&1!=o?t:(((o=n["$called_max_times?"]())===t||o._isBoolean&&1!=o)&&e.$return(n),(o=u)!==!1&&o!==t?o:u=n)},i._s=s,i),o).call(a),u}catch(_){if(_===e.returner)return _.$v;throw _}},b.$find_matching_method_stub=function(e,n){var r,a,i,s=this;return n=o.call(arguments,1),(r=(a=s.$method_double_for(e).$stubs()).$find,r._p=(i=function(r){var o;return i._s||this,null==r&&(r=t),(o=r)["$matches?"].apply(o,[e].concat(n))},i._s=s,i),r).call(a)},b.$find_almost_matching_stub=function(e,n){var r,a,i,s=this;return n=o.call(arguments,1),(r=(a=s.$method_double_for(e).$stubs()).$find,r._p=(i=function(r){var o;return i._s||this,null==r&&(r=t),(o=r).$matches_name_but_not_args.apply(o,[e].concat(n))},i._s=s,i),r).call(a)},t}(c,null),function(n,$super){function r(){}var a,s,l=r=i(n,$super,"PartialMockProxy",r),c=l._proto,u=l._scope;return c.object=t,c.$method_handle_for=function(n){var r,o,a=this;try{return(r=a["$any_instance_class_recorder_observing_method?"](a.object.$class(),n))===t||r._isBoolean&&1!=r||(n=(null==(r=(null==(o=e.Object._scope.RSpec)?e.cm("RSpec"):o)._scope).Mocks?r.cm("Mocks"):r.Mocks).$any_instance_recorder_for(a.object.$class()).$build_alias_method_name(n)),(null==(r=(null==(o=e.Object._scope.RSpec)?e.cm("RSpec"):o)._scope).Mocks?r.cm("Mocks"):r.Mocks).$method_handle_for(a.object,n)}catch(i){if((null==(r=u.NameError)?e.cm("NameError"):r)["$==="](i))return t;throw i}},c.$add_simple_expectation=a=function(n){var t=o.call(arguments,0),r=this,i=a._p;return a._p=null,r.$method_double_for(n).$configure_method(),e.find_super_dispatcher(r,"add_simple_expectation",a,i).apply(r,t)},c.$add_simple_stub=s=function(n){var t=o.call(arguments,0),r=this,a=s._p;return s._p=null,r.$method_double_for(n).$configure_method(),e.find_super_dispatcher(r,"add_simple_stub",s,a).apply(r,t)},l.$private(),c["$any_instance_class_recorder_observing_method?"]=function(n,r){var o,a,i,s=this,l=t;return(o=(null==(a=(null==(i=e.Object._scope.RSpec)?e.cm("RSpec"):i)._scope).Mocks?a.cm("Mocks"):a.Mocks).$any_instance_recorder_for(n)["$already_observing?"](r))===t||o._isBoolean&&1!=o?(l=n.$superclass(),(o=l["$nil?"]())===t||o._isBoolean&&1!=o?s["$any_instance_class_recorder_observing_method?"](l,r):!1):!0},t}(c,null==(l=u.Proxy)?e.cm("Proxy"):l)}(l)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass,i=e.hash2;return e.add_stubs(["$attr_accessor","$warn_about_expectations?","$warn","$private","$first_non_rspec_line"]),function(n){var s=o(n,"RSpec");s._proto,s._scope,function(n){var s,l=o(n,"Mocks"),c=(l._proto,l._scope);!function(n,$super){function o(){}var s,l,c,u,_=o=a(n,$super,"ProxyForNil",o),$=_._proto,p=_._scope;return $.$initialize=s=function(n){var r=this;return s._p,s._p=null,r.warn_about_expectations=!0,e.find_super_dispatcher(r,"initialize",s,null).apply(r,[t,n])},_.$attr_accessor("warn_about_expectations"),e.defn(_,"$warn_about_expectations?",$.$warn_about_expectations),$.$add_message_expectation=l=function(n,o,a){var s,c=r.call(arguments,0),u=this,_=l._p;return null==a&&(a=i([],{})),l._p=null,(s=u["$warn_about_expectations?"]())===t||s._isBoolean&&1!=s||u.$warn(o),e.find_super_dispatcher(u,"add_message_expectation",l,_).apply(u,c)},$.$add_negative_message_expectation=c=function(n,o){var a,i=r.call(arguments,0),s=this,l=c._p;return c._p=null,(a=s["$warn_about_expectations?"]())===t||a._isBoolean&&1!=a||s.$warn(o),e.find_super_dispatcher(s,"add_negative_message_expectation",c,l).apply(s,i)},$.$add_stub=u=function(n,o,a){var s,l=r.call(arguments,0),c=this,_=u._p;return null==a&&(a=i([],{})),u._p=null,(s=c["$warn_about_expectations?"]())===t||s._isBoolean&&1!=s||c.$warn(o),e.find_super_dispatcher(c,"add_stub",u,_).apply(c,l)},_.$private(),$.$warn=function(n){var r,o=t;return o=(null==(r=p.CallerFilter)?e.cm("CallerFilter"):r).$first_non_rspec_line(),(null==(r=p.Kernel)?e.cm("Kernel"):r).$warn("An expectation of :"+n+" was set on nil. Called from "+o+". Use allow_message_expectations_on_nil to disable warnings.")},t}(l,null==(s=c.Proxy)?e.cm("Proxy"):s)}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.hash2;return e.add_stubs(["$extend","$send","$__initialize_as_test_double","$as_null_object","$__mock_proxy","$null_object?","$==","$class","$sprintf","$object_id","$inspect","$gsub","$alias_method","$new","$private","$===","$empty?","$assign_stubs","$record_message_received","$to_proc","$include?","$raise","$raise_unexpected_message_error","$each_pair","$add_simple_stub","$proxy_for"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Mocks");i._proto,i._scope,function(n){var i,s,l=o(n,"TestDouble"),c=l._proto,u=l._scope;e.defs(l,"$extend_onto",function(e,n,r){var o=this;return null==n&&(n=t),null==r&&(r=a([],{})),e.$extend(o),e.$send("__initialize_as_test_double",n,r)}),c.$initialize=function(e,n){var r=this;return null==e&&(e=t),null==n&&(n=a([],{})),r.$__initialize_as_test_double(e,n)},c.$as_null_object=function(){var e=this;return e.$__mock_proxy().$as_null_object()},c["$null_object?"]=function(){var e=this;return e.$__mock_proxy()["$null_object?"]()},c["$=="]=function(e){var n=this;return e["$=="](n.$__mock_proxy())},c.$inspect=function(){var e=this;return null==e.name&&(e.name=t),"#<"+e.$class()+":"+e.$sprintf("0x%x",e.$object_id())+" @name="+e.name.$inspect()+">"},c.$to_s=function(){var e=this;return e.$inspect().$gsub("<","[").$gsub(">","]")},l.$alias_method("to_str","to_s"),c["$respond_to?"]=i=function(n,o){var a,s=r.call(arguments,0),l=this,c=i._p;return null==o&&(o=!1),i._p=null,(a=l.$__mock_proxy()["$null_object?"]())===t||a._isBoolean&&1!=a?e.find_super_dispatcher(l,"respond_to?",i,c).apply(l,s):!0},c.$__build_mock_proxy=function(n){var r,o=this;return null==o.name&&(o.name=t),(null==(r=u.Proxy)?e.cm("Proxy"):r).$new(o,n,o.name)},l.$private(),c.$__initialize_as_test_double=function(n,r){var o,i,s,l=this;return null==n&&(n=t),null==r&&(r=a([],{})),i=(null==(s=u.Hash)?e.cm("Hash"):s)["$==="](n),(o=i!==!1&&i!==t?r["$empty?"]():i)===t||o._isBoolean&&1!=o?l.name=n:(r=n,l.name=t),l.$assign_stubs(r)},c.$method_missing=s=function(n,o){var a,i,l=r.call(arguments,0),c=this,_=s._p,$=_||t,p=t;if(o=r.call(arguments,1),s._p=null,(a=c.$__mock_proxy()["$null_object?"]())!==t&&(!a._isBoolean||1==a)){if(p=n,"to_int"["$==="](p))return 0;if("to_a"["$==="](p)||"to_ary"["$==="](p))return t}(a=(i=c.$__mock_proxy()).$record_message_received,a._p=$.$to_proc(),a).apply(i,[n].concat(o));try{return(a=c.$__mock_proxy()["$null_object?"]())===t||a._isBoolean&&1!=a?e.find_super_dispatcher(c,"method_missing",s,_).apply(c,l):c}catch(d){if((null==(a=u.NameError)?e.cm("NameError"):a)["$==="](d))return(a=["to_a","to_ary"]["$include?"](n))===t||a._isBoolean&&1!=a||c.$raise(null==(a=u.NoMethodError)?e.cm("NoMethodError"):a),(a=c.$__mock_proxy()).$raise_unexpected_message_error.apply(a,[n].concat(o));throw d}},c.$assign_stubs=function(e){var n,r,o,a=this;return(n=(r=e).$each_pair,n._p=(o=function(e,n){var r=o._s||this;return null==e&&(e=t),null==n&&(n=t),r.$__mock_proxy().$add_simple_stub(e,n)},o._s=a,o),n).call(r)},c.$__mock_proxy=function(){var n,t,r=this;return(null==(n=(null==(t=e.Object._scope.RSpec)?e.cm("RSpec"):t)._scope).Mocks?n.cm("Mocks"):n.Mocks).$proxy_for(r)},e.donate(l,["$initialize","$as_null_object","$null_object?","$==","$inspect","$to_s","$respond_to?","$__build_mock_proxy","$__initialize_as_test_double","$method_missing","$assign_stubs","$__mock_proxy"])}(i)}(i)}(n)}(Opal),function(e){var n=e.top,t=(e.nil,e.breaker,e.slice,e.module),r=e.klass;return e.add_stubs(["$include"]),function(n){var o=t(n,"RSpec");o._proto,o._scope,function(n){var o=t(n,"Mocks");o._proto,o._scope,function(n,$super){function t(){}var o,a=t=r(n,$super,"Mock",t),i=(a._proto,a._scope);return a.$include(null==(o=i.TestDouble)?e.cm("TestDouble"):o)}(o,null)}(o)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass;return e.add_stubs(["$attr_reader","$empty?","$first","$===","$collect","$matcher_for","$match_any_args?","$block_passes?","$matchers_match?","$private","$is_matcher?","$new","$respond_to?","$any?","$call","$=="]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Mocks");i._proto,i._scope,function(n,$super){function o(){}var i,s,l,c=o=a(n,$super,"ArgumentListMatcher",o),u=c._proto,_=c._scope;return u.block=u.matchers=u.match_any_args=t,c.$attr_reader("expected_args"),u.$initialize=i=function(n){var o,a,s,l=this,c=i._p,u=c||t,$=t;return n=r.call(arguments,0),i._p=null,l.expected_args=n,l.block=function(){return(o=n["$empty?"]())===t||o._isBoolean&&1!=o?t:u}(),l.match_any_args=!1,l.matchers=t,function(){return $=n.$first(),(null==(o=(null==(a=_.ArgumentMatchers)?e.cm("ArgumentMatchers"):a)._scope).AnyArgsMatcher?o.cm("AnyArgsMatcher"):o.AnyArgsMatcher)["$==="]($)?l.match_any_args=!0:l.matchers=(null==(o=(null==(a=_.ArgumentMatchers)?e.cm("ArgumentMatchers"):a)._scope).NoArgsMatcher?o.cm("NoArgsMatcher"):o.NoArgsMatcher)["$==="]($)?[]:(o=(a=n).$collect,o._p=(s=function(e){var n=s._s||this;return null==e&&(e=t),n.$matcher_for(e)},s._s=l,s),o).call(a)}()},u["$args_match?"]=function(e){var n,o,a,i=this;return e=r.call(arguments,0),(n=(o=i["$match_any_args?"]())!==!1&&o!==t?o:(a=i)["$block_passes?"].apply(a,[].concat(e)))!==!1&&n!==t?n:(o=i)["$matchers_match?"].apply(o,[].concat(e))},c.$private(),u.$matcher_for=function(n){var r,o,a=this;return(r=a["$is_matcher?"](n))===t||r._isBoolean&&1!=r?(r=(null==(o=_.Regexp)?e.cm("Regexp"):o)["$==="](n))===t||r._isBoolean&&1!=r?(null==(r=(null==(o=_.ArgumentMatchers)?e.cm("ArgumentMatchers"):o)._scope).EqualityProxy?r.cm("EqualityProxy"):r.EqualityProxy).$new(n):(null==(r=(null==(o=_.ArgumentMatchers)?e.cm("ArgumentMatchers"):o)._scope).RegexpMatcher?r.cm("RegexpMatcher"):r.RegexpMatcher).$new(n):(null==(r=(null==(o=_.ArgumentMatchers)?e.cm("ArgumentMatchers"):o)._scope).MatcherMatcher?r.cm("MatcherMatcher"):r.MatcherMatcher).$new(n)},u["$is_matcher?"]=function(e){var n,r,o,a,i=this;return(n=e["$respond_to?"]("i_respond_to_everything_so_im_not_really_a_matcher"))===t||n._isBoolean&&1!=n?(n=(r=(o=["failure_message_for_should","failure_message"])["$any?"],r._p=(a=function(n){return a._s||this,null==n&&(n=t),e["$respond_to?"](n)},a._s=i,a),r).call(o),n!==!1&&n!==t?e["$respond_to?"]("matches?"):n):!1},u["$block_passes?"]=function(e){var n,o=this;return e=r.call(arguments,0),(n=o.block)===t||n._isBoolean&&1!=n?t:(n=o.block).$call.apply(n,[].concat(e))},u["$matchers_match?"]=function(e){var n=this;return e=r.call(arguments,0),n.matchers["$=="](e)},u["$match_any_args?"]=function(){var e=this;return e.match_any_args},e.cdecl(_,"MATCH_ALL",c.$new((null==(s=(null==(l=_.ArgumentMatchers)?e.cm("ArgumentMatchers"):l)._scope).AnyArgsMatcher?s.cm("AnyArgsMatcher"):s.AnyArgsMatcher).$new()))}(i,null)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=e.slice,a=e.module,i=e.klass,s=e.hash2;return e.add_stubs(["$==","$line","$raise_expectation_error","$attr_accessor","$attr_reader","$attr_writer","$protected","$opts=","$object","$method_name","$register","$new","$inner_implementation_action=","$expected_args","$negative?","$raise","$ignoring_args?","$max","$size","$terminal_implementation_action=","$===","$raise_only_valid_on_a_partial_mock","$inner_action","$implementation","$warning","$original_method","$respond_to?","$exception","$throw","$<<","$initial_implementation_action=","$args_match?","$yield_receiver_to_implementation_block?","$unshift","$orig_object","$+","$expectation_count_type","$handle_order_constraint","$present?","$call","$to_proc","$invoke","$!","$>","$>=","$expected_messages_received?","$failed_fast?","$generate_error","$matches_exact_count?","$matches_at_least_count?","$matches_at_most_count?","$verify_invocation_order","$<=","$similar_messages","$empty?","$raise_similar_message_args_error","$describe_expectation","$raise_out_of_order_error","$set_expected_received_count","$raise_double_negation_error","$private","$initial_action=","$inner_action=","$terminal_action=","$nil?","$raise_missing_block_error","$each","$arity","$length","$raise_wrong_arity_error","$instance_exec","$shift","$first","$last","$map","$actions","$any?","$compact","$initial_action","$terminal_action","$cannot_modify_further_error","$insert","$backtrace"]),function(n){var l=a(n,"RSpec");l._proto,l._scope,function(n){var l=a(n,"Mocks");l._proto,l._scope,function(n,$super){function r(){}var a=r=i(n,$super,"SimpleMessageExpectation",r),s=a._proto,l=a._scope;return s.response=s.message=s.backtrace_line=t,s.$initialize=function(e,n,r,o){var a,i=this;return null==o&&(o=t),a=[e,n,r,o],i.message=a[0],i.response=a[1],i.error_generator=a[2],i.backtrace_line=a[3],i.received=!1},s.$invoke=function(e){var n=this;return e=o.call(arguments,0),n.received=!0,n.response},s["$matches?"]=function(e,n){var t=this;return n=o.call(arguments,1),t.message["$=="](e)},s["$called_max_times?"]=function(){return!1},s.$verify_messages_received=function(){var n,r,o,a,i=this;return(n=(r=null==(a=l.InsertOntoBacktrace)?e.cm("InsertOntoBacktrace"):a).$line,n._p=(o=function(){var n,r,a=o._s||this;return null==a.received&&(a.received=t),null==a.error_generator&&(a.error_generator=t),null==a.message&&(a.message=t),(n=a.received)===t||n._isBoolean&&1!=n?a.error_generator.$raise_expectation_error(a.message,1,null==(n=(null==(r=l.ArgumentListMatcher)?e.cm("ArgumentListMatcher"):r)._scope).MATCH_ALL?n.cm("MATCH_ALL"):n.MATCH_ALL,0,t):t},o._s=i,o),n).call(r,i.backtrace_line)},t}(l,null),function(n,$super){function a(){}var l,c,u,_,$,p,d,f,m,h,v,g,b=a=i(n,$super,"MessageExpectation",a),x=b._proto,y=b._scope;return x.error_generator=x.method_double=x.order_group=x.argument_list_matcher=x.expected_received_count=x.at_least=x.yield_receiver_to_implementation_block=x.args_to_yield=x.eval_context=x.message=x.exactly=x.at_most=x.actual_received_count=x.expected_from=x.ordered=x.similar_messages=x.failed_fast=t,b.$attr_accessor("error_generator","implementation"),b.$attr_reader("message"),b.$attr_reader("orig_object"),b.$attr_writer("expected_received_count","expected_from","argument_list_matcher"),b.$protected("expected_received_count=","expected_from=","error_generator","error_generator=","implementation="),x.$initialize=l=function(n,r,o,a,i,c){var u,_,$=this,p=l._p,d=p||t;return null==i&&(i=1),null==c&&(c=s([],{})),l._p=null,$.error_generator=n,$.error_generator["$opts="](c),$.expected_from=o,$.method_double=a,$.orig_object=$.method_double.$object(),$.message=$.method_double.$method_name(),$.actual_received_count=0,$.expected_received_count=i,$.argument_list_matcher=null==(u=(null==(_=y.ArgumentListMatcher)?e.cm("ArgumentListMatcher"):_)._scope).MATCH_ALL?u.cm("MATCH_ALL"):u.MATCH_ALL,$.order_group=r,$.order_group.$register($),$.ordered=!1,$.at_least=$.at_most=$.exactly=t,$.args_to_yield=[],$.failed_fast=t,$.eval_context=t,$.yield_receiver_to_implementation_block=!1,$.implementation=(null==(u=y.Implementation)?e.cm("Implementation"):u).$new(),$["$inner_implementation_action="](d)},x.$expected_args=function(){var e=this;return e.argument_list_matcher.$expected_args()},x.$and_return=c=function(n){var r,a,i,s=this,l=c._p,u=l||t;return n=o.call(arguments,0),c._p=null,(r=s["$negative?"]())===t||r._isBoolean&&1!=r?(((r=(a=s["$ignoring_args?"]())!==!1&&a!==t?a:(i=s.expected_received_count["$=="](0))?s.at_least:i)===t||r._isBoolean&&1!=r)&&(s.expected_received_count=[s.expected_received_count,n.$size()].$max()),u!==!1&&u!==t?s["$inner_implementation_action="](u):s["$terminal_implementation_action="]((null==(r=y.AndReturnImplementation)?e.cm("AndReturnImplementation"):r).$new(n)),t):s.$raise("`and_return` is not supported with negative message expectations")},x.$and_yield_receiver_to_implementation=function(){var e=this;return e.yield_receiver_to_implementation_block=!0,e},x["$yield_receiver_to_implementation_block?"]=function(){var e=this;return e.yield_receiver_to_implementation_block},x.$and_call_original=function(){var n,r,o,a,i=this;return(n=(null==(r=(null==(o=(null==(a=y.RSpec)?e.cm("RSpec"):a)._scope).Mocks?o.cm("Mocks"):o.Mocks)._scope).TestDouble?r.cm("TestDouble"):r.TestDouble)["$==="](i.method_double.$object()))===t||n._isBoolean&&1!=n?((n=i.$implementation().$inner_action())===t||n._isBoolean&&1!=n||(null==(n=y.RSpec)?e.cm("RSpec"):n).$warning("You're overriding a previous implementation for this stub"),i.implementation=(null==(n=y.AndCallOriginalImplementation)?e.cm("AndCallOriginalImplementation"):n).$new(i.method_double.$original_method()),i.yield_receiver_to_implementation_block=!1):i.error_generator.$raise_only_valid_on_a_partial_mock("and_call_original")},x.$and_raise=function(n,r){var o,a,i,s,l=this;return null==n&&(n=null==(o=y.RuntimeError)?e.cm("RuntimeError"):o),null==r&&(r=t),(o=n["$respond_to?"]("exception"))===t||o._isBoolean&&1!=o||(n=function(){return r!==!1&&r!==t?n.$exception(r):n.$exception()}()),l["$terminal_implementation_action="]((o=(a=null==(s=y.Proc)?e.cm("Proc"):s).$new,o._p=(i=function(){var e=i._s||this;return e.$raise(n)},i._s=l,i),o).call(a)),t},x.$and_throw=function(n){var r,a,i,s,l=this;return n=o.call(arguments,0),l["$terminal_implementation_action="]((r=(a=null==(s=y.Proc)?e.cm("Proc"):s).$new,r._p=(i=function(){var e,t=i._s||this;return(e=t).$throw.apply(e,[].concat(n))},i._s=l,i),r).call(a)),t},x.$and_yield=u=function(n){var a,i=this,s=u._p,l=s||t;return n=o.call(arguments,0),u._p=null,l!==!1&&l!==t&&e.$yield1(l,i.eval_context=(null==(a=y.Object)?e.cm("Object"):a).$new())===r?r.$v:(i.args_to_yield["$<<"](n),i["$initial_implementation_action="]((null==(a=y.AndYieldImplementation)?e.cm("AndYieldImplementation"):a).$new(i.args_to_yield,i.eval_context,i.error_generator)),i)},x["$matches?"]=function(e,n){var t,r,a=this;return n=o.call(arguments,1),(t=a.message["$=="](e))?(r=a.argument_list_matcher)["$args_match?"].apply(r,[].concat(n)):t},x.$invoke=_=function(e,n){var r,a,i,s,l=this,c=_._p,u=c||t;n=o.call(arguments,1),_._p=null,(r=l["$yield_receiver_to_implementation_block?"]())===t||r._isBoolean&&1!=r||n.$unshift(l.$orig_object()),(r=(a=l["$negative?"]())!==!1&&a!==t?a:(i=(s=l.exactly)!==!1&&s!==t?s:l.at_most,i!==!1&&i!==t?l.actual_received_count["$=="](l.expected_received_count):i))===t||r._isBoolean&&1!=r||(l.actual_received_count=l.actual_received_count["$+"](1),l.failed_fast=!0,(r=l.error_generator).$raise_expectation_error.apply(r,[l.message,l.expected_received_count,l.argument_list_matcher,l.actual_received_count,l.$expectation_count_type()].concat(n))),l.order_group.$handle_order_constraint(l);try{return(a=l.$implementation()["$present?"]())===t||a._isBoolean&&1!=a?e!==!1&&e!==t?(a=(s=e).$invoke,a._p=u.$to_proc(),a).apply(s,[t].concat(n)):t:(a=(i=l.$implementation()).$call,a._p=u.$to_proc(),a).apply(i,[].concat(n))}finally{l.actual_received_count=l.actual_received_count["$+"](1)}},x["$negative?"]=function(){var e,n=this;return(e=n.expected_received_count["$=="](0))?n.at_least["$!"]():e},x["$called_max_times?"]=function(){var e,n,r,o=this;return r=o.expected_received_count["$=="]("any")["$!"](),n=r!==!1&&r!==t?o.at_least["$!"]():r,e=n!==!1&&n!==t?o.expected_received_count["$>"](0):n,e!==!1&&e!==t?o.actual_received_count["$>="](o.expected_received_count):e},x.$matches_name_but_not_args=function(e,n){var t,r,a=this;return n=o.call(arguments,1),(t=a.message["$=="](e))?(r=a.argument_list_matcher)["$args_match?"].apply(r,[].concat(n))["$!"]():t},x.$verify_messages_received=function(){var n,r,o,a,i=this;return(n=(r=null==(a=y.InsertOntoBacktrace)?e.cm("InsertOntoBacktrace"):a).$line,n._p=(o=function(){var e,n,r=o._s||this;return(e=(n=r["$expected_messages_received?"]())!==!1&&n!==t?n:r["$failed_fast?"]())===t||e._isBoolean&&1!=e?r.$generate_error():t},o._s=i,o),n).call(r,i.expected_from)},x["$expected_messages_received?"]=function(){var e,n,r,o=this;return(e=(n=(r=o["$ignoring_args?"]())!==!1&&r!==t?r:o["$matches_exact_count?"]())!==!1&&n!==t?n:o["$matches_at_least_count?"]())!==!1&&e!==t?e:o["$matches_at_most_count?"]()},x["$ensure_expected_ordering_received!"]=function(){var e,n=this;return(e=n.ordered)===t||e._isBoolean&&1!=e||n.order_group.$verify_invocation_order(n),!0},x["$ignoring_args?"]=function(){var e=this;return e.expected_received_count["$=="]("any")},x["$matches_at_least_count?"]=function(){var e,n=this;return e=n.at_least,e!==!1&&e!==t?n.actual_received_count["$>="](n.expected_received_count):e},x["$matches_at_most_count?"]=function(){var e,n=this;return e=n.at_most,e!==!1&&e!==t?n.actual_received_count["$<="](n.expected_received_count):e},x["$matches_exact_count?"]=function(){var e=this;return e.expected_received_count["$=="](e.actual_received_count)},x.$similar_messages=function(){var e,n=this;return(e=n.similar_messages)!==!1&&e!==t?e:n.similar_messages=[]},x.$advise=function(e){var n=this;return e=o.call(arguments,0),n.$similar_messages()["$<<"](e)},x.$generate_error=function(){var e,n,r=this;return(e=r.$similar_messages()["$empty?"]())===t||e._isBoolean&&1!=e?(n=r.error_generator).$raise_similar_message_args_error.apply(n,[r].concat(r.similar_messages)):(e=r.error_generator).$raise_expectation_error.apply(e,[r.message,r.expected_received_count,r.argument_list_matcher,r.actual_received_count,r.$expectation_count_type()].concat(r.$expected_args()))},x.$expectation_count_type=function(){var e,n=this;return(e=n.at_least)===t||e._isBoolean&&1!=e?(e=n.at_most)===t||e._isBoolean&&1!=e?t:"at_most":"at_least"},x.$description=function(){var e,n=this;return(e=n.error_generator).$describe_expectation.apply(e,[n.message,n.expected_received_count,n.actual_received_count].concat(n.$expected_args()))},x.$raise_out_of_order_error=function(){var e=this;return e.error_generator.$raise_out_of_order_error(e.message)},x.$with=$=function(n){var r,a,i=this,s=$._p,l=s||t;return n=o.call(arguments,0),$._p=null,(r=n["$empty?"]())===t||r._isBoolean&&1!=r||i.$raise(null==(r=y.ArgumentError)?e.cm("ArgumentError"):r,"`with` must have at least one argument. Use `no_args` matcher to set the expectation of receiving no arguments."),i["$inner_implementation_action="](l),i.argument_list_matcher=(r=null==(a=y.ArgumentListMatcher)?e.cm("ArgumentListMatcher"):a).$new.apply(r,[].concat(n)),i},x.$exactly=p=function(e){var n=this,r=p._p,o=r||t;return p._p=null,n["$inner_implementation_action="](o),n.$set_expected_received_count("exactly",e),n},x.$at_least=d=function(e){var n=this,r=d._p,o=r||t;return d._p=null,n.$set_expected_received_count("at_least",e),e["$=="](0)&&n.$raise("at_least(0) has been removed, use allow(...).to receive(:message) instead"),n["$inner_implementation_action="](o),n},x.$at_most=f=function(e){var n=this,r=f._p,o=r||t;return f._p=null,n["$inner_implementation_action="](o),n.$set_expected_received_count("at_most",e),n},x.$times=m=function(){var e=this,n=m._p,r=n||t;return m._p=null,e["$inner_implementation_action="](r),e},x.$never=function(){var n,r=this;return(n=r["$negative?"]())===t||n._isBoolean&&1!=n||(null==(n=y.ErrorGenerator)?e.cm("ErrorGenerator"):n).$raise_double_negation_error("expect(obj)"),r.expected_received_count=0,r},x.$once=h=function(){var e=this,n=h._p,r=n||t;return h._p=null,e["$inner_implementation_action="](r),e.$set_expected_received_count("exactly",1),e},x.$twice=v=function(){var e=this,n=v._p,r=n||t;return v._p=null,e["$inner_implementation_action="](r),e.$set_expected_received_count("exactly",2),e},x.$ordered=g=function(){var e=this,n=g._p,r=n||t;return g._p=null,e["$inner_implementation_action="](r),e.ordered=!0,e},x["$ordered?"]=function(){var e=this;return e.ordered},x["$negative_expectation_for?"]=function(e){var n,t=this;return(n=t.message["$=="](e))?t["$negative?"]():n},x["$actual_received_count_matters?"]=function(){var e,n,r=this;return(e=(n=r.at_least)!==!1&&n!==t?n:r.at_most)!==!1&&e!==t?e:r.exactly},x["$increase_actual_received_count!"]=function(){var e=this;return e.actual_received_count=e.actual_received_count["$+"](1)},b.$private(),x["$failed_fast?"]=function(){var e=this;return e.failed_fast},x.$set_expected_received_count=function(n,r){var o,a=this,i=t;return a.at_least=n["$=="]("at_least"),a.at_most=n["$=="]("at_most"),a.exactly=n["$=="]("exactly"),a.expected_received_count=function(){return i=r,(null==(o=y.Numeric)?e.cm("Numeric"):o)["$==="](i)?r:"once"["$==="](i)?1:"twice"["$==="](i)?2:t}()},x["$initial_implementation_action="]=function(e){var n=this;return n.$implementation()["$initial_action="](e)},x["$inner_implementation_action="]=function(n){var r,o=this;return(r=o.$implementation().$inner_action())===t||r._isBoolean&&1!=r||(null==(r=y.RSpec)?e.cm("RSpec"):r).$warning("You're overriding a previous implementation for this stub"),n!==!1&&n!==t?o.$implementation()["$inner_action="](n):t
},x["$terminal_implementation_action="]=function(e){var n=this;return n.$implementation()["$terminal_action="](e)},t}(l,null),function(e,$super){function n(){}var r,a=n=i(e,$super,"AndYieldImplementation",n),s=a._proto;return a._scope,s.args_to_yield=s.eval_context=s.error_generator=t,s.$initialize=function(e,n,t){var r=this;return r.args_to_yield=e,r.eval_context=n,r.error_generator=t},s.$call=r=function(e){var n,a,i,s=this,l=r._p,c=l||t,u=t;return e=o.call(arguments,0),r._p=null,a=s.args_to_yield["$empty?"](),(n=a!==!1&&a!==t?s.eval_context["$nil?"]():a)===t||n._isBoolean&&1!=n?(c!==!1&&c!==t||s.error_generator.$raise_missing_block_error(s.args_to_yield),u=t,(n=(a=s.args_to_yield).$each,n._p=(i=function(e){var n,r,o=i._s||this;return null==o.error_generator&&(o.error_generator=t),null==o.eval_context&&(o.eval_context=t),null==e&&(e=t),(n=(r=c.$arity()["$>"](-1))?e.$length()["$=="](c.$arity())["$!"]():r)===t||n._isBoolean&&1!=n||o.error_generator.$raise_wrong_arity_error(e,c.$arity()),u=function(){return(n=o.eval_context)===t||n._isBoolean&&1!=n?(n=c).$call.apply(n,[].concat(e)):(n=(r=o.eval_context).$instance_exec,n._p=c.$to_proc(),n).apply(r,[].concat(e))}()},i._s=s,i),n).call(a),u):t},t}(l,null),function(e,$super){function n(){}var r,a=n=i(e,$super,"AndReturnImplementation",n),s=a._proto;return a._scope,s.values_to_return=t,s.$initialize=function(e){var n=this;return n.values_to_return=e},s.$call=r=function(e){var n=this;return r._p,e=o.call(arguments,0),r._p=null,n.values_to_return.$size()["$>"](1)?n.values_to_return.$shift():n.values_to_return.$first()},t}(l,null),function(e,$super){function n(){}var r,a=n=i(e,$super,"Implementation",n),s=a._proto;return a._scope,a.$attr_accessor("initial_action","inner_action","terminal_action"),s.$call=r=function(e){var n,a,i,s=this,l=r._p,c=l||t;return e=o.call(arguments,0),r._p=null,(n=(a=s.$actions()).$map,n._p=(i=function(n){var r,o;return i._s||this,null==n&&(n=t),(r=(o=n).$call,r._p=c.$to_proc(),r).apply(o,[].concat(e))},i._s=s,i),n).call(a).$last()},s["$present?"]=function(){var e=this;return e.$actions()["$any?"]()},a.$private(),s.$actions=function(){var e=this;return[e.$initial_action(),e.$inner_action(),e.$terminal_action()].$compact()},t}(l,null),function(n,$super){function r(){}var a,s,l=r=i(n,$super,"AndCallOriginalImplementation",r),c=l._proto,u=l._scope;return c.method=t,c.$initialize=function(e){var n=this;return n.method=e},e.cdecl(u,"CannotModifyFurtherError",(null==(a=u.Class)?e.cm("Class"):a).$new(null==(a=u.StandardError)?e.cm("StandardError"):a)),c["$initial_action="]=function(){var e=this;return e.$raise(e.$cannot_modify_further_error())},c["$inner_action="]=function(){var e=this;return e.$raise(e.$cannot_modify_further_error())},c["$terminal_action="]=function(){var e=this;return e.$raise(e.$cannot_modify_further_error())},c["$present?"]=function(){return!0},c.$inner_action=function(){return!0},c.$call=s=function(e){var n,r,a=this,i=s._p,l=i||t;return e=o.call(arguments,0),s._p=null,(n=(r=a.method).$call,n._p=l.$to_proc(),n).apply(r,[].concat(e))},l.$private(),c.$cannot_modify_further_error=function(){var n;return(null==(n=u.CannotModifyFurtherError)?e.cm("CannotModifyFurtherError"):n).$new("This method has already been configured "["$+"]("to call the original implementation, and cannot be modified further."))},t}(l,null),function(n,$super){function o(){}var a,s=o=i(n,$super,"InsertOntoBacktrace",o),l=(s._proto,s._scope);return e.defs(s,"$line",a=function(n){var o,i,s,c=a._p,u=c||t,_=t;a._p=null;try{return o=e.$yieldX(u,[]),o===r?o:o}catch($){if((null==(o=(null==(i=(null==(s=l.RSpec)?e.cm("RSpec"):s)._scope).Mocks?i.cm("Mocks"):i.Mocks)._scope).MockExpectationError?o.cm("MockExpectationError"):o.MockExpectationError)["$==="]($))return _=$,_.$backtrace().$insert(0,n),(null==(o=l.Kernel)?e.cm("Kernel"):o).$raise(_);throw $}}),t}(l,null)}(l)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass,a=e.range;return e.add_stubs(["$<<","$==","$find","$to_proc","$remaining_expectations","$each_with_index","$ordered?","$+","$include?","$ready_for?","$consume","$raise_out_of_order_error","$expectations_invoked_in_order?","$clear","$empty?","$private","$[]","$invoked_expectations","$expected_invocations","$select","$compact","$map","$expectation_for"]),function(n){var i=r(n,"RSpec");i._proto,i._scope,function(n){var i=r(n,"Mocks");i._proto,i._scope,function(n,$super){function r(){}var i=r=o(n,$super,"OrderGroup",r),s=i._proto;return i._scope,s.expectations=s.invocation_order=s.index=t,s.$initialize=function(){var e=this;return e.expectations=[],e.invocation_order=[],e.index=0},s.$register=function(e){var n=this;return n.expectations["$<<"](e)},s.$invoked=function(e){var n=this;return n.invocation_order["$<<"](e)},s["$ready_for?"]=function(e){var n,t,r=this;return(n=(t=r.$remaining_expectations()).$find,n._p="ordered?".$to_proc(),n).call(t)["$=="](e)},s.$consume=function(){try{var n,r,o,a=this;return(n=(r=a.$remaining_expectations()).$each_with_index,n._p=(o=function(n,r){var a,i=o._s||this;return null==i.index&&(i.index=t),null==n&&(n=t),null==r&&(r=t),(a=n["$ordered?"]())===t||a._isBoolean&&1!=a?t:(i.index=i.index["$+"](r["$+"](1)),e.$return(n),void 0)},o._s=a,o),n).call(r),t}catch(i){if(i===e.returner)return i.$v;throw i}},s.$handle_order_constraint=function(e){var n,r,o=this;return r=e["$ordered?"](),(n=r!==!1&&r!==t?o.$remaining_expectations()["$include?"](e):r)===t||n._isBoolean&&1!=n?t:(n=o["$ready_for?"](e))===t||n._isBoolean&&1!=n?e.$raise_out_of_order_error():o.$consume()},s.$verify_invocation_order=function(e){var n,r=this;return((n=r["$expectations_invoked_in_order?"]())===t||n._isBoolean&&1!=n)&&e.$raise_out_of_order_error(),!0},s.$clear=function(){var e=this;return e.index=0,e.invocation_order.$clear(),e.expectations.$clear()},s["$empty?"]=function(){var e=this;return e.expectations["$empty?"]()},i.$private(),s.$remaining_expectations=function(){var e,n=this;return(e=n.expectations["$[]"](a(n.index,-1,!1)))!==!1&&e!==t?e:[]},s["$expectations_invoked_in_order?"]=function(){var e=this;return e.$invoked_expectations()["$=="](e.$expected_invocations())},s.$invoked_expectations=function(){var e,n,r,o=this;return(e=(n=o.expectations).$select,e._p=(r=function(e){var n,o=r._s||this;return null==o.invocation_order&&(o.invocation_order=t),null==e&&(e=t),n=e["$ordered?"](),n!==!1&&n!==t?o.invocation_order["$include?"](e):n},r._s=o,r),e).call(n)},s.$expected_invocations=function(){var e,n,r,o=this;return(e=(n=o.invocation_order).$map,e._p=(r=function(e){var n=r._s||this;return null==e&&(e=t),n.$expectation_for(e)},r._s=o,r),e).call(n).$compact()},s.$expectation_for=function(e){var n,r,o,a=this;return(n=(r=a.expectations).$find,n._p=(o=function(n){return o._s||this,null==n&&(n=t),e["$=="](n)},o._s=a,o),n).call(r)},t}(i,null)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs([]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a,i=r(n,"Mocks"),s=(i._proto,i._scope);!function(e,$super){function n(){}var r=n=o(e,$super,"MockExpectationError",n);return r._proto,r._scope,t}(i,null==(a=s.Exception)?e.cm("Exception"):a),function(e,$super){function n(){}var r=n=o(e,$super,"AmbiguousReturnError",n);return r._proto,r._scope,t}(i,null==(a=s.StandardError)?e.cm("StandardError"):a)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass,i=e.hash2;return e.add_stubs(["$attr_writer","$__raise","$intro","$arg_message","$format_args","$expected_args","$format_received_args","$inspect","$message","$join","$collect","$expected_part_of_expectation_error","$received_part_of_expectation_error","$%","$description","$range_description","$+","$count_message","$method_call_args_description","$first","$===","$>","$length","$gsub","$arg_list","$raise","$private","$nil?","$[]","$opts","$empty?","$arg_has_valid_description","$respond_to?","$!","$received_arg_list","$to_proc","$<","$==","$pretty_print","$abs"]),function(n){var s=o(n,"RSpec");s._proto,s._scope,function(n){var s=o(n,"Mocks");s._proto,s._scope,function(n,$super){function o(){}var s=o=a(n,$super,"ErrorGenerator",o),l=s._proto,c=s._scope;return l.opts=l.name=l.target=t,s.$attr_writer("opts"),l.$initialize=function(e,n){var t=this;return t.target=e,t.name=n},l.$opts=function(){var e,n=this;return(e=n.opts)!==!1&&e!==t?e:n.opts=i([],{})},l.$raise_unexpected_message_error=function(e,n){var t,o=this;return n=r.call(arguments,1),o.$__raise(""+o.$intro()+" received unexpected message :"+e+(t=o).$arg_message.apply(t,[].concat(n)))},l.$raise_unexpected_message_args_error=function(e,n){var o,a,i=this,s=t,l=t;return n=r.call(arguments,1),s=(o=i).$format_args.apply(o,[].concat(e.$expected_args())),l=(a=i).$format_received_args.apply(a,[].concat(n)),i.$__raise(""+i.$intro()+" received "+e.$message().$inspect()+" with unexpected arguments\n  expected: "+s+"\n       got: "+l)},l.$raise_missing_default_stub_error=function(e,n){var o,a,i=this,s=t,l=t;return n=r.call(arguments,1),s=(o=i).$format_args.apply(o,[].concat(e.$expected_args())),l=(a=i).$format_received_args.apply(a,[].concat(n)),i.$__raise(""+i.$intro()+" received "+e.$message().$inspect()+" with unexpected arguments\n  expected: "+s+"\n       got: "+l+"\n Please stub a default value first if message might be received with other args as well. \n")},l.$raise_similar_message_args_error=function(e,n){var o,a,i,s,l=this,c=t,u=t;return n=r.call(arguments,1),c=(o=l).$format_args.apply(o,[].concat(e.$expected_args())),u=(a=(i=n).$collect,a._p=(s=function(e){var n,r=s._s||this;return null==e&&(e=t),(n=r).$format_received_args.apply(n,[].concat(e))},s._s=l,s),a).call(i).$join(", "),l.$__raise(""+l.$intro()+" received "+e.$message().$inspect()+" with unexpected arguments\n  expected: "+c+"\n       got: "+u)},l.$raise_expectation_error=function(e,n,o,a,i,s){var l,c,u=this,_=t,$=t;return s=r.call(arguments,5),_=u.$expected_part_of_expectation_error(n,i,o),$=(l=u).$received_part_of_expectation_error.apply(l,[a].concat(s)),u.$__raise("("+u.$intro()+")."+e+(c=u).$format_args.apply(c,[].concat(s))+"\n    "+_+"\n    "+$)},l.$raise_unimplemented_error=function(e,n){var t=this;return t.$__raise("%s does not implement:\n  %s"["$%"]([e.$description(),n]))},l.$raise_arity_error=function(e,n){var t=this;return t.$__raise("Wrong number of arguments. Expected %s, got %s."["$%"]([e.$range_description(),n]))},l.$received_part_of_expectation_error=function(e,n){var t=this;return n=r.call(arguments,1),("received: "+t.$count_message(e))["$+"](t.$method_call_args_description(n))},l.$expected_part_of_expectation_error=function(e,n,t){var r=this;return("expected: "+r.$count_message(e,n))["$+"](r.$method_call_args_description(t.$expected_args()))},l.$method_call_args_description=function(n){var r,o,a=t;return a=n.$first(),(null==(r=(null==(o=c.ArgumentMatchers)?e.cm("ArgumentMatchers"):o)._scope).AnyArgsMatcher?r.cm("AnyArgsMatcher"):r.AnyArgsMatcher)["$==="](a)?" with any arguments":(null==(r=(null==(o=c.ArgumentMatchers)?e.cm("ArgumentMatchers"):o)._scope).NoArgsMatcher?r.cm("NoArgsMatcher"):r.NoArgsMatcher)["$==="](a)?" with no arguments":n.$length()["$>"](0)?" with arguments: "+n.$inspect().$gsub(/\A\[(.+)\]\z/,"(\\1)"):""},l.$describe_expectation=function(e,n,t,o){var a,i=this;return o=r.call(arguments,3),"have received "+e+(a=i).$format_args.apply(a,[].concat(o))+" "+i.$count_message(n)},l.$raise_out_of_order_error=function(e){var n=this;return n.$__raise(""+n.$intro()+" received :"+e+" out of order")},l.$raise_block_failed_error=function(e,n){var t=this;return t.$__raise(""+t.$intro()+" received :"+e+" but passed block failed with: "+n)},l.$raise_missing_block_error=function(e){var n,t=this;return t.$__raise(""+t.$intro()+" asked to yield |"+(n=t).$arg_list.apply(n,[].concat(e))+"| but no block was passed")},l.$raise_wrong_arity_error=function(e,n){var t,r=this;return r.$__raise(""+r.$intro()+" yielded |"+(t=r).$arg_list.apply(t,[].concat(e))+"| to block with arity of "+n)},l.$raise_only_valid_on_a_partial_mock=function(e){var n=this;return n.$__raise((""+n.$intro()+" is a pure mock object. `"+e+"` is only ")["$+"]("available on a partial mock object."))},l.$raise_expectation_on_unstubbed_method=function(e){var n=this;return n.$__raise((""+n.$intro()+" expected to have received "+e+", but that ")["$+"]("method has not been stubbed."))},l.$raise_expectation_on_mocked_method=function(e){var n=this;return n.$__raise((""+n.$intro()+" expected to have received "+e+", but that ")["$+"]("method has been mocked instead of stubbed."))},e.defs(s,"$raise_double_negation_error",function(e){var n=this;return n.$raise("Isn't life confusing enough? You've already set a "["$+"]("negative message expectation and now you are trying to ")["$+"]("negate it again with `never`. What does an expression like ")["$+"]("`"+e+".not_to receive(:msg).never` even mean?"))}),s.$private(),l.$intro=function(){var n,r,o=this;return(n=o.name)===t||n._isBoolean&&1!=n?(n=(null==(r=c.TestDouble)?e.cm("TestDouble"):r)["$==="](o.target))===t||n._isBoolean&&1!=n?(n=(null==(r=c.Class)?e.cm("Class"):r)["$==="](o.target))===t||n._isBoolean&&1!=n?(n=o.target)===t||n._isBoolean&&1!=n?"nil":o.target:"<"+o.target.$inspect()+" (class)>":"Double":"Double "+o.name.$inspect()},l.$__raise=function(n){var r,o,a,i=this;return((r=i.$opts()["$[]"]("message")["$nil?"]())===t||r._isBoolean&&1!=r)&&(n=i.$opts()["$[]"]("message")),(null==(r=c.Kernel)?e.cm("Kernel"):r).$raise(null==(r=(null==(o=(null==(a=c.RSpec)?e.cm("RSpec"):a)._scope).Mocks?o.cm("Mocks"):o.Mocks)._scope).MockExpectationError?r.cm("MockExpectationError"):r.MockExpectationError,n)},l.$arg_message=function(e){var n,t=this;return e=r.call(arguments,0)," with "["$+"]((n=t).$format_args.apply(n,[].concat(e)))},l.$format_args=function(e){var n,o=this;return e=r.call(arguments,0),(n=e["$empty?"]())===t||n._isBoolean&&1!=n?"("["$+"]((n=o).$arg_list.apply(n,[].concat(e)))["$+"](")"):"(no args)"},l.$arg_list=function(e){var n,o,a,i=this;return e=r.call(arguments,0),(n=(o=e).$collect,n._p=(a=function(e){var n,r=a._s||this;return null==e&&(e=t),(n=r.$arg_has_valid_description(e))===t||n._isBoolean&&1!=n?e.$inspect():e.$description()},a._s=i,a),n).call(o).$join(", ")},l.$arg_has_valid_description=function(e){var n;return(n=e["$respond_to?"]("description"))===t||n._isBoolean&&1!=n?!1:(n=e.$description()["$nil?"]()["$!"](),n!==!1&&n!==t?e.$description()["$empty?"]()["$!"]():n)},l.$format_received_args=function(e){var n,o=this;return e=r.call(arguments,0),(n=e["$empty?"]())===t||n._isBoolean&&1!=n?"("["$+"]((n=o).$received_arg_list.apply(n,[].concat(e)))["$+"](")"):"(no args)"},l.$received_arg_list=function(e){var n,t;return e=r.call(arguments,0),(n=(t=e).$collect,n._p="inspect".$to_proc(),n).call(t).$join(", ")},l.$count_message=function(e,n){var r,o,a=this;return null==n&&(n=t),(r=(o=e["$<"](0))!==!1&&o!==t?o:n["$=="]("at_least"))===t||r._isBoolean&&1!=r?n["$=="]("at_most")?"at most "+a.$pretty_print(e):a.$pretty_print(e):"at least "+a.$pretty_print(e.$abs())},l.$pretty_print=function(e){return""+e+" time"+function(){return e["$=="](1)?"":"s"}()},t}(s,null)}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module);return e.add_stubs(["$gsub"]),function(n){var o=r(n,"SecureRandom");o._proto,o._scope,e.defs(o,"$uuid",function(){var e,n,r,o=this;return(e=(n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx").$gsub,e._p=(r=function(e){r._s||this,null==e&&(e=t);var n=0|16*Math.random(),o="x"==e?n:8|3&n;return o.toString(16)},r._s=o,r),e).call(n,/[xy]/)})}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass,a=e.hash2;return e.add_stubs(["$attr_reader","$each_value","$verify","$proxies","$any_instance_recorders","$reset_all","$reset","$clear","$expectation_ordering","$new","$__id__","$fetch","$[]=","$delete","$select","$===","$object","$values","$id_for","$__build_mock_proxy","$verify_partial_doubles?","$configuration","$has_key?","$!","$method_defined?","$equal?","$_id2ref","$instance_exec","$uuid"]),function(n){var i=r(n,"RSpec");i._proto,i._scope,function(n){var i=r(n,"Mocks");i._proto,i._scope,function(n,$super){function r(){}var i,s,l,c=r=o(n,$super,"Space",r),u=c._proto,_=c._scope;return u.expectation_ordering=t,c.$attr_reader("proxies","any_instance_recorders"),u.$initialize=function(){var e=this;return e.proxies=a([],{}),e.any_instance_recorders=a([],{})},u.$verify_all=function(){var e,n,r,o,a,i=this;return(e=(n=i.$proxies()).$each_value,e._p=(r=function(e){return r._s||this,null==e&&(e=t),e.$verify()},r._s=i,r),e).call(n),(e=(o=i.$any_instance_recorders()).$each_value,e._p=(a=function(e){return a._s||this,null==e&&(e=t),e.$verify()},a._s=i,a),e).call(o)},u.$reset_all=function(){var n,r,o,a=this;return(null==(n=_.ConstantMutator)?e.cm("ConstantMutator"):n).$reset_all(),(n=(r=a.$proxies()).$each_value,n._p=(o=function(e){return o._s||this,null==e&&(e=t),e.$reset()},o._s=a,o),n).call(r),a.$proxies().$clear(),a.$any_instance_recorders().$clear(),a.$expectation_ordering().$clear()},u.$expectation_ordering=function(){var n,r,o=this;return(n=o.expectation_ordering)!==!1&&n!==t?n:o.expectation_ordering=(null==(r=_.OrderGroup)?e.cm("OrderGroup"):r).$new()},u.$any_instance_recorder_for=function(n){var r,o,a,i=this,s=t;return s=n.$__id__(),(r=(o=i.$any_instance_recorders()).$fetch,r._p=(a=function(){var t,r,o=a._s||this;return o.$any_instance_recorders()["$[]="](s,(null==(t=(null==(r=_.AnyInstance)?e.cm("AnyInstance"):r)._scope).Recorder?t.cm("Recorder"):t.Recorder).$new(n))},a._s=i,a),r).call(o,s)},u.$remove_any_instance_recorder_for=function(e){var n=this;return n.$any_instance_recorders().$delete(e.$__id__())},u.$proxies_of=function(e){var n,r,o,a=this;return(n=(r=a.$proxies().$values()).$select,n._p=(o=function(n){return o._s||this,null==n&&(n=t),e["$==="](n.$object())},o._s=a,o),n).call(r)},u.$proxy_for=function(n){var r,o,a,i=this,s=t;return s=i.$id_for(n),(r=(o=i.$proxies()).$fetch,r._p=(a=function(){var r,o,i,l=a._s||this,c=t;return l.$proxies()["$[]="](s,function(){return c=n,(null==(r=_.NilClass)?e.cm("NilClass"):r)["$==="](c)?(null==(r=_.ProxyForNil)?e.cm("ProxyForNil"):r).$new(l.$expectation_ordering()):(null==(r=_.TestDouble)?e.cm("TestDouble"):r)["$==="](c)?n.$__build_mock_proxy(l.$expectation_ordering()):(r=(null==(o=(null==(i=_.RSpec)?e.cm("RSpec"):i)._scope).Mocks?o.cm("Mocks"):o.Mocks).$configuration()["$verify_partial_doubles?"]())===t||r._isBoolean&&1!=r?(null==(r=_.PartialMockProxy)?e.cm("PartialMockProxy"):r).$new(n,l.$expectation_ordering()):(null==(r=_.VerifyingPartialMockProxy)?e.cm("VerifyingPartialMockProxy"):r).$new(n,l.$expectation_ordering())}())},a._s=i,a),r).call(o,s)},e.defn(c,"$ensure_registered",u.$proxy_for),u["$registered?"]=function(e){var n=this;return n.$proxies()["$has_key?"](n.$id_for(e))},s=null==e.Object._scope.BasicObject?t:"constant",(i=s!==!1&&s!==t?(null==(l=e.Object._scope.BasicObject)?e.cm("BasicObject"):l)["$method_defined?"]("__id__")["$!"]():s)===t||i._isBoolean&&1!=i?(u.$id_for=function(e){return e.$__id__()},t):(u.$id_for=function(n){var r,o,a,i=this,s=t;return s=n.$__id__(),(r=n["$equal?"]((null==(o=e.Object._scope.ObjectSpace)?e.cm("ObjectSpace"):o).$_id2ref(s)))===t||r._isBoolean&&1!=r?(r=(o=n).$instance_exec,r._p=(a=function(){var n,r,o=a._s||this;return null==o.__id_for_rspec_mocks_space&&(o.__id_for_rspec_mocks_space=t),(n=o.__id_for_rspec_mocks_space)!==!1&&n!==t?n:o.__id_for_rspec_mocks_space=(null==(r=e.Object._scope.SecureRandom)?e.cm("SecureRandom"):r).$uuid()},a._s=i,a),r).call(o):s},t)}(i,null)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module;return e.add_stubs(["$nil?","$space","$!","$registered?","$===","$dump_without_mocks","$dup","$alias_method","$undef_method"]),function(n){var a=o(n,"Marshal");a._proto,a._scope,function(n){var o=n._scope;return n._proto,n._proto.$dump_with_mocks=function(n,a){var i,s,l,c,u,_=this;return a=r.call(arguments,1),(i=(s=(l=(null==(c=(null==(u=e.Object._scope.RSpec)?e.cm("RSpec"):u)._scope).Mocks?c.cm("Mocks"):c.Mocks).$space()["$nil?"]())!==!1&&l!==t?l:(null==(c=(null==(u=e.Object._scope.RSpec)?e.cm("RSpec"):u)._scope).Mocks?c.cm("Mocks"):c.Mocks).$space()["$registered?"](n)["$!"]())!==!1&&s!==t?s:(null==(l=o.NilClass)?e.cm("NilClass"):l)["$==="](n))===t||i._isBoolean&&1!=i?(s=_).$dump_without_mocks.apply(s,[n.$dup()].concat(a)):(i=_).$dump_without_mocks.apply(i,[n].concat(a))},n.$alias_method("dump_without_mocks","dump"),n.$undef_method("dump"),n.$alias_method("dump","dump_with_mocks")}(a.$singleton_class())}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass;return e.add_stubs(["$define_method","$record","$to_proc","$include","$create_message_expectation_on","$inject","$__send__","$last","$first","$messages","$any?","$==","$negated?","$raise_double_negation_error","$private","$empty?","$verify_invocation_order","$<<","$unshift"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Mocks");i._proto,i._scope,function(n){var i=o(n,"AnyInstance");i._proto,i._scope,function(n,$super){function i(){}var s,l,c,u,_=i=a(n,$super,"Chain",i),$=_._proto,p=_._scope;return $.messages=t,$.$initialize=s=function(e,n){var o=this,a=s._p,i=a||t;return n=r.call(arguments,1),s._p=null,o.recorder=e,o.expectation_args=n,o.expectation_block=i},function(n){var a=o(n,"Customizations");a._proto,a._scope,e.defs(a,"$record",function(e){var n,o,a,i=this;return(n=(o=i).$define_method,n._p=(a=function(n){var o,i,s,l=a._s||this;return n=r.call(arguments,0),o=a._p||t,a._p=null,(i=(s=l).$record,i._p=o.$to_proc(),i).apply(s,[e].concat(n))},a._s=i,a),n).call(o,e)}),a.$record("and_return"),a.$record("and_raise"),a.$record("and_throw"),a.$record("and_yield"),a.$record("and_call_original"),a.$record("with"),a.$record("once"),a.$record("twice"),a.$record("any_number_of_times"),a.$record("exactly"),a.$record("times"),a.$record("never"),a.$record("at_least"),a.$record("at_most")}(_),_.$include(null==(l=p.Customizations)?e.cm("Customizations"):l),$["$playback!"]=function(e){var n,r,o,a=this,i=t;return i=a.$create_message_expectation_on(e),(n=(r=a.$messages()).$inject,n._p=(o=function(e,n){var r,a;return o._s||this,null==e&&(e=t),null==n&&(n=t),(r=(a=e).$__send__,r._p=n.$last().$to_proc(),r).apply(a,[].concat(n.$first()))},o._s=a,o),n).call(r,i)},$["$constrained_to_any_of?"]=function(e){var n,o,a,i=this;return e=r.call(arguments,0),(n=(o=e)["$any?"],n._p=(a=function(e){var n,r,o,i=a._s||this;return null==e&&(e=t),(n=(r=i.$messages())["$any?"],n._p=(o=function(n){return o._s||this,null==n&&(n=t),n.$first().$first()["$=="](e)},o._s=i,o),n).call(r)},a._s=i,a),n).call(o)},$["$expectation_fulfilled!"]=function(){var e=this;return e.expectation_fulfilled=!0},$.$never=c=function(){var n,o=r.call(arguments,0),a=this,i=c._p;return c._p=null,(n=a["$negated?"]())===t||n._isBoolean&&1!=n||(null==(n=p.ErrorGenerator)?e.cm("ErrorGenerator"):n).$raise_double_negation_error("expect_any_instance_of(MyClass)"),e.find_super_dispatcher(a,"never",c,i).apply(a,o)},_.$private(),$["$negated?"]=function(){var e,n,r,o=this;return(e=(n=o.$messages())["$any?"],e._p=(r=function(e,n){return r._s||this,message=e[0],null==n&&(n=t),message["$=="]("never")},r._s=o,r),e).call(n)},$.$messages=function(){var e,n=this;return(e=n.messages)!==!1&&e!==t?e:n.messages=[]},$.$last_message=function(){var e,n=this;return(e=n.$messages()["$empty?"]())===t||e._isBoolean&&1!=e?n.$messages().$last().$first().$first():t},$.$record=u=function(e,n){var o,a,i=this,s=u._p,l=s||t;return n=r.call(arguments,1),u._p=null,(o=(a=i).$verify_invocation_order,o._p=l.$to_proc(),o).apply(a,[e].concat(n)),i.$messages()["$<<"]([n.$unshift(e),l]),i},t}(i,null)}(i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass,i=e.hash2;return e.add_stubs(["$private","$proxy_for","$add_stub","$to_proc","$<<","$[]","$stubs","$message","$yield_receiver_to_any_instance_implementation_blocks?","$configuration","$and_yield_receiver_to_implementation","$include?","$invocation_order","$last_message","$raise"]),function(n){var s=o(n,"RSpec");s._proto,s._scope,function(n){var s=o(n,"Mocks");s._proto,s._scope,function(n){var s,l=o(n,"AnyInstance"),c=(l._proto,l._scope);!function(n,$super){function o(){}var s,l=o=a(n,$super,"StubChain",o),c=l._proto,u=l._scope;return c.expectation_block=c.expectation_args=c.recorder=c.invocation_order=t,c["$expectation_fulfilled?"]=function(){return!0},l.$private(),c.$create_message_expectation_on=function(n){var r,o,a,i,s=this,l=t,c=t,_=t;return l=(null==(r=(null==(o=e.Object._scope.RSpec)?e.cm("RSpec"):o)._scope).Mocks?r.cm("Mocks"):r.Mocks).$proxy_for(n),c=null==(r=u.IGNORED_BACKTRACE_LINE)?e.cm("IGNORED_BACKTRACE_LINE"):r,_=(r=(o=l).$add_stub,r._p=s.expectation_block.$to_proc(),r).apply(o,[c].concat(s.expectation_args)),s.recorder.$stubs()["$[]"](_.$message())["$<<"](_),(r=(null==(a=(null==(i=u.RSpec)?e.cm("RSpec"):i)._scope).Mocks?a.cm("Mocks"):a.Mocks).$configuration()["$yield_receiver_to_any_instance_implementation_blocks?"]())===t||r._isBoolean&&1!=r||_.$and_yield_receiver_to_implementation(),_},c.$invocation_order=function(){var e,n=this;return(e=n.invocation_order)!==!1&&e!==t?e:n.invocation_order=i(["with","and_return","and_raise","and_yield","and_call_original"],{"with":[t],and_return:["with",t],and_raise:["with",t],and_yield:["with",t],and_call_original:["with",t]})},c.$verify_invocation_order=s=function(n,o){var a,i=this;return s._p,o=r.call(arguments,1),s._p=null,(a=i.$invocation_order()["$[]"](n)["$include?"](i.$last_message()))===t||a._isBoolean&&1!=a?i.$raise(null==(a=u.NoMethodError)?e.cm("NoMethodError"):a,"Undefined method "+n):t},t}(l,null==(s=c.Chain)?e.cm("Chain"):s)}(s)}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass,a=e.hash2;return e.add_stubs(["$private","$stub_chain_on","$to_proc"]),function(n){var i=r(n,"RSpec");i._proto,i._scope,function(n){var i=r(n,"Mocks");i._proto,i._scope,function(n){var i,s=r(n,"AnyInstance"),l=(s._proto,s._scope);!function(n,$super){function r(){}var i=r=o(n,$super,"StubChainChain",r),s=i._proto;return i._scope,s.expectation_block=s.expectation_args=s.invocation_order=t,i.$private(),s.$create_message_expectation_on=function(n){var t,r,o,a,i,s=this;return(t=(r=null==(o=(null==(a=(null==(i=e.Object._scope.RSpec)?e.cm("RSpec"):i)._scope).Mocks?a.cm("Mocks"):a.Mocks)._scope).StubChain?o.cm("StubChain"):o.StubChain).$stub_chain_on,t._p=s.expectation_block.$to_proc(),t).apply(r,[n].concat(s.expectation_args))},s.$invocation_order=function(){var e,n=this;return(e=n.invocation_order)!==!1&&e!==t?e:n.invocation_order=a(["and_return","and_raise","and_yield"],{and_return:[t],and_raise:[t],and_yield:[t]})},t}(s,null==(i=l.StubChain)?e.cm("StubChain"):i)}(i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass,i=e.hash2;return e.add_stubs(["$constrained_to_any_of?","$private","$proxy_for","$add_message_expectation","$to_proc","$yield_receiver_to_any_instance_implementation_blocks?","$configuration","$and_yield_receiver_to_implementation"]),function(n){var s=o(n,"RSpec");s._proto,s._scope,function(n){var s=o(n,"Mocks");s._proto,s._scope,function(n){var s,l=o(n,"AnyInstance"),c=(l._proto,l._scope);!function(n,$super){function o(){}var i,s,l=o=a(n,$super,"ExpectationChain",o),c=l._proto;return l._scope,c.expectation_fulfilled=t,c["$expectation_fulfilled?"]=function(){var e,n=this;return(e=n.expectation_fulfilled)!==!1&&e!==t?e:n["$constrained_to_any_of?"]("never","any_number_of_times")},c.$initialize=i=function(n){var t=r.call(arguments,0),o=this,a=i._p;return n=r.call(arguments,0),i._p=null,o.expectation_fulfilled=!1,e.find_super_dispatcher(o,"initialize",i,a).apply(o,t)},l.$private(),c.$verify_invocation_order=s=function(e,n){return s._p,n=r.call(arguments,1),s._p=null,t},t}(l,null==(s=c.Chain)?e.cm("Chain"):s),function(n,$super){function r(){}var o=r=a(n,$super,"PositiveExpectationChain",r),s=o._proto,l=o._scope;return s.expectation_block=s.expectation_args=s.invocation_order=t,o.$private(),s.$create_message_expectation_on=function(n){var r,o,a,i,s=this,c=t,u=t,_=t;return c=(null==(r=(null==(o=e.Object._scope.RSpec)?e.cm("RSpec"):o)._scope).Mocks?r.cm("Mocks"):r.Mocks).$proxy_for(n),u=null==(r=l.IGNORED_BACKTRACE_LINE)?e.cm("IGNORED_BACKTRACE_LINE"):r,_=(r=(o=c).$add_message_expectation,r._p=s.expectation_block.$to_proc(),r).apply(o,[u].concat(s.expectation_args)),(r=(null==(a=(null==(i=l.RSpec)?e.cm("RSpec"):i)._scope).Mocks?a.cm("Mocks"):a.Mocks).$configuration()["$yield_receiver_to_any_instance_implementation_blocks?"]())===t||r._isBoolean&&1!=r||_.$and_yield_receiver_to_implementation(),_},s.$invocation_order=function(){var e,n=this;return(e=n.invocation_order)!==!1&&e!==t?e:n.invocation_order=i(["with","and_return","and_raise"],{"with":[t],and_return:["with",t],and_raise:["with",t]})},t}(l,null==(s=c.ExpectationChain)?e.cm("ExpectationChain"):s)}(s)}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$new","$[]=","$[]","$<<","$reject!","$===","$find","$all?","$expectation_fulfilled?","$compact","$map","$last","$to_s","$each","$expectation_fulfilled!","$raise_if_second_instance_to_receive_message","$playback!","$private","$!","$equal?","$raise","$join","$sort","$unfulfilled_expectations"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Mocks");a._proto,a._scope,function(n){var a=r(n,"AnyInstance");a._proto,a._scope,function(n,$super){function r(){}var a=r=o(n,$super,"MessageChains",r),i=a._proto,s=a._scope;return i.chains_by_method_name=i.instance_with_expectation=t,i.$initialize=function(){var n,r,o,a,i=this;return i.chains_by_method_name=(n=(r=null==(a=s.Hash)?e.cm("Hash"):a).$new,n._p=(o=function(e,n){return o._s||this,null==e&&(e=t),null==n&&(n=t),e["$[]="](n,[])},o._s=i,o),n).call(r)},i["$[]"]=function(e){var n=this;return n.chains_by_method_name["$[]"](e)},i.$add=function(e,n){var t=this;return t.chains_by_method_name["$[]"](e)["$<<"](n),n},i["$remove_stub_chains_for!"]=function(n){var r,o,a,i=this;return(r=(o=i.chains_by_method_name["$[]"](n))["$reject!"],r._p=(a=function(n){var r;return a._s||this,null==n&&(n=t),(null==(r=s.StubChain)?e.cm("StubChain"):r)["$==="](n)},a._s=i,a),r).call(o)},i["$has_expectation?"]=function(n){var r,o,a,i=this;return(r=(o=i.chains_by_method_name["$[]"](n)).$find,r._p=(a=function(n){var r;return a._s||this,null==n&&(n=t),(null==(r=s.ExpectationChain)?e.cm("ExpectationChain"):r)["$==="](n)},a._s=i,a),r).call(o)},i["$all_expectations_fulfilled?"]=function(){var e,n,r,o=this;return(e=(n=o.chains_by_method_name)["$all?"],e._p=(r=function(e,n){var o,a,i,s=r._s||this;return null==e&&(e=t),null==n&&(n=t),(o=(a=n)["$all?"],o._p=(i=function(e){return i._s||this,null==e&&(e=t),e["$expectation_fulfilled?"]()},i._s=s,i),o).call(a)},r._s=o,r),e).call(n)},i.$unfulfilled_expectations=function(){var n,r,o,a=this;return(n=(r=a.chains_by_method_name).$map,n._p=(o=function(n,r){var a,i;return o._s||this,null==n&&(n=t),null==r&&(r=t),(a=r.$last()["$expectation_fulfilled?"]())===t||a._isBoolean&&1!=a?(a=(null==(i=s.ExpectationChain)?e.cm("ExpectationChain"):i)["$==="](r.$last()))===t||a._isBoolean&&1!=a?t:n.$to_s():t},o._s=a,o),n).call(r).$compact()},i["$received_expected_message!"]=function(e){var n,r,o,a=this;return(n=(r=a.chains_by_method_name["$[]"](e)).$each,n._p=(o=function(e){return o._s||this,null==e&&(e=t),e["$expectation_fulfilled!"]()},o._s=a,o),n).call(r)},i["$playback!"]=function(e,n){var r,o,a,i=this;return i.$raise_if_second_instance_to_receive_message(e),(r=(o=i.chains_by_method_name["$[]"](n)).$each,r._p=(a=function(n){return a._s||this,null==n&&(n=t),n["$playback!"](e)},a._s=i,a),r).call(o)},a.$private(),i.$raise_if_second_instance_to_receive_message=function(n){var r,o,a,i=this;return(r=(null==(o=s.ExpectationChain)?e.cm("ExpectationChain"):o)["$==="](n))===t||r._isBoolean&&1!=r||((r=i.instance_with_expectation)!==!1&&r!==t?r:i.instance_with_expectation=n),o=(null==(a=s.ExpectationChain)?e.cm("ExpectationChain"):a)["$==="](n),(r=o!==!1&&o!==t?i.instance_with_expectation["$equal?"](n)["$!"]():o)===t||r._isBoolean&&1!=r?t:i.$raise(null==(r=(null==(o=(null==(a=s.RSpec)?e.cm("RSpec"):a)._scope).Mocks?o.cm("Mocks"):o.Mocks)._scope).MockExpectationError?r.cm("MockExpectationError"):r.MockExpectationError,"Exactly one instance should have received the following message(s) but didn't: "+i.$unfulfilled_expectations().$sort().$join(", "))},t}(a,null)}(a)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=e.slice,a=e.module,i=e.klass,s=e.hash2;return e.add_stubs(["$attr_reader","$new","$[]=","$===","$each","$and_return","$stub","$observe!","$add","$message_chains","$to_proc","$normalize_chain","$never","$should_receive","$include?","$to_sym","$raise","$remove_stub_chains_for!","$remove_single_stub","$[]","$stubs","$proxies_of","$clear","$has_expectation?","$stop_observing!","$!","$all_expectations_fulfilled?","$join","$sort","$unfulfilled_expectations","$stop_all_observation!","$remove_any_instance_recorder_for","$space","$restore_method!","$ensure_registered","$playback!","$received_expected_message!","$private","$unshift","$reverse","$map","$split","$to_s","$shift","$first","$mark_invoked!","$public_protected_or_private_method_defined?","$build_alias_method_name","$restore_original_method!","$remove_dummy_method!","$class_exec","$remove_method","$alias_method","$method_defined?","$private_method_defined?","$delete","$verify_partial_doubles?","$configuration","$already_observing?","$<<","$backup_method!","$__send__","$owner","$method_handle_for","$any_instance_recorder_for","$instance_that_received","$inspect"]),function(n){var l=a(n,"RSpec");
l._proto,l._scope,function(n){var l=a(n,"Mocks");l._proto,l._scope,function(n){var l=a(n,"AnyInstance");l._proto,l._scope,function(n,$super){function a(){}var l,c,u,_,$,p=a=i(n,$super,"Recorder",a),d=p._proto,f=p._scope;return d.observed_methods=d.klass=d.expectation_set=d.played_methods=t,p.$attr_reader("message_chains","stubs","klass"),d.$initialize=function(n){var r,o,a,i,l=this;return l.message_chains=(null==(r=f.MessageChains)?e.cm("MessageChains"):r).$new(),l.stubs=(r=(o=null==(i=f.Hash)?e.cm("Hash"):i).$new,r._p=(a=function(e,n){return a._s||this,null==e&&(e=t),null==n&&(n=t),e["$[]="](n,[])},a._s=l,a),r).call(o),l.observed_methods=[],l.played_methods=s([],{}),l.klass=n,l.expectation_set=!1},d.$stub=l=function(n){var r,o,a,i,s,c=this,u=l._p,_=u||t;return l._p=null,(r=(null==(o=f.Hash)?e.cm("Hash"):o)["$==="](n))===t||r._isBoolean&&1!=r?(c["$observe!"](n),c.$message_chains().$add(n,(r=(i=null==(s=f.StubChain)?e.cm("StubChain"):s).$new,r._p=_.$to_proc(),r).call(i,c,n))):(r=(o=n).$each,r._p=(a=function(e,n){var r=a._s||this;return null==e&&(e=t),null==n&&(n=t),r.$stub(e).$and_return(n)},a._s=c,a),r).call(o)},d.$stub_chain=c=function(n){var r,a,i,s=this,l=c._p,u=l||t;return n=o.call(arguments,0),c._p=null,(r=(a=s).$normalize_chain,r._p=(i=function(n,r){var o,a,s,l=i._s||this;return null==n&&(n=t),null==r&&(r=t),l["$observe!"](n),l.$message_chains().$add(n,(o=(a=null==(s=f.StubChainChain)?e.cm("StubChainChain"):s).$new,o._p=u.$to_proc(),o).apply(a,[l].concat(r)))},i._s=s,i),r).apply(a,[].concat(n))},d.$should_receive=u=function(n){var r,o,a,i=this,s=u._p,l=s||t;return u._p=null,i.expectation_set=!0,i["$observe!"](n),i.$message_chains().$add(n,(r=(o=null==(a=f.PositiveExpectationChain)?e.cm("PositiveExpectationChain"):a).$new,r._p=l.$to_proc(),r).call(o,i,n))},d.$should_not_receive=_=function(e){var n,r,o=this,a=_._p,i=a||t;return _._p=null,(n=(r=o).$should_receive,n._p=i.$to_proc(),n).call(r,e).$never()},d.$unstub=function(n){var r,o,a,i,s,l=this;return((r=l.observed_methods["$include?"](n.$to_sym()))===t||r._isBoolean&&1!=r)&&l.$raise(null==(r=(null==(o=(null==(a=f.RSpec)?e.cm("RSpec"):a)._scope).Mocks?o.cm("Mocks"):o.Mocks)._scope).MockExpectationError?r.cm("MockExpectationError"):r.MockExpectationError,"The method `"+n+"` was not stubbed or was already unstubbed"),l.$message_chains()["$remove_stub_chains_for!"](n),(r=(o=(null==(a=(null==(s=e.Object._scope.RSpec)?e.cm("RSpec"):s)._scope).Mocks?a.cm("Mocks"):a.Mocks).$proxies_of(l.klass)).$each,r._p=(i=function(e){var r,o,a,s=i._s||this;return null==e&&(e=t),(r=(o=s.$stubs()["$[]"](n)).$each,r._p=(a=function(r){return a._s||this,null==r&&(r=t),e.$remove_single_stub(n,r)},a._s=s,a),r).call(o)},i._s=l,i),r).call(o),l.$stubs()["$[]"](n).$clear(),(r=l.$message_chains()["$has_expectation?"](n))===t||r._isBoolean&&1!=r?l["$stop_observing!"](n):t},d.$verify=function(){var n,r,o,a=this;try{return r=a.expectation_set,(n=r!==!1&&r!==t?a.$message_chains()["$all_expectations_fulfilled?"]()["$!"]():r)===t||n._isBoolean&&1!=n?t:a.$raise(null==(n=(null==(r=(null==(o=f.RSpec)?e.cm("RSpec"):o)._scope).Mocks?r.cm("Mocks"):r.Mocks)._scope).MockExpectationError?n.cm("MockExpectationError"):n.MockExpectationError,"Exactly one instance should have received the following message(s) but didn't: "+a.$message_chains().$unfulfilled_expectations().$sort().$join(", "))}finally{a["$stop_all_observation!"](),(null==(n=(null==(r=e.Object._scope.RSpec)?e.cm("RSpec"):r)._scope).Mocks?n.cm("Mocks"):n.Mocks).$space().$remove_any_instance_recorder_for(a.klass)}},d["$stop_all_observation!"]=function(){var e,n,r,o=this;return(e=(n=o.observed_methods).$each,e._p=(r=function(e){var n=r._s||this;return null==e&&(e=t),n["$restore_method!"](e)},r._s=o,r),e).call(n)},d["$playback!"]=function(n,r){var o,a,i=this;return(null==(o=(null==(a=f.RSpec)?e.cm("RSpec"):a)._scope).Mocks?o.cm("Mocks"):o.Mocks).$space().$ensure_registered(n),i.$message_chains()["$playback!"](n,r),i.played_methods["$[]="](r,n),(o=i.$message_chains()["$has_expectation?"](r))===t||o._isBoolean&&1!=o?t:i["$received_expected_message!"](r)},d.$instance_that_received=function(e){var n=this;return n.played_methods["$[]"](e)},d.$build_alias_method_name=function(e){return"__"+e+"_without_any_instance__"},d["$already_observing?"]=function(e){var n=this;return n.observed_methods["$include?"](e)},p.$private(),d.$normalize_chain=$=function(n){var a,i,s,l,c,u,_=this,p=$._p,d=p||t;return n=o.call(arguments,0),$._p=null,(a=(i=(l=(c=n.$shift().$to_s().$split(".")).$map,l._p=(u=function(e){return u._s||this,null==e&&(e=t),e.$to_sym()},u._s=_,u),l).call(c).$reverse()).$each,a._p=(s=function(e){return s._s||this,null==e&&(e=t),n.$unshift(e)},s._s=_,s),a).call(i),a=e.$yieldX(d,[n.$first(),n]),a===r?a:a},d["$received_expected_message!"]=function(e){var n=this;return n.$message_chains()["$received_expected_message!"](e),n["$restore_method!"](e),n["$mark_invoked!"](e)},d["$restore_method!"]=function(e){var n,r=this;return(n=r["$public_protected_or_private_method_defined?"](r.$build_alias_method_name(e)))===t||n._isBoolean&&1!=n?r["$remove_dummy_method!"](e):r["$restore_original_method!"](e)},d["$restore_original_method!"]=function(e){var n,r,o,a=this,i=t;return i=a.$build_alias_method_name(e),(n=(r=a.klass).$class_exec,n._p=(o=function(){var n=o._s||this;return n.$remove_method(e),n.$alias_method(e,i),n.$remove_method(i)},o._s=a,o),n).call(r)},d["$remove_dummy_method!"]=function(e){var n,t,r,o=this;return(n=(t=o.klass).$class_exec,n._p=(r=function(){var n=r._s||this;return n.$remove_method(e)},r._s=o,r),n).call(t)},d["$backup_method!"]=function(e){var n,r,o,a=this,i=t;return i=a.$build_alias_method_name(e),(n=a["$public_protected_or_private_method_defined?"](e))===t||n._isBoolean&&1!=n?t:(n=(r=a.klass).$class_exec,n._p=(o=function(){var n=o._s||this;return n.$alias_method(i,e)},o._s=a,o),n).call(r)},d["$public_protected_or_private_method_defined?"]=function(e){var n,r=this;return(n=r.klass["$method_defined?"](e))!==!1&&n!==t?n:r.klass["$private_method_defined?"](e)},d["$stop_observing!"]=function(e){var n=this;return n["$restore_method!"](e),n.observed_methods.$delete(e)},d["$observe!"]=function(n){var r,a,i,s,l=this;return(r=(null==(a=(null==(i=f.RSpec)?e.cm("RSpec"):i)._scope).Mocks?a.cm("Mocks"):a.Mocks).$configuration()["$verify_partial_doubles?"]())===t||r._isBoolean&&1!=r||((r=l.klass["$method_defined?"](n))===t||r._isBoolean&&1!=r)&&l.$raise(null==(r=f.MockExpectationError)?e.cm("MockExpectationError"):r),(r=l["$already_observing?"](n))===t||r._isBoolean&&1!=r||l["$stop_observing!"](n),l.observed_methods["$<<"](n),l["$backup_method!"](n),(r=(a=l.klass).$__send__,r._p=(s=function(r){var a,i,l,c=s._s||this,u=t;return r=o.call(arguments,0),a=s._p||t,s._p=null,u=(null==(i=(null==(l=e.Object._scope.RSpec)?e.cm("RSpec"):l)._scope).Mocks?i.cm("Mocks"):i.Mocks).$method_handle_for(c,n).$owner(),(null==(i=(null==(l=e.Object._scope.RSpec)?e.cm("RSpec"):l)._scope).Mocks?i.cm("Mocks"):i.Mocks).$any_instance_recorder_for(u)["$playback!"](c,n),(i=(l=c).$__send__,i._p=a.$to_proc(),i).apply(l,[n].concat(r))},s._s=l,s),r).call(a,"define_method",n)},d["$mark_invoked!"]=function(n){var r,a,i,s=this;return s["$backup_method!"](n),(r=(a=s.klass).$__send__,r._p=(i=function(r){var a,s,l,c,u=i._s||this,_=t,$=t;return r=o.call(arguments,0),a=i._p||t,i._p=null,_=(null==(s=(null==(l=e.Object._scope.RSpec)?e.cm("RSpec"):l)._scope).Mocks?s.cm("Mocks"):s.Mocks).$method_handle_for(u,n).$owner(),$=(null==(s=(null==(l=e.Object._scope.RSpec)?e.cm("RSpec"):l)._scope).Mocks?s.cm("Mocks"):s.Mocks).$any_instance_recorder_for(_).$instance_that_received(n),u.$raise(null==(s=(null==(l=(null==(c=f.RSpec)?e.cm("RSpec"):c)._scope).Mocks?l.cm("Mocks"):l.Mocks)._scope).MockExpectationError?s.cm("MockExpectationError"):s.MockExpectationError,"The message '"+n+"' was received by "+u.$inspect()+" but has already been received by "+$)},i._s=s,i),r).call(a,"define_method",n)},t}(l,null)}(l)}(l)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=e.slice,a=e.module,i=e.klass,s=e.hash2,l=e.hash;return e.add_stubs(["$==","$arity","$method","$const_defined?","$const_defined_on?","$const_get","$raise","$name","$select","$constants","$inject","$get_const_defined_on","$split","$normalize_const_name","$!","$===","$join","$sub","$extend","$attr_reader","$attr_accessor","$attr_writer","$class","$new","$previously_defined=","$recursive_const_defined?","$stubbed=","$hidden=","$previously_defined?","$original_value=","$recursive_const_get","$private_class_method","$find","$to_constant","$unmutated","$to_proc","$raise_on_invalid_const","$mutate","$fetch","$transfer_nested_constants?","$configuration","$include","$pop","$full_constant_name","$original_value","$__send__","$const_set","$verify_constants_to_transfer!","$transfer_nested_constants","$each","$respond_to?","$+","$map","$-","$constants_defined_on","$any?","$dup","$shift","$first","$register_mutator","$rspec_reset","$reverse","$mutators","$clear","$<<","$lambda"]),function(n){var c=a(n,"RSpec");c._proto,c._scope,function(n){var c,u=a(n,"Mocks"),_=(u._proto,u._scope);!function(n){var o,i,s=a(n,"RecursiveConstMethods"),l=s._proto,c=s._scope;(null==(o=c.Module)?e.cm("Module"):o).$method("const_defined?").$arity()["$=="](1)?(l["$const_defined_on?"]=function(e,n){return e["$const_defined?"](n)},l.$get_const_defined_on=function(n,r){var o,a=this;return(o=a["$const_defined_on?"](n,r))===t||o._isBoolean&&1!=o?a.$raise(null==(o=c.NameError)?e.cm("NameError"):o,"uninitialized constant "+n.$name()+"::"+r):n.$const_get(r)},l.$constants_defined_on=function(e){var n,r,o,a=this;return(n=(r=e.$constants()).$select,n._p=(o=function(n){var r=o._s||this;return null==n&&(n=t),r["$const_defined_on?"](e,n)},o._s=a,o),n).call(r)}):(l["$const_defined_on?"]=function(e,n){return e["$const_defined?"](n,!1)},l.$get_const_defined_on=function(e,n){return e.$const_get(n,!1)},l.$constants_defined_on=function(e){return e.$constants(!1)}),l.$recursive_const_get=function(n){var r,o,a,i,s=this;return(r=(o=s.$normalize_const_name(n).$split("::")).$inject,r._p=(a=function(e,n){var r=a._s||this;return null==e&&(e=t),null==n&&(n=t),r.$get_const_defined_on(e,n)},a._s=s,a),r).call(o,null==(i=c.Object)?e.cm("Object"):i)},l["$recursive_const_defined?"]=i=function(n){try{var o,a,s,l,u=this,_=i._p,$=_||t;return i._p=null,(o=(a=u.$normalize_const_name(n).$split("::")).$inject,o._p=(s=function(n,o){var a,i,n,l=s._s||this;return mod=n[0],full_name=n[1],null==o&&(o=t),(a=(i=$!==t)?(null==(n=c.Module)?e.cm("Module"):n)["$==="](mod)["$!"]():i)===t||a._isBoolean&&1!=a||e.$yieldX($,[full_name,o])!==r?(((a=l["$const_defined_on?"](mod,o))===t||a._isBoolean&&1!=a)&&e.$return(!1),[l.$get_const_defined_on(mod,o),[mod,o].$join("::")]):r.$v},s._s=u,s),o).call(a,[null==(l=c.Object)?e.cm("Object"):l,""])}catch(p){if(p===e.returner)return p.$v;throw p}},l.$normalize_const_name=function(e){return e.$sub(/\A::/,"")},e.donate(s,["$const_defined_on?","$get_const_defined_on","$constants_defined_on","$const_defined_on?","$get_const_defined_on","$constants_defined_on","$recursive_const_get","$recursive_const_defined?","$normalize_const_name"])}(u),function(n,$super){function r(){}var o,a=r=i(n,$super,"Constant",r),s=a._proto,l=a._scope;return s.previously_defined=s.stubbed=s.hidden=t,a.$extend(null==(o=l.RecursiveConstMethods)?e.cm("RecursiveConstMethods"):o),s.$initialize=function(e){var n=this;return n.name=e,n.previously_defined=!1,n.stubbed=!1,n.hidden=!1},a.$attr_reader("name"),a.$attr_accessor("original_value"),a.$attr_writer("previously_defined","stubbed","hidden"),s["$previously_defined?"]=function(){var e=this;return e.previously_defined},s["$mutated?"]=function(){var e,n=this;return(e=n.stubbed)!==!1&&e!==t?e:n.hidden},s["$stubbed?"]=function(){var e=this;return e.stubbed},s["$hidden?"]=function(){var e=this;return e.hidden},s.$to_s=function(){var e=this;return"#<"+e.$class().$name()+" "+e.$name()+">"},e.defn(a,"$inspect",s.$to_s),e.defs(a,"$unmutated",function(e){var n,r=this,o=t;return o=r.$new(e),o["$previously_defined="](r["$recursive_const_defined?"](e)),o["$stubbed="](!1),o["$hidden="](!1),(n=o["$previously_defined?"]())===t||n._isBoolean&&1!=n||o["$original_value="](r.$recursive_const_get(e)),o}),a.$private_class_method("unmutated"),e.defs(a,"$original",function(n){var r,o=this,a=t;return a=(null==(r=l.ConstantMutator)?e.cm("ConstantMutator"):r).$find(n),a!==!1&&a!==t?a.$to_constant():o.$unmutated(n)}),t}(u,null),function(n,$super){function a(){}var c,u=a=i(n,$super,"ConstantMutator",a),_=(u._proto,u._scope);return u.$extend(null==(c=_.RecursiveConstMethods)?e.cm("RecursiveConstMethods"):c),e.defs(u,"$stub",function(n,r,o){var a,i,l,c=this,u=t;return null==o&&(o=s([],{})),u=function(){return(a=(i=(l=c)["$recursive_const_defined?"],i._p=c.$raise_on_invalid_const().$to_proc(),i).call(l,n))===t||a._isBoolean&&1!=a?null==(a=_.UndefinedConstantSetter)?e.cm("UndefinedConstantSetter"):a:null==(a=_.DefinedConstantReplacer)?e.cm("DefinedConstantReplacer"):a}(),c.$mutate(u.$new(n,r,o.$fetch("transfer_nested_constants",(null==(a=(null==(i=_.RSpec)?e.cm("RSpec"):i)._scope).Mocks?a.cm("Mocks"):a.Mocks).$configuration()["$transfer_nested_constants?"]()))),r}),e.defs(u,"$hide",function(n){var r,o=this;return(r=o["$recursive_const_defined?"](n))===t||r._isBoolean&&1!=r?t:(o.$mutate((null==(r=_.ConstantHider)?e.cm("ConstantHider"):r).$new(n,t,s([],{}))),t)}),function(n,$super){function r(){}var o,a=r=i(n,$super,"BaseMutator",r),s=a._proto,l=a._scope;return s.full_constant_name=s.context_parts=t,a.$include(null==(o=l.RecursiveConstMethods)?e.cm("RecursiveConstMethods"):o),a.$attr_reader("original_value","full_constant_name"),s.$initialize=function(e,n,t){var r=this;return r.full_constant_name=r.$normalize_const_name(e),r.mutated_value=n,r.transfer_nested_constants=t,r.context_parts=r.full_constant_name.$split("::"),r.const_name=r.context_parts.$pop()},s.$to_constant=function(){var n,r=this,o=t;return o=(null==(n=l.Constant)?e.cm("Constant"):n).$new(r.$full_constant_name()),o["$original_value="](r.$original_value()),o},t}(u,null),function(n,$super){function r(){}var a,s=r=i(n,$super,"ConstantHider",r),l=s._proto;return s._scope,l.context_parts=l.context=l.const_name=l.original_value=t,l.$mutate=function(){var e=this;return e.context=e.$recursive_const_get(e.context_parts.$join("::")),e.original_value=e.$get_const_defined_on(e.context,e.const_name),e.context.$__send__("remove_const",e.const_name)},l.$to_constant=a=function(){var n=o.call(arguments,0),r=this,i=a._p,s=t;return a._p=null,s=e.find_super_dispatcher(r,"to_constant",a,i).apply(r,n),s["$hidden="](!0),s["$previously_defined="](!0),s},l.$rspec_reset=function(){var e=this;return e.context.$const_set(e.const_name,e.original_value)},t}(u,null==(c=_.BaseMutator)?e.cm("BaseMutator"):c),function(n,$super){function r(){}var a,s=r=i(n,$super,"DefinedConstantReplacer",r),c=s._proto,u=s._scope;return c.context_parts=c.context=c.const_name=c.mutated_value=c.original_value=c.transfer_nested_constants=c.full_constant_name=t,c.$mutate=function(){var e=this,n=t;return e.context=e.$recursive_const_get(e.context_parts.$join("::")),e.original_value=e.$get_const_defined_on(e.context,e.const_name),n=e["$verify_constants_to_transfer!"](),e.context.$__send__("remove_const",e.const_name),e.context.$const_set(e.const_name,e.mutated_value),e.$transfer_nested_constants(n)},c.$to_constant=a=function(){var n=o.call(arguments,0),r=this,i=a._p,s=t;return a._p=null,s=e.find_super_dispatcher(r,"to_constant",a,i).apply(r,n),s["$stubbed="](!0),s["$previously_defined="](!0),s},c.$rspec_reset=function(){var e=this;return e.context.$__send__("remove_const",e.const_name),e.context.$const_set(e.const_name,e.original_value)},c.$transfer_nested_constants=function(e){var n,r,o,a=this;return(n=(r=e).$each,n._p=(o=function(e){var n=o._s||this;return null==n.mutated_value&&(n.mutated_value=t),null==e&&(e=t),n.mutated_value.$const_set(e,n.$get_const_defined_on(n.$original_value(),e))},o._s=a,o),n).call(r)},c["$verify_constants_to_transfer!"]=function(){var n,r,o,a,i=this,s=t,c=t;return(n=i.transfer_nested_constants)===t||n._isBoolean&&1!=n?[]:((n=(r=l(i.original_value,"the original value",i.mutated_value,"the stubbed value")).$each,n._p=(o=function(n,r){var a,i=o._s||this;return null==i.full_constant_name&&(i.full_constant_name=t),null==n&&(n=t),null==r&&(r=t),(a=n["$respond_to?"]("constants"))===t||a._isBoolean&&1!=a?i.$raise(null==(a=u.ArgumentError)?e.cm("ArgumentError"):a,("Cannot transfer nested constants for "+i.full_constant_name+" ")["$+"]("since "+r+" is not a class or module and only classes ")["$+"]("and modules support nested constants.")):t},o._s=i,o),n).call(r),(n=(null==(a=u.Array)?e.cm("Array"):a)["$==="](i.transfer_nested_constants))===t||n._isBoolean&&1!=n?i.$constants_defined_on(i.original_value):((null==(n=u.RUBY_VERSION)?e.cm("RUBY_VERSION"):n)["$=="]("1.8.7")&&(i.transfer_nested_constants=(n=(a=i.transfer_nested_constants).$map,n._p="to_s".$to_proc(),n).call(a)),s=i.transfer_nested_constants["$-"](i.$constants_defined_on(i.original_value)),(n=s["$any?"]())===t||n._isBoolean&&1!=n||(c=i.$constants_defined_on(i.original_value)["$-"](i.transfer_nested_constants),i.$raise(null==(n=u.ArgumentError)?e.cm("ArgumentError"):n,("Cannot transfer nested constant(s) "+s.$join(" and ")+" ")["$+"]("for "+i.full_constant_name+" since they are not defined. Did you mean ")["$+"](""+c.$join(" or ")+"?"))),i.transfer_nested_constants))},t}(u,null==(c=_.BaseMutator)?e.cm("BaseMutator"):c),function(n,$super){function a(){}var s,l=a=i(n,$super,"UndefinedConstantSetter",a),c=l._proto,u=l._scope;return c.context_parts=c.deepest_defined_const=c.const_name=c.mutated_value=c.const_to_remove=t,c.$mutate=function(){var n,o,a,i,s,l=this,c=t,_=t;return c=l.context_parts.$dup(),l.deepest_defined_const=(n=(o=l.context_parts).$inject,n._p=(a=function(e,n){var o,i=a._s||this;return null==e&&(e=t),null==n&&(n=t),(o=i["$const_defined_on?"](e,n))===t||o._isBoolean&&1!=o?(r.$v=e,r):(c.$shift(),i.$get_const_defined_on(e,n))},a._s=l,a),n).call(o,null==(i=u.Object)?e.cm("Object"):i),_=(n=(i=c).$inject,n._p=(s=function(n,r){var o;return s._s||this,null==n&&(n=t),null==r&&(r=t),n.$const_set(r,(null==(o=u.Module)?e.cm("Module"):o).$new())},s._s=l,s),n).call(i,l.deepest_defined_const),l.const_to_remove=(n=c.$first())!==!1&&n!==t?n:l.const_name,_.$const_set(l.const_name,l.mutated_value)},c.$to_constant=s=function(){var n=o.call(arguments,0),r=this,a=s._p,i=t;return s._p=null,i=e.find_super_dispatcher(r,"to_constant",s,a).apply(r,n),i["$stubbed="](!0),i["$previously_defined="](!1),i},c.$rspec_reset=function(){var e=this;return e.deepest_defined_const.$__send__("remove_const",e.const_to_remove)},t}(u,null==(c=_.BaseMutator)?e.cm("BaseMutator"):c),e.defs(u,"$mutate",function(e){var n=this;return n.$register_mutator(e),e.$mutate()}),e.defs(u,"$reset_all",function(){var e,n,r,o=this;return(e=(n=o.$mutators().$reverse()).$each,e._p=(r=function(e){return r._s||this,null==e&&(e=t),e.$rspec_reset()},r._s=o,r),e).call(n),o.$mutators().$clear()}),e.defs(u,"$mutators",function(){var e,n=this;return null==n.mutators&&(n.mutators=t),(e=n.mutators)!==!1&&e!==t?e:n.mutators=[]}),e.defs(u,"$register_mutator",function(e){var n=this;return n.$mutators()["$<<"](e)}),e.defs(u,"$find",function(e){var n,r,o,a=this;return(n=(r=a.$mutators()).$find,n._p=(o=function(n){return o._s||this,null==n&&(n=t),n.$full_constant_name()["$=="](e)},o._s=a,o),n).call(r)}),e.defs(u,"$raise_on_invalid_const",function(){var e,n,r,o=this;return(e=(n=o).$lambda,e._p=(r=function(e,n){var o=r._s||this;return null==e&&(e=t),null==n&&(n=t),o.$raise(("Cannot stub constant "+n+" on "+e+" ")["$+"]("since "+e+" is not a module."))},r._s=o,r),e).call(n)}),t}(u,null),e.cdecl(_,"ConstantStubber",null==(c=_.ConstantMutator)?e.cm("ConstantMutator"):c)}(c)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass;return e.add_stubs(["$+","$expect","$expected_messages_received_in_order?","$ensure_count_unconstrained","$never","$generate_failure_message","$description","$each","$define_method","$<<","$private","$build_expectation","$mock_proxy","$apply_constraints_to","$send","$count_constraint","$raise","$detect","$include?","$map","$to_proc","$check_for_unexpected_arguments","$generate_error","$===","$message","$replay_received_message_on","$expected_messages_received?","$ensure_expected_ordering_received!","$proxy_for"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Mocks");i._proto,i._scope,function(n){var i=o(n,"Matchers");i._proto,i._scope,function(n,$super){function o(){}var i,s,l,c,u,_,$=o=a(n,$super,"HaveReceived",o),p=$._proto,d=$._scope;return p.block=p.method_name=p.constraints=p.expectation=p.subject=t,e.cdecl(d,"COUNT_CONSTRAINTS",["exactly","at_least","at_most","times","once","twice"]),e.cdecl(d,"ARGS_CONSTRAINTS",["with"]),e.cdecl(d,"CONSTRAINTS",(null==(i=d.COUNT_CONSTRAINTS)?e.cm("COUNT_CONSTRAINTS"):i)["$+"](null==(i=d.ARGS_CONSTRAINTS)?e.cm("ARGS_CONSTRAINTS"):i)["$+"](["ordered"])),p.$initialize=s=function(e){var n=this,r=s._p,o=r||t;return s._p=null,n.method_name=e,n.block=o,n.constraints=[],n.subject=t},p.$name=function(){return"have_received"},p["$matches?"]=l=function(e){var n,r=this,o=l._p,a=o||t;return l._p=null,(n=r.block)!==!1&&n!==t?n:r.block=a,r.subject=e,r.expectation=r.$expect(),r["$expected_messages_received_in_order?"]()},p["$does_not_match?"]=function(e){var n=this;return n.subject=e,n.$ensure_count_unconstrained(),n.expectation=n.$expect().$never(),n["$expected_messages_received_in_order?"]()},p.$failure_message=function(){var e=this;return e.$generate_failure_message()},p.$negative_failure_message=function(){var e=this;return e.$generate_failure_message()},p.$description=function(){var e=this;return e.$expect().$description()},(i=(c=null==(_=d.CONSTRAINTS)?e.cm("CONSTRAINTS"):_).$each,i._p=(u=function(e){var n,o,a,i=u._s||this;return null==e&&(e=t),(n=(o=i).$define_method,n._p=(a=function(n){var o=a._s||this;return null==o.constraints&&(o.constraints=t),n=r.call(arguments,0),o.constraints["$<<"]([e].concat(n)),o},a._s=i,a),n).call(o,e)},u._s=$,u),i).call(c),$.$private(),p.$expect=function(){var e=this,n=t;return n=e.$mock_proxy().$build_expectation(e.method_name),e.$apply_constraints_to(n),n},p.$apply_constraints_to=function(e){var n,r,o,a=this;return(n=(r=a.constraints).$each,n._p=(o=function(n){var r;return o._s||this,null==n&&(n=t),(r=e).$send.apply(r,[].concat(n))},o._s=a,o),n).call(r)},p.$ensure_count_unconstrained=function(){var n,r,o,a=this;return(n=a.$count_constraint())===t||n._isBoolean&&1!=n?t:a.$raise(null==(n=(null==(r=(null==(o=d.RSpec)?e.cm("RSpec"):o)._scope).Mocks?r.cm("Mocks"):r.Mocks)._scope).MockExpectationError?n.cm("MockExpectationError"):n.MockExpectationError,"can't use "+a.$count_constraint()+" when negative")},p.$count_constraint=function(){var n,r,o,a,i,s=this;return(n=(r=(a=(i=s.constraints).$map,a._p="first".$to_proc(),a).call(i)).$detect,n._p=(o=function(n){var r;return o._s||this,null==n&&(n=t),(null==(r=d.COUNT_CONSTRAINTS)?e.cm("COUNT_CONSTRAINTS"):r)["$include?"](n)},o._s=s,o),n).call(r)},p.$generate_failure_message=function(){var n,r,o,a=this,i=t;try{return a.$mock_proxy().$check_for_unexpected_arguments(a.expectation),a.expectation.$generate_error()}catch(s){if((null==(n=(null==(r=(null==(o=d.RSpec)?e.cm("RSpec"):o)._scope).Mocks?r.cm("Mocks"):r.Mocks)._scope).MockExpectationError?n.cm("MockExpectationError"):n.MockExpectationError)["$==="](s))return i=s,i.$message();throw s}},p["$expected_messages_received_in_order?"]=function(){var e,n,r=this;return(e=(n=r.$mock_proxy()).$replay_received_message_on,e._p=r.block.$to_proc(),e).call(n,r.expectation),e=r.expectation["$expected_messages_received?"](),e!==!1&&e!==t?r.expectation["$ensure_expected_ordering_received!"]():e},p.$mock_proxy=function(){var n,t,r=this;return(null==(n=(null==(t=d.RSpec)?e.cm("RSpec"):t)._scope).Mocks?n.cm("Mocks"):n.Mocks).$proxy_for(r.subject)},t}(i,null)}(i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass;return e.add_stubs(["$first_non_rspec_line","$warn_if_any_instance","$setup_mock_proxy_method_substitute","$unshift","$new","$setup_expectation","$to_proc","$setup_any_instance_method_substitute","$each","$method_defined?","$define_method","$<<","$public_instance_methods","$private","$===","$warning","$klass","$proxy_for","$setup_method_substitute","$any_instance_recorder_for","$to_sym","$__send__","$playback_onto"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Mocks");i._proto,i._scope,function(n){var i=o(n,"Matchers");i._proto,i._scope,function(n,$super){function o(){}var i,s,l,c,u,_,$,p,d,f,m=o=a(n,$super,"Receive",o),h=m._proto,v=m._scope;return h.recorded_customizations=h.backtrace_line=h.message=h.block=t,h.$initialize=function(n,t){var r,o=this;return o.message=n,o.block=t,o.recorded_customizations=[],o.backtrace_line=(null==(r=v.CallerFilter)?e.cm("CallerFilter"):r).$first_non_rspec_line()},h.$name=function(){return"receive"},h.$setup_expectation=i=function(e){var n=this,r=i._p,o=r||t;return i._p=null,n.$warn_if_any_instance("expect",e),n.$setup_mock_proxy_method_substitute(e,"add_message_expectation",o)},e.defn(m,"$matches?",h.$setup_expectation),h.$setup_negative_expectation=s=function(n){var r,o,a=this,i=s._p,l=i||t;return s._p=null,a.recorded_customizations.$unshift((null==(r=v.Customization)?e.cm("Customization"):r).$new("never",[],t)),a.$warn_if_any_instance("expect",n),(r=(o=a).$setup_expectation,r._p=l.$to_proc(),r).call(o,n)},e.defn(m,"$does_not_match?",h.$setup_negative_expectation),h.$setup_allowance=l=function(e){var n=this,r=l._p,o=r||t;return l._p=null,n.$warn_if_any_instance("allow",e),n.$setup_mock_proxy_method_substitute(e,"add_stub",o)},h.$setup_any_instance_expectation=c=function(e){var n=this,r=c._p,o=r||t;return c._p=null,n.$setup_any_instance_method_substitute(e,"should_receive",o)},h.$setup_any_instance_negative_expectation=u=function(e){var n=this,r=u._p,o=r||t;return u._p=null,n.$setup_any_instance_method_substitute(e,"should_not_receive",o)},h.$setup_any_instance_allowance=_=function(e){var n=this,r=_._p,o=r||t;return _._p=null,n.$setup_any_instance_method_substitute(e,"stub",o)},($=(p=(null==(f=v.MessageExpectation)?e.cm("MessageExpectation"):f).$public_instance_methods(!1)).$each,$._p=(d=function(n){var o,a,i,s=d._s||this;return null==n&&(n=t),(o=s["$method_defined?"](n))===t||o._isBoolean&&1!=o?(o=(a=s).$define_method,o._p=(i=function(o){var a,s,l=i._s||this;return null==l.recorded_customizations&&(l.recorded_customizations=t),o=r.call(arguments,0),a=i._p||t,i._p=null,l.recorded_customizations["$<<"]((null==(s=v.Customization)?e.cm("Customization"):s).$new(n,o,a)),l},i._s=s,i),o).call(a,n):t},d._s=m,d),$).call(p),m.$private(),h.$warn_if_any_instance=function(n,r){var o,a,i;return(o=(null==(a=(null==(i=v.AnyInstance)?e.cm("AnyInstance"):i)._scope).Recorder?a.cm("Recorder"):a.Recorder)["$==="](r))===t||o._isBoolean&&1!=o?t:(null==(o=v.RSpec)?e.cm("RSpec"):o).$warning(("`"+n+"("+r.$klass()+".any_instance).to` ")["$<<"]("is probably not what you meant, it does not operate on ")["$<<"]("any instance of `"+r.$klass()+"`. ")["$<<"]("Use `"+n+"_any_instance_of("+r.$klass()+").to` instead."))},h.$setup_mock_proxy_method_substitute=function(n,r,o){var a,i,s=this,l=t;return l=(null==(a=(null==(i=e.Object._scope.RSpec)?e.cm("RSpec"):i)._scope).Mocks?a.cm("Mocks"):a.Mocks).$proxy_for(n),s.$setup_method_substitute(l,r,o,s.backtrace_line)},h.$setup_any_instance_method_substitute=function(n,r,o){var a,i,s=this,l=t;return l=(null==(a=(null==(i=e.Object._scope.RSpec)?e.cm("RSpec"):i)._scope).Mocks?a.cm("Mocks"):a.Mocks).$any_instance_recorder_for(n),s.$setup_method_substitute(l,r,o)},h.$setup_method_substitute=function(e,n,o,a){var i,s,l,c,u=this,_=t;return a=r.call(arguments,3),a["$<<"](u.message.$to_sym()),_=(i=(s=e).$__send__,i._p=((l=u.block)!==!1&&l!==t?l:o).$to_proc(),i).apply(s,[n].concat(a)),(i=(l=u.recorded_customizations).$each,i._p=(c=function(e){return c._s||this,null==e&&(e=t),e.$playback_onto(_)},c._s=u,c),i).call(l),_},function(e,$super){function n(){}var r=n=a(e,$super,"Customization",n),o=r._proto;return r._scope,o.block=o.method_name=o.args=t,o.$initialize=function(e,n,t){var r=this;return r.method_name=e,r.args=n,r.block=t},o.$playback_onto=function(e){var n,t,r=this;return(n=(t=e).$__send__,n._p=r.block.$to_proc(),n).apply(t,[r.method_name].concat(r.args))},t}(m,null)}(i,null)}(i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=(e.slice,e.module),a=e.klass;return e.add_stubs(["$first_non_rspec_line","$warn_about_block","$each_message_on","$add_simple_expectation","$proxy_on","$raise","$+","$add_simple_stub","$and_return","$should_receive","$any_instance_of","$stub","$private","$proxy_for","$any_instance_recorder_for","$each"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Mocks");i._proto,i._scope,function(n){var i=o(n,"Matchers");i._proto,i._scope,function(n,$super){function o(){}var i,s,l,c,u,_=o=a(n,$super,"ReceiveMessages",o),$=_._proto,p=_._scope;return $.message_return_value_hash=t,$.$initialize=function(n){var t,r=this;return r.message_return_value_hash=n,r.backtrace_line=(null==(t=p.CallerFilter)?e.cm("CallerFilter"):t).$first_non_rspec_line()},$.$name=function(){return"receive_messages"},$.$setup_expectation=i=function(e){var n,r,o,a=this,s=i._p,l=s||t;return i._p=null,l!==t&&a.$warn_about_block(),(n=(r=a).$each_message_on,n._p=(o=function(e,n,r){var a=o._s||this;return null==a.backtrace_line&&(a.backtrace_line=t),null==e&&(e=t),null==n&&(n=t),null==r&&(r=t),e.$add_simple_expectation(n,r,a.backtrace_line)},o._s=a,o),n).call(r,a.$proxy_on(e))},e.defn(_,"$matches?",$.$setup_expectation),$.$setup_negative_expectation=function(){var n,t=this;return t.$raise(null==(n=p.NegationUnsupportedError)?e.cm("NegationUnsupportedError"):n,"`expect(...).to_not receive_messages` is not supported since it "["$+"]("doesn't really make sense. What would it even mean?"))},e.defn(_,"$does_not_match?",$.$setup_negative_expectation),$.$setup_allowance=s=function(e){var n,r,o,a=this,i=s._p,l=i||t;return s._p=null,l!==t&&a.$warn_about_block(),(n=(r=a).$each_message_on,n._p=(o=function(e,n,r){return o._s||this,null==e&&(e=t),null==n&&(n=t),null==r&&(r=t),e.$add_simple_stub(n,r)},o._s=a,o),n).call(r,a.$proxy_on(e))},$.$setup_any_instance_expectation=l=function(e){var n,r,o,a=this,i=l._p,s=i||t;return l._p=null,s!==t&&a.$warn_about_block(),(n=(r=a).$each_message_on,n._p=(o=function(e,n,r){return o._s||this,null==e&&(e=t),null==n&&(n=t),null==r&&(r=t),e.$should_receive(n).$and_return(r)},o._s=a,o),n).call(r,a.$any_instance_of(e))},$.$setup_any_instance_allowance=c=function(e){var n=this,r=c._p,o=r||t;return c._p=null,o!==t&&n.$warn_about_block(),n.$any_instance_of(e).$stub(n.message_return_value_hash)},$.$warn_about_block=function(){var e=this;return e.$raise("Implementation blocks aren't supported with `receive_messages`")},_.$private(),$.$proxy_on=function(n){var t,r;return(null==(t=(null==(r=e.Object._scope.RSpec)?e.cm("RSpec"):r)._scope).Mocks?t.cm("Mocks"):t.Mocks).$proxy_for(n)},$.$any_instance_of=function(n){var t,r;return(null==(t=(null==(r=e.Object._scope.RSpec)?e.cm("RSpec"):r)._scope).Mocks?t.cm("Mocks"):t.Mocks).$any_instance_recorder_for(n)},$.$each_message_on=u=function(n){var o,a,i,s=this,l=u._p,c=l||t;return u._p=null,(o=(a=s.message_return_value_hash).$each,o._p=(i=function(o,a){var s;return i._s||this,null==o&&(o=t),null==a&&(a=t),s=e.$yieldX(c,[n,o,a]),s===r?s:s},i._s=s,i),o).call(a)},t}(i,null)}(i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass;return e.add_stubs(["$stub_chain","$new","$to_proc","$attr_reader","$format_chain","$>","$length","$chain","$find_matching_stub","$shift","$block","$invoke","$stub","$object","$stub_chain_on","$private","$===","$last","$pop","$each","$<<","$lambda","$split","$join","$__send__","$proxy_for","$to_sym","$first"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Mocks");i._proto,i._scope,function(n,$super){function o(){}var i,s,l,c=o=a(n,$super,"StubChain",o),u=c._proto,_=c._scope;return e.defs(c,"$stub_chain_on",i=function(e,n){var o,a,s=this,l=i._p,c=l||t;return n=r.call(arguments,1),i._p=null,(o=(a=s).$new,o._p=c.$to_proc(),o).apply(a,[e].concat(n)).$stub_chain()}),c.$attr_reader("object","chain","block"),u.$initialize=s=function(n,o){var a,i,l,c=this,u=s._p,_=u||t;return o=r.call(arguments,1),s._p=null,c.object=n,a=e.to_ary((i=(l=c).$format_chain,i._p=_.$to_proc(),i).apply(l,[].concat(o))),c.chain=null==a[0]?t:a[0],c.block=null==a[1]?t:a[1]},u.$stub_chain=function(){var n,r,o,a,i,s,l=this,c=t,u=t;
return l.$chain().$length()["$>"](1)?(n=c=l.$find_matching_stub())===t||n._isBoolean&&1!=n?(u=(null==(n=_.Mock)?e.cm("Mock"):n).$new(),(n=(o=l.$object()).$stub,n._p=(a=function(){return a._s||this,u},a._s=l,a),n).call(o,l.$chain().$shift()),(n=(i=null==(s=_.StubChain)?e.cm("StubChain"):s).$stub_chain_on,n._p=l.$block().$to_proc(),n).apply(i,[u].concat(l.$chain()))):(l.$chain().$shift(),(n=(r=c.$invoke(t)).$stub_chain,n._p=l.$block().$to_proc(),n).apply(r,[].concat(l.$chain()))):(n=(s=l.$object()).$stub,n._p=l.$block().$to_proc(),n).call(s,l.$chain().$shift())},c.$private(),u.$format_chain=l=function(n){var o,a,i,s=this,c=l._p,u=c||t,$=t;return n=r.call(arguments,0),l._p=null,(o=(null==(a=_.Hash)?e.cm("Hash"):a)["$==="](n.$last()))===t||o._isBoolean&&1!=o||($=n.$pop(),(o=(a=$).$each,o._p=(i=function(e,r){var o,a,s,l=i._s||this;return null==e&&(e=t),null==r&&(r=t),n["$<<"](e),u=(o=(a=l).$lambda,o._p=(s=function(){return s._s||this,r},s._s=l,s),o).call(a)},i._s=s,i),o).call(a)),[n.$join(".").$split("."),u]},u.$find_matching_stub=function(){var n,t,r=this;return(null==(n=(null==(t=e.Object._scope.RSpec)?e.cm("RSpec"):t)._scope).Mocks?n.cm("Mocks"):n.Mocks).$proxy_for(r.$object()).$__send__("find_matching_method_stub",r.$chain().$first().$to_sym())},t}(i,null)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass,i=e.hash2;return e.add_stubs(["$new","$define_method","$===","$raise_unsupported_matcher","$define_matcher","$to_proc","$fetch","$raise_negation_unsupported","$private","$__send__","$raise","$+","$expression","$name","$class","$delegate_to","$disallow_negation","$delegate_not_to"]),function(n){var s=o(n,"RSpec");s._proto,s._scope,function(n){var s,l=o(n,"Mocks"),c=(l._proto,l._scope);e.cdecl(c,"UnsupportedMatcherError",(null==(s=c.Class)?e.cm("Class"):s).$new(null==(s=c.StandardError)?e.cm("StandardError"):s)),e.cdecl(c,"NegationUnsupportedError",(null==(s=c.Class)?e.cm("Class"):s).$new(null==(s=c.StandardError)?e.cm("StandardError"):s)),function(n,$super){function o(){}var s,l=o=a(n,$super,"TargetBase",o),c=l._proto,u=l._scope;return c.target=t,c.$initialize=function(e){var n=this;return n.target=e},e.defs(l,"$delegate_to",function(n){var r,o,a,i=this;return(r=(o=i).$define_method,r._p=(a=function(r){var o,i,s,l,c,_=a._s||this;return null==r&&(r=t),o=a._p||t,a._p=null,((i=(s=(null==(l=(null==(c=u.Matchers)?e.cm("Matchers"):c)._scope).Receive?l.cm("Receive"):l.Receive)["$==="](r))!==!1&&s!==t?s:(null==(l=(null==(c=u.Matchers)?e.cm("Matchers"):c)._scope).ReceiveMessages?l.cm("ReceiveMessages"):l.ReceiveMessages)["$==="](r))===t||i._isBoolean&&1!=i)&&_.$raise_unsupported_matcher("to",r),(i=(s=_).$define_matcher,i._p=o.$to_proc(),i).call(s,r,n)},a._s=i,a),r).call(o,"to")}),e.defs(l,"$delegate_not_to",function(n,r){var o,a,s,l=this,c=t;return null==r&&(r=i([],{})),c=r.$fetch("from"),(o=(a=l).$define_method,o._p=(s=function(r){var o,a,i,l,_=s._s||this,$=t;return null==r&&(r=t),o=s._p||t,s._p=null,function(){return $=r,(null==(a=(null==(i=u.Matchers)?e.cm("Matchers"):i)._scope).Receive?a.cm("Receive"):a.Receive)["$==="]($)?(a=(i=_).$define_matcher,a._p=o.$to_proc(),a).call(i,r,n):(null==(a=(null==(l=u.Matchers)?e.cm("Matchers"):l)._scope).ReceiveMessages?a.cm("ReceiveMessages"):a.ReceiveMessages)["$==="]($)?_.$raise_negation_unsupported(c,r):_.$raise_unsupported_matcher(c,r)}()},s._s=l,s),o).call(a,c)}),e.defs(l,"$disallow_negation",function(e){var n,o,a,i=this;return(n=(o=i).$define_method,n._p=(a=function(n,o){var i=a._s||this;return null==n&&(n=t),o=r.call(arguments,1),i.$raise_negation_unsupported(e,n)},a._s=i,a),n).call(o,e)}),l.$private(),c.$define_matcher=s=function(e,n){var r,o,a=this,i=s._p,l=i||t;return s._p=null,(r=(o=e).$__send__,r._p=l.$to_proc(),r).call(o,n,a.target)},c.$raise_unsupported_matcher=function(n,t){var r,o=this;return o.$raise(null==(r=u.UnsupportedMatcherError)?e.cm("UnsupportedMatcherError"):r,"only the `receive` or `receive_messages` matchers are supported "["$+"]("with `"+o.$expression()+"(...)."+n+"`, but you have provided: "+t))},c.$raise_negation_unsupported=function(n,t){var r,o=this;return o.$raise(null==(r=u.NegationUnsupportedError)?e.cm("NegationUnsupportedError"):r,("`"+o.$expression()+"(...)."+n+" "+t.$name()+"` is not supported since it ")["$+"]("doesn't really make sense. What would it even mean?"))},c.$expression=function(){var e,n=this;return null==(e=n.$class()._scope).EXPRESSION?e.cm("EXPRESSION"):e.EXPRESSION},t}(l,null),function(n,$super){function t(){}var r=t=a(n,$super,"AllowanceTarget",t),o=(r._proto,r._scope);return e.cdecl(o,"EXPRESSION","allow"),r.$delegate_to("setup_allowance"),r.$disallow_negation("not_to"),r.$disallow_negation("to_not")}(l,null==(s=c.TargetBase)?e.cm("TargetBase"):s),function(n,$super){function t(){}var r=t=a(n,$super,"ExpectationTarget",t),o=(r._proto,r._scope);return e.cdecl(o,"EXPRESSION","expect"),r.$delegate_to("setup_expectation"),r.$delegate_not_to("setup_negative_expectation",i(["from"],{from:"not_to"})),r.$delegate_not_to("setup_negative_expectation",i(["from"],{from:"to_not"}))}(l,null==(s=c.TargetBase)?e.cm("TargetBase"):s),function(n,$super){function t(){}var r=t=a(n,$super,"AnyInstanceAllowanceTarget",t),o=(r._proto,r._scope);return e.cdecl(o,"EXPRESSION","allow_any_instance_of"),r.$delegate_to("setup_any_instance_allowance"),r.$disallow_negation("not_to"),r.$disallow_negation("to_not")}(l,null==(s=c.TargetBase)?e.cm("TargetBase"):s),function(n,$super){function t(){}var r=t=a(n,$super,"AnyInstanceExpectationTarget",t),o=(r._proto,r._scope);return e.cdecl(o,"EXPRESSION","expect_any_instance_of"),r.$delegate_to("setup_any_instance_expectation"),r.$delegate_not_to("setup_any_instance_negative_expectation",i(["from"],{from:"not_to"})),r.$delegate_not_to("setup_any_instance_negative_expectation",i(["from"],{from:"to_not"}))}(l,null==(s=c.TargetBase)?e.cm("TargetBase"):s)}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.hash2;return e.add_stubs(["$deprecate","$should_enabled?","$class_exec","$warn_unless_should_configured","$[]","$[]=","$first_non_rspec_line","$expect_message","$to_proc","$never","$===","$each","$and_return","$stub","$allow_message","$remove_stub","$proxy_for","$space","$stub_chain_on","$as_null_object","$received_message?","$respond_to?","$any_instance_recorder_for","$default_should_syntax_host","$expect_enabled?","$new","$warn_about_block","$method_defined?","$==","$>","$to_f","$last","$ancestors"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Mocks");i._proto,i._scope,function(n){var i=o(n,"Syntax"),s=i._proto,l=i._scope;e.defs(i,"$warn_about_should!",function(){var e=this;return e.warn_about_should=!0}),e.defs(i,"$warn_unless_should_configured",function(n){var r,o=this;return null==o.warn_about_should&&(o.warn_about_should=t),(r=o.warn_about_should)===t||r._isBoolean&&1!=r?t:((null==(r=l.RSpec)?e.cm("RSpec"):r).$deprecate("Using `"+n+"` from rspec-mocks' old `:should` syntax without explicitly enabling the syntax",a(["replacement"],{replacement:"the new `:expect` syntax or explicitly enable `:should`"})),o.warn_about_should=!1)}),e.defs(i,"$enable_should",function(n){var o,i,s,c=this;return null==n&&(n=c.$default_should_syntax_host()),c.warn_about_should=!1,(o=c["$should_enabled?"](n))===t||o._isBoolean&&1!=o?(o=(i=n).$class_exec,o._p=(s=function(){var n,o,i,c,u,_,$,p,d,f=s._s||this;return e.defn(f,"$should_receive",n=function(r,o){var i,s,c,u,_=this,$=n._p,p=$||t;return null==o&&(o=a([],{})),n._p=null,(null==(i=(null==(s=(null==(c=e.Object._scope.RSpec)?e.cm("RSpec"):c)._scope).Mocks?s.cm("Mocks"):s.Mocks)._scope).Syntax?i.cm("Syntax"):i.Syntax).$warn_unless_should_configured("should_receive"),i="expected_from",s=o,(c=s["$[]"](i))!==!1&&c!==t?c:s["$[]="](i,(null==(u=l.CallerFilter)?e.cm("CallerFilter"):u).$first_non_rspec_line()),(i=(s=null==(c=(null==(u=e.Object._scope.RSpec)?e.cm("RSpec"):u)._scope).Mocks?c.cm("Mocks"):c.Mocks).$expect_message,i._p=p.$to_proc(),i).call(s,_,r,o)}),e.defn(f,"$should_not_receive",o=function(n){var r,i,s,c,u=this,_=o._p,$=_||t,p=t;return o._p=null,(null==(r=(null==(i=(null==(s=e.Object._scope.RSpec)?e.cm("RSpec"):s)._scope).Mocks?i.cm("Mocks"):i.Mocks)._scope).Syntax?r.cm("Syntax"):r.Syntax).$warn_unless_should_configured("should_not_receive"),p=a(["expected_from"],{expected_from:(null==(r=l.CallerFilter)?e.cm("CallerFilter"):r).$first_non_rspec_line()}),(r=(i=null==(s=(null==(c=e.Object._scope.RSpec)?e.cm("RSpec"):c)._scope).Mocks?s.cm("Mocks"):s.Mocks).$expect_message,r._p=$.$to_proc(),r).call(i,u,n,p).$never()}),e.defn(f,"$stub",i=function(n,r){var o,s,c,u,_,$,p=this,d=i._p,f=d||t;return null==r&&(r=a([],{})),i._p=null,(null==(o=(null==(s=(null==(c=e.Object._scope.RSpec)?e.cm("RSpec"):c)._scope).Mocks?s.cm("Mocks"):s.Mocks)._scope).Syntax?o.cm("Syntax"):o.Syntax).$warn_unless_should_configured("stub"),(o=(null==(s=e.Object._scope.Hash)?e.cm("Hash"):s)["$==="](n))===t||o._isBoolean&&1!=o?(r["$[]="]("expected_from",(null==(o=l.CallerFilter)?e.cm("CallerFilter"):o).$first_non_rspec_line()),(o=(c=null==(_=(null==($=e.Object._scope.RSpec)?e.cm("RSpec"):$)._scope).Mocks?_.cm("Mocks"):_.Mocks).$allow_message,o._p=f.$to_proc(),o).call(c,p,n,r)):(o=(s=n).$each,o._p=(u=function(e,n){var r=u._s||this;return null==e&&(e=t),null==n&&(n=t),r.$stub(e).$and_return(n)},u._s=p,u),o).call(s)}),e.defn(f,"$unstub",function(n){var t,r,o,a=this;return(null==(t=(null==(r=(null==(o=e.Object._scope.RSpec)?e.cm("RSpec"):o)._scope).Mocks?r.cm("Mocks"):r.Mocks)._scope).Syntax?t.cm("Syntax"):t.Syntax).$warn_unless_should_configured("unstub"),(null==(t=(null==(r=e.Object._scope.RSpec)?e.cm("RSpec"):r)._scope).Mocks?t.cm("Mocks"):t.Mocks).$space().$proxy_for(a).$remove_stub(n)}),e.defn(f,"$stub_chain",c=function(n){var o,a,i,s,l,u=this,_=c._p,$=_||t;return n=r.call(arguments,0),c._p=null,(null==(o=(null==(a=(null==(i=e.Object._scope.RSpec)?e.cm("RSpec"):i)._scope).Mocks?a.cm("Mocks"):a.Mocks)._scope).Syntax?o.cm("Syntax"):o.Syntax).$warn_unless_should_configured("stub_chain"),(o=(a=null==(i=(null==(s=(null==(l=e.Object._scope.RSpec)?e.cm("RSpec"):l)._scope).Mocks?s.cm("Mocks"):s.Mocks)._scope).StubChain?i.cm("StubChain"):i.StubChain).$stub_chain_on,o._p=$.$to_proc(),o).apply(a,[u].concat(n))}),e.defn(f,"$as_null_object",function(){var n,t,r,o=this;return(null==(n=(null==(t=(null==(r=e.Object._scope.RSpec)?e.cm("RSpec"):r)._scope).Mocks?t.cm("Mocks"):t.Mocks)._scope).Syntax?n.cm("Syntax"):n.Syntax).$warn_unless_should_configured("as_null_object"),o._null_object=!0,(null==(n=(null==(t=e.Object._scope.RSpec)?e.cm("RSpec"):t)._scope).Mocks?n.cm("Mocks"):n.Mocks).$proxy_for(o).$as_null_object()}),e.defn(f,"$null_object?",function(){var n,r,o,a=this;return(null==(n=(null==(r=(null==(o=e.Object._scope.RSpec)?e.cm("RSpec"):o)._scope).Mocks?r.cm("Mocks"):r.Mocks)._scope).Syntax?n.cm("Syntax"):n.Syntax).$warn_unless_should_configured("null_object?"),n=a._null_object,null!=n&&n!==t?"instance-variable":t}),e.defn(f,"$received_message?",u=function(n,o){var a,i,s,l,c=this,_=u._p,$=_||t;return o=r.call(arguments,1),u._p=null,(null==(a=(null==(i=(null==(s=e.Object._scope.RSpec)?e.cm("RSpec"):s)._scope).Mocks?i.cm("Mocks"):i.Mocks)._scope).Syntax?a.cm("Syntax"):a.Syntax).$warn_unless_should_configured("received_message?"),(a=(i=(null==(s=(null==(l=e.Object._scope.RSpec)?e.cm("RSpec"):l)._scope).Mocks?s.cm("Mocks"):s.Mocks).$proxy_for(c))["$received_message?"],a._p=$.$to_proc(),a).apply(i,[n].concat(o))}),(_=(null==($=l.Class)?e.cm("Class"):$)["$respond_to?"]("any_instance"))===t||_._isBoolean&&1!=_?(_=($=null==(d=l.Class)?e.cm("Class"):d).$class_exec,_._p=(p=function(){var n=p._s||this;return e.defn(n,"$any_instance",function(){var n,t,r,o=this;return(null==(n=(null==(t=(null==(r=e.Object._scope.RSpec)?e.cm("RSpec"):r)._scope).Mocks?t.cm("Mocks"):t.Mocks)._scope).Syntax?n.cm("Syntax"):n.Syntax).$warn_unless_should_configured("any_instance"),(null==(n=(null==(t=e.Object._scope.RSpec)?e.cm("RSpec"):t)._scope).Mocks?n.cm("Mocks"):n.Mocks).$any_instance_recorder_for(o)}),t},p._s=f,p),_).call($):t},s._s=c,s),o).call(i):t}),e.defs(i,"$disable_should",function(n){var r,o,a,i,c,u,_=this;return null==n&&(n=_.$default_should_syntax_host()),(r=_["$should_enabled?"](n))===t||r._isBoolean&&1!=r?t:((r=(o=n).$class_exec,r._p=(a=function(){return a._s||this,delete s.$should_receive,delete s.$should_not_receive,delete s.$stub,delete s.$unstub,delete s.$stub_chain,delete s.$as_null_object,delete s["$null_object?"],delete s["$received_message?"]},a._s=_,a),r).call(o),(r=(i=null==(u=l.Class)?e.cm("Class"):u).$class_exec,r._p=(c=function(){return c._s||this,delete s.$any_instance},c._s=_,c),r).call(i))}),e.defs(i,"$enable_expect",function(n){var r,o,a,i,s,c,u,_,$,p=this;return null==n&&(n=null==(r=(null==(c=(null==(u=e.Object._scope.RSpec)?e.cm("RSpec"):u)._scope).Mocks?c.cm("Mocks"):c.Mocks)._scope).ExampleMethods?r.cm("ExampleMethods"):r.ExampleMethods),(r=p["$expect_enabled?"](n))===t||r._isBoolean&&1!=r?((r=(o=n).$class_exec,r._p=(a=function(){var n,r,o=a._s||this;return e.defn(o,"$receive",n=function(r){var o,a,i=n._p,s=i||t;return n._p=null,(null==(o=(null==(a=l.Matchers)?e.cm("Matchers"):a)._scope).Receive?o.cm("Receive"):o.Receive).$new(r,s)}),e.defn(o,"$receive_messages",r=function(n){var o,a,i=r._p,s=i||t,c=t;return r._p=null,c=(null==(o=(null==(a=l.Matchers)?e.cm("Matchers"):a)._scope).ReceiveMessages?o.cm("ReceiveMessages"):o.ReceiveMessages).$new(n),s!==t&&c.$warn_about_block(),c}),e.defn(o,"$allow",function(n){var t;return(null==(t=l.AllowanceTarget)?e.cm("AllowanceTarget"):t).$new(n)}),e.defn(o,"$expect_any_instance_of",function(n){var t;return(null==(t=l.AnyInstanceExpectationTarget)?e.cm("AnyInstanceExpectationTarget"):t).$new(n)}),e.defn(o,"$allow_any_instance_of",function(n){var t;return(null==(t=l.AnyInstanceAllowanceTarget)?e.cm("AnyInstanceAllowanceTarget"):t).$new(n)}),t},a._s=p,a),r).call(o),(r=(i=null==(c=(null==(u=(null==(_=(null==($=l.RSpec)?e.cm("RSpec"):$)._scope).Mocks?_.cm("Mocks"):_.Mocks)._scope).ExampleMethods?u.cm("ExampleMethods"):u.ExampleMethods)._scope).ExpectHost?c.cm("ExpectHost"):c.ExpectHost).$class_exec,r._p=(s=function(){var n=s._s||this;return e.defn(n,"$expect",function(n){var t;return(null==(t=l.ExpectationTarget)?e.cm("ExpectationTarget"):t).$new(n)}),t},s._s=p,s),r).call(i)):t}),e.defs(i,"$disable_expect",function(n){var r,o,a,i,c,u,_,$,p,d=this;return null==n&&(n=null==(r=(null==(u=(null==(_=e.Object._scope.RSpec)?e.cm("RSpec"):_)._scope).Mocks?u.cm("Mocks"):u.Mocks)._scope).ExampleMethods?r.cm("ExampleMethods"):r.ExampleMethods),(r=d["$expect_enabled?"](n))===t||r._isBoolean&&1!=r?t:((r=(o=n).$class_exec,r._p=(a=function(){return a._s||this,delete s.$receive,delete s.$receive_messages,delete s.$allow,delete s.$expect_any_instance_of,delete s.$allow_any_instance_of},a._s=d,a),r).call(o),(r=(i=null==(u=(null==(_=(null==($=(null==(p=l.RSpec)?e.cm("RSpec"):p)._scope).Mocks?$.cm("Mocks"):$.Mocks)._scope).ExampleMethods?_.cm("ExampleMethods"):_.ExampleMethods)._scope).ExpectHost?u.cm("ExpectHost"):u.ExpectHost).$class_exec,r._p=(c=function(){return c._s||this,delete s.$expect},c._s=d,c),r).call(i))}),e.defs(i,"$should_enabled?",function(e){var n=this;return null==e&&(e=n.$default_should_syntax_host()),e["$method_defined?"]("should_receive")}),e.defs(i,"$expect_enabled?",function(n){var t,r,o;return null==n&&(n=null==(t=(null==(r=(null==(o=e.Object._scope.RSpec)?e.cm("RSpec"):o)._scope).Mocks?r.cm("Mocks"):r.Mocks)._scope).ExampleMethods?t.cm("ExampleMethods"):t.ExampleMethods),n["$method_defined?"]("allow")}),e.defs(i,"$default_should_syntax_host",function(){var n,r,o,a;return o=null!=l.JRUBY_VERSION,r=o!==!1&&o!==t?(null==(a=l.JRUBY_VERSION)?e.cm("JRUBY_VERSION"):a)["$=="]("1.7.4"):o,(n=r!==!1&&r!==t?(null==(o=l.RUBY_VERSION)?e.cm("RUBY_VERSION"):o).$to_f()["$>"](1.8):r)===t||n._isBoolean&&1!=n?(n=null==e.Object._scope.BasicObject?t:"constant")===t||n._isBoolean&&1!=n?null==(n=l.Object)?e.cm("Object"):n:(null==(n=l.Object)?e.cm("Object"):n).$ancestors().$last()["$=="](null==(n=e.Object._scope.BasicObject)?e.cm("BasicObject"):n)?null==(n=e.Object._scope.BasicObject)?e.cm("BasicObject"):n:null==(n=l.Object)?e.cm("Object"):n:null==(n=e.Object._scope.BasicObject)?e.cm("BasicObject"):n})}(i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass;return e.add_stubs(["$each","$enable_should","$include?","$Array","$enable_expect","$disable_expect","$disable_should","$should_enabled?","$<<","$expect_enabled?","$!","$syntax=","$warn_about_should!","$new","$reset_syntaxes_to_default","$configuration"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i=o(n,"Mocks"),s=(i._proto,i._scope);!function(n,$super){function o(){}var i=o=a(n,$super,"Configuration",o),s=i._proto,l=i._scope;return s.yield_receiver_to_any_instance_implementation_blocks=s.verify_doubled_constant_names=s.transfer_nested_constants=s.verify_partial_doubles=t,s.$initialize=function(){var e=this;return e.yield_receiver_to_any_instance_implementation_blocks=!0,e.verify_doubled_constant_names=!1,e.transfer_nested_constants=!1,e.verify_partial_doubles=!1},s["$yield_receiver_to_any_instance_implementation_blocks?"]=function(){var e=this;return e.yield_receiver_to_any_instance_implementation_blocks},s["$yield_receiver_to_any_instance_implementation_blocks="]=function(e){var n=this;return n.yield_receiver_to_any_instance_implementation_blocks=e},s.$add_stub_and_should_receive_to=function(n){var o,a,i,s=this;return n=r.call(arguments,0),(o=(a=n).$each,o._p=(i=function(n){var r;return i._s||this,null==n&&(n=t),(null==(r=l.Syntax)?e.cm("Syntax"):r).$enable_should(n)},i._s=s,i),o).call(a)},s["$syntax="]=function(n){var r,o=this;return(r=o.$Array(n)["$include?"]("expect"))===t||r._isBoolean&&1!=r?(null==(r=l.Syntax)?e.cm("Syntax"):r).$disable_expect():(null==(r=l.Syntax)?e.cm("Syntax"):r).$enable_expect(),(r=o.$Array(n)["$include?"]("should"))===t||r._isBoolean&&1!=r?(null==(r=l.Syntax)?e.cm("Syntax"):r).$disable_should():(null==(r=l.Syntax)?e.cm("Syntax"):r).$enable_should()},s.$syntax=function(){var n,r,o=t;return o=[],(n=(null==(r=l.Syntax)?e.cm("Syntax"):r)["$should_enabled?"]())===t||n._isBoolean&&1!=n||o["$<<"]("should"),(n=(null==(r=l.Syntax)?e.cm("Syntax"):r)["$expect_enabled?"]())===t||n._isBoolean&&1!=n||o["$<<"]("expect"),o},s["$verify_doubled_constant_names?"]=function(){var e=this;return e.verify_doubled_constant_names["$!"]()["$!"]()},s["$verify_doubled_constant_names="]=function(e){var n=this;return n.verify_doubled_constant_names=e},s["$transfer_nested_constants?"]=function(){var e=this;return e.transfer_nested_constants["$!"]()["$!"]()},s["$transfer_nested_constants="]=function(e){var n=this;return n.transfer_nested_constants=e},s["$verify_partial_doubles="]=function(e){var n=this;return n.verify_partial_doubles=e["$!"]()["$!"]()},s["$verify_partial_doubles?"]=function(){var e=this;return e.verify_partial_doubles},s.$reset_syntaxes_to_default=function(){var n,t,r,o=this;return o["$syntax="](["should","expect"]),(null==(n=(null==(t=(null==(r=l.RSpec)?e.cm("RSpec"):r)._scope).Mocks?t.cm("Mocks"):t.Mocks)._scope).Syntax?n.cm("Syntax"):n.Syntax)["$warn_about_should!"]()},t}(i,null),e.defs(i,"$configuration",function(){var n,r,o=this;return null==o.configuration&&(o.configuration=t),(n=o.configuration)!==!1&&n!==t?n:o.configuration=(null==(r=s.Configuration)?e.cm("Configuration"):r).$new()}),i.$configuration().$reset_syntaxes_to_default()}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$<=","$min_arity","$max_arity","$==","$to_s","$private","$method_defined?","$>=","$arity","$method","$~","$supports_optional_and_splat_args?","$parameters","$any?","$count","$!","$<","$/"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Mocks");a._proto,a._scope,function(n,$super){function r(){}var a,i=r=o(n,$super,"ArityCalculator",r),s=i._proto,l=i._scope;return s.method=t,s.$initialize=function(e){var n=this;return n.method=e},s["$within_range?"]=function(e){var n,t=this;return(n=t.$min_arity()["$<="](e))?e["$<="](t.$max_arity()):n},s.$range_description=function(){var n,t=this;return t.$min_arity()["$=="](t.$max_arity())?t.$min_arity().$to_s():t.$max_arity()["$=="](null==(n=l.INFINITY)?e.cm("INFINITY"):n)?""+t.$min_arity()+" or more":""+t.$min_arity()+" to "+t.$max_arity()},i.$private(),s.$method=function(){var e=this;return e.method},e.defs(i,"$supports_optional_and_splat_args?",function(){var n;return(null==(n=l.Method)?e.cm("Method"):n)["$method_defined?"]("parameters")}),s.$min_arity=function(){var e=this;return e.$method().$arity()["$>="](0)?e.$method().$arity():e.$method().$arity()["$~"]()},s.$max_arity=(a=i["$supports_optional_and_splat_args?"]())===t||a._isBoolean&&1!=a?function(){var n,t=this;return t.$method().$arity()["$<"](0)?null==(n=l.INFINITY)?e.cm("INFINITY"):n:t.$method().$arity()}:function(){var n,r,o,a,i,s=this,c=t;return c=s.$method().$parameters(),(n=(r=(o=c)["$any?"],r._p=(a=function(e,n){return a._s||this,null==e&&(e=t),null==n&&(n=t),e["$=="]("rest")},a._s=s,a),r).call(o))===t||n._isBoolean&&1!=n?(n=(r=c).$count,n._p=(i=function(e,n){return i._s||this,null==e&&(e=t),null==n&&(n=t),e["$=="]("block")["$!"]()},i._s=s,i),n).call(r):null==(n=l.INFINITY)?e.cm("INFINITY"):n},e.cdecl(l,"INFINITY",1["$/"](0))}(a,null)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass;return e.add_stubs(["$attr_accessor","$===","$first","$>","$length","$ensure_arity!","$private","$nil?","$method_reference","$when_defined","$new","$within_range?","$raise_arity_error"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i,s=o(n,"Mocks"),l=(s._proto,s._scope);!function(n,$super){function o(){}var i,s,l=o=a(n,$super,"VerifyingMessageExpectation",o),c=l._proto,u=l._scope;return l.$attr_accessor("method_reference"),c.$initialize=i=function(n){var t=r.call(arguments,0),o=this,a=i._p;return n=r.call(arguments,0),i._p=null,e.find_super_dispatcher(o,"initialize",i,a).apply(o,t)},c.$with=s=function(n){var o,a,i,l=r.call(arguments,0),c=this,_=s._p,$=t;return n=r.call(arguments,0),s._p=null,((o=(null==(a=(null==(i=u.ArgumentMatchers)?e.cm("ArgumentMatchers"):i)._scope).AnyArgsMatcher?a.cm("AnyArgsMatcher"):a.AnyArgsMatcher)["$==="](n.$first()))===t||o._isBoolean&&1!=o)&&($=function(){return(o=(null==(a=(null==(i=u.ArgumentMatchers)?e.cm("ArgumentMatchers"):i)._scope).NoArgsMatcher?a.cm("NoArgsMatcher"):a.NoArgsMatcher)["$==="](n.$first()))===t||o._isBoolean&&1!=o?n.$length()["$>"](0)?n.$length():e.find_super_dispatcher(c,"with",s,_).apply(c,l):0}(),c["$ensure_arity!"]($)),e.find_super_dispatcher(c,"with",s,_).apply(c,l)},l.$private(),c["$ensure_arity!"]=function(n){var r,o,a,i=this;return(r=i.$method_reference()["$nil?"]())===t||r._isBoolean&&1!=r?(r=(o=i.$method_reference()).$when_defined,r._p=(a=function(r){var o,i=a._s||this,s=t;return null==i.error_generator&&(i.error_generator=t),null==r&&(r=t),s=(null==(o=u.ArityCalculator)?e.cm("ArityCalculator"):o).$new(r),(o=s["$within_range?"](n))===t||o._isBoolean&&1!=o?(i.failed_fast=!0,i.error_generator.$raise_arity_error(s,n)):t},a._s=i,a),r).call(o):t},t}(s,null==(i=l.MessageExpectation)?e.cm("MessageExpectation"):i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=(e.slice,e.module),a=e.klass;return e.add_stubs(["$when_loaded","$method_implemented?","$method_defined?","$original_method","$implemented?","$private","$defined?","$find_method","$==","$<","$to_i","$[]","$split","$instance_method","$dup","$respond_to?","$method"]),function(n){var i=o(n,"RSpec");i._proto,i._scope,function(n){var i,s=o(n,"Mocks"),l=(s._proto,s._scope);!function(n,$super){function o(){}var i,s,l=o=a(n,$super,"MethodReference",o),c=l._proto;return l._scope,c.module_reference=t,c.$initialize=function(e,n){var t=this;return t.module_reference=e,t.method_name=n},c["$implemented?"]=function(){var e,n,r,o=this;return(e=(n=o.module_reference).$when_loaded,e._p=(r=function(e){var n=r._s||this;return null==e&&(e=t),n["$method_implemented?"](e)},r._s=o,r),e).call(n)},c["$defined?"]=function(){var e,n,r,o=this;return(e=(n=o.module_reference).$when_loaded,e._p=(r=function(e){var n=r._s||this;return null==e&&(e=t),n["$method_defined?"](e)},r._s=o,r),e).call(n)},c.$when_defined=i=function(){var n,o=this,a=i._p,s=a||t,l=t;return i._p=null,(n=l=o.$original_method())===t||n._isBoolean&&1!=n?t:(n=e.$yield1(s,l),n===r?n:n)},c.$when_unimplemented=s=function(){var n,o=this,a=s._p,i=a||t;return s._p=null,(n=o["$implemented?"]())===t||n._isBoolean&&1!=n?(n=e.$yieldX(i,[]),n===r?n:n):t},l.$private(),c.$original_method=function(){var e,n,r,o=this;return(e=(n=o.module_reference).$when_loaded,e._p=(r=function(e){var n,o=r._s||this;return null==e&&(e=t),n=o["$defined?"](),n!==!1&&n!==t?o.$find_method(e):n},r._s=o,r),e).call(n)},t}(s,null),function(n,$super){function r(){}var o,i,s,l=r=a(n,$super,"InstanceMethodReference",r),c=l._proto,u=l._scope;return c.method_name=t,l.$private(),c["$method_implemented?"]=function(e){var n=this;return e["$method_defined?"](n.method_name)},e.defn(l,"$method_defined?",c["$method_implemented?"]),(o=(i=(null==(s=u.RUBY_PLATFORM)?e.cm("RUBY_PLATFORM"):s)["$=="]("java"))?(null==(s=u.JRUBY_VERSION)?e.cm("JRUBY_VERSION"):s).$split(".")["$[]"](-1).$to_i()["$<"](5):i)===t||o._isBoolean&&1!=o?(c.$find_method=function(e){var n=this;return e.$instance_method(n.method_name)},t):(c.$find_method=function(e){var n=this;return e.$dup().$instance_method(n.method_name)},t)}(s,null==(i=l.MethodReference)?e.cm("MethodReference"):i),function(e,$super){function n(){}var r=n=a(e,$super,"ObjectMethodReference",n),o=r._proto;return r._scope,o.method_name=t,r.$private(),o["$method_implemented?"]=function(e){var n=this;return e["$respond_to?"](n.method_name)},o["$method_defined?"]=function(e){var n=this;return function(e){return e._scope,e._proto,e}(e.$singleton_class())["$method_defined?"](n.method_name)},o.$find_method=function(e){var n=this;return e.$method(n.method_name)},t}(s,null==(i=l.MethodReference)?e.cm("MethodReference"):i)}(i)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=e.breaker,o=e.slice,a=e.module,i=e.hash2,s=e.klass;return e.add_stubs(["$ensure_implemented","$defined?","$when_unimplemented","$raise_unimplemented_error","$[]","$method_reference","$include","$new","$[]=","$tap","$method_reference=","$ensure_arity!","$length","$private","$when_defined","$within_range?","$raise","$arity","$respond_to?","$save_original_method!","$original_method"]),function(n){var l=a(n,"RSpec");l._proto,l._scope,function(n){var l,c=a(n,"Mocks"),u=(c._proto,c._scope);!function(n){var r,s,l,c=a(n,"VerifyingProxyMethods"),u=c._proto;c._scope,u.$add_stub=r=function(n,t,a){var s=o.call(arguments,0),l=this,c=r._p;return null==a&&(a=i([],{})),r._p=null,l.$ensure_implemented(t),e.find_super_dispatcher(l,"add_stub",r,c).apply(l,s)},u.$add_simple_stub=s=function(n,t){var r=o.call(arguments,0),a=this,i=s._p;return t=o.call(arguments,1),s._p=null,a.$ensure_implemented(n),e.find_super_dispatcher(a,"add_simple_stub",s,i).apply(a,r)},u.$add_message_expectation=l=function(n,t,r){var a=o.call(arguments,0),s=this,c=l._p;return null==r&&(r=i([],{})),l._p=null,s.$ensure_implemented(t),e.find_super_dispatcher(s,"add_message_expectation",l,c).apply(s,a)},u.$ensure_implemented=function(e){var n,r,o,a=this;return null==a.doubled_module&&(a.doubled_module=t),(n=a.doubled_module["$defined?"]())===t||n._isBoolean&&1!=n?t:(n=(r=a.$method_reference()["$[]"](e)).$when_unimplemented,n._p=(o=function(){var n=o._s||this;return null==n.error_generator&&(n.error_generator=t),null==n.doubled_module&&(n.doubled_module=t),n.error_generator.$raise_unimplemented_error(n.doubled_module,e)},o._s=a,o),n).call(r)},e.donate(c,["$add_stub","$add_simple_stub","$add_message_expectation","$ensure_implemented"])}(c),function(n,$super){function r(){}var o,a,i=r=s(n,$super,"VerifyingProxy",r),l=i._proto,c=i._scope;return l.method_reference=t,i.$include(null==(o=c.VerifyingProxyMethods)?e.cm("VerifyingProxyMethods"):o),l.$initialize=a=function(n,r,o,i){var s,l,u,_,$=this;return a._p,a._p=null,e.find_super_dispatcher($,"initialize",a,null).apply($,[n,r]),$.object=n,$.doubled_module=o,$.method_reference_class=i,$.method_doubles=(s=(l=null==(_=c.Hash)?e.cm("Hash"):_).$new,s._p=(u=function(n,r){var o,a=u._s||this;return null==a.object&&(a.object=t),null==n&&(n=t),null==r&&(r=t),n["$[]="](r,(null==(o=c.VerifyingMethodDouble)?e.cm("VerifyingMethodDouble"):o).$new(a.object,r,a,a.$method_reference()["$[]"](r)))},u._s=$,u),s).call(l)},l.$method_reference=function(){var n,r,o,a,i,s=this;return(n=s.method_reference)!==!1&&n!==t?n:s.method_reference=(r=(o=null==(i=c.Hash)?e.cm("Hash"):i).$new,r._p=(a=function(e,n){var r=a._s||this;return null==r.method_reference_class&&(r.method_reference_class=t),null==r.doubled_module&&(r.doubled_module=t),null==e&&(e=t),null==n&&(n=t),e["$[]="](n,r.method_reference_class.$new(r.doubled_module,n))},a._s=s,a),r).call(o)},t}(c,null==(l=u.Proxy)?e.cm("Proxy"):l),function(n,$super){function r(){}var o,a,i=r=s(n,$super,"VerifyingPartialMockProxy",r),l=i._proto,c=i._scope;return l.method_doubles=t,i.$include(null==(o=c.VerifyingProxyMethods)?e.cm("VerifyingProxyMethods"):o),l.$initialize=a=function(n,r){var o,i,s,l,u=this;return a._p,a._p=null,e.find_super_dispatcher(u,"initialize",a,null).apply(u,[n,r]),u.doubled_module=(null==(o=c.DirectObjectReference)?e.cm("DirectObjectReference"):o).$new(n),u.method_doubles=(o=(i=null==(l=c.Hash)?e.cm("Hash"):l).$new,o._p=(s=function(r,o){var a,i=s._s||this;return null==r&&(r=t),null==o&&(o=t),r["$[]="](o,(null==(a=c.VerifyingExistingMethodDouble)?e.cm("VerifyingExistingMethodDouble"):a).$new(n,o,i))},s._s=u,s),o).call(i)},l.$method_reference=function(){var e=this;return e.method_doubles},t}(c,null==(l=u.PartialMockProxy)?e.cm("PartialMockProxy"):l),function(n,$super){function r(){}var a,i,l,c=r=s(n,$super,"VerifyingMethodDouble",r),u=c._proto,_=c._scope;return u.method_reference=t,u.$initialize=a=function(n,t,r,o){var i=this;return a._p,a._p=null,e.find_super_dispatcher(i,"initialize",a,null).apply(i,[n,t,r]),i.method_reference=o},u.$message_expectation_class=function(){var n;return null==(n=_.VerifyingMessageExpectation)?e.cm("VerifyingMessageExpectation"):n},u.$add_expectation=i=function(n){var r,a,s,l=o.call(arguments,0),c=this,u=i._p;return n=o.call(arguments,0),i._p=null,(r=(a=e.find_super_dispatcher(c,"add_expectation",i,u).apply(c,l)).$tap,r._p=(s=function(e){var n=s._s||this;return null==n.method_reference&&(n.method_reference=t),null==e&&(e=t),e["$method_reference="](n.method_reference)},s._s=c,s),r).call(a)},u.$proxy_method_invoked=l=function(n,t){var r=o.call(arguments,0),a=this,i=l._p;return t=o.call(arguments,1),l._p=null,a["$ensure_arity!"](t.$length()),e.find_super_dispatcher(a,"proxy_method_invoked",l,i).apply(a,r)},c.$private(),u["$ensure_arity!"]=function(n){var r,o,a,i=this;return(r=(o=i.method_reference).$when_defined,r._p=(a=function(r){var o,i=a._s||this,s=t;return null==r&&(r=t),s=(null==(o=_.ArityCalculator)?e.cm("ArityCalculator"):o).$new(r),(o=s["$within_range?"](n))===t||o._isBoolean&&1!=o?i.$raise(null==(o=_.ArgumentError)?e.cm("ArgumentError"):o,"wrong number of arguments ("+n+" for "+r.$arity()+")"):t},a._s=i,a),r).call(o)},t}(c,null==(l=u.MethodDouble)?e.cm("MethodDouble"):l),function(n,$super){function o(){}var a,i,l,c=o=s(n,$super,"VerifyingExistingMethodDouble",o),u=c._proto;return c._scope,u.valid_method=t,u.$initialize=a=function(n,t,r){var o=this;return a._p,a._p=null,e.find_super_dispatcher(o,"initialize",a,null).apply(o,[n,t,r,o]),o.valid_method=n["$respond_to?"](t),o["$save_original_method!"]()},u.$when_defined=i=function(){var n,o=this,a=i._p,s=a||t;return i._p=null,n=e.$yield1(s,o.$original_method()),n===r?n:n},u.$when_unimplemented=l=function(){var n,o=this,a=l._p,i=a||t;return l._p=null,(n=o.valid_method)===t||n._isBoolean&&1!=n?(n=e.$yieldX(i,[]),n===r?n:n):t},t}(c,null==(l=u.VerifyingMethodDouble)?e.cm("VerifyingMethodDouble"):l)}(l)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass,i=e.hash2;return e.add_stubs(["$null_object?","$ensure_implemented","$__mock_proxy","$include","$__initialize_as_test_double","$new","$stub","$const_to_replace"]),function(n){var s=o(n,"RSpec");s._proto,s._scope,function(n){var s,l=o(n,"Mocks"),c=(l._proto,l._scope);!function(n){var a,i=o(n,"VerifyingDouble"),s=i._proto;i._scope,s.$method_missing=a=function(n,o){var i,s=r.call(arguments,0),l=this,c=a._p;return o=r.call(arguments,1),a._p=null,(i=l["$null_object?"]())===t||i._isBoolean&&1!=i||l.$__mock_proxy().$ensure_implemented(n),e.find_super_dispatcher(l,"method_missing",a,c).apply(l,s)
},e.donate(i,["$method_missing"])}(l),function(n,$super){function o(){}var i,s=o=a(n,$super,"InstanceVerifyingDouble",o),l=s._proto,c=s._scope;return l.doubled_module=t,s.$include(null==(i=c.TestDouble)?e.cm("TestDouble"):i),s.$include(null==(i=c.VerifyingDouble)?e.cm("VerifyingDouble"):i),l.$initialize=function(e,n){var t,o=this;return n=r.call(arguments,1),o.doubled_module=e,(t=o).$__initialize_as_test_double.apply(t,[e].concat(n))},l.$__build_mock_proxy=function(n){var t,r=this;return(null==(t=c.VerifyingProxy)?e.cm("VerifyingProxy"):t).$new(r,n,r.doubled_module,null==(t=c.InstanceMethodReference)?e.cm("InstanceMethodReference"):t)},t}(l,null),function(n){var a,s=o(n,"ObjectVerifyingDoubleMethods"),l=s._proto,c=s._scope;s.$include(null==(a=c.TestDouble)?e.cm("TestDouble"):a),s.$include(null==(a=c.VerifyingDouble)?e.cm("VerifyingDouble"):a),l.$initialize=function(e,n){var t,o=this;return n=r.call(arguments,1),o.doubled_module=e,(t=o).$__initialize_as_test_double.apply(t,[e].concat(n))},l.$__build_mock_proxy=function(n){var r,o=this;return null==o.doubled_module&&(o.doubled_module=t),(null==(r=c.VerifyingProxy)?e.cm("VerifyingProxy"):r).$new(o,n,o.doubled_module,null==(r=c.ObjectMethodReference)?e.cm("ObjectMethodReference"):r)},l.$as_stubbed_const=function(n){var r,o=this;return null==o.doubled_module&&(o.doubled_module=t),null==n&&(n=i([],{})),(null==(r=c.ConstantMutator)?e.cm("ConstantMutator"):r).$stub(o.doubled_module.$const_to_replace(),o,n),o},e.donate(s,["$initialize","$__build_mock_proxy","$as_stubbed_const"])}(l),function(n,$super){function t(){}var r,o=t=a(n,$super,"ObjectVerifyingDouble",t),i=(o._proto,o._scope);return o.$include(null==(r=i.ObjectVerifyingDoubleMethods)?e.cm("ObjectVerifyingDoubleMethods"):r)}(l,null),function(n,$super){function t(){}var r,o=t=a(n,$super,"ClassVerifyingDouble",t),i=(o._proto,o._scope);return o.$include(null==(r=i.ObjectVerifyingDoubleMethods)?e.cm("ObjectVerifyingDoubleMethods"):r)}(l,null==(s=c.Module)?e.cm("Module"):s)}(s)}(n)}(Opal),function(e){return e.top,e.nil,e.breaker,e.slice,e.add_stubs([]),!0}(Opal),function(e){var n=e.top,t=(e.nil,e.breaker,e.slice,e.module);return e.add_stubs([]),function(n){var r=t(n,"RSpec");r._proto,r._scope,function(n){var r=t(n,"Mocks");r._proto,r._scope,function(n){var r=t(n,"Version"),o=(r._proto,r._scope);e.cdecl(o,"STRING","3.0.0.beta1")}(r)}(r)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.hash2;return e.add_stubs(["$attr_accessor","$class_exec","$include","$space","$space=","$new","$verify_all","$reset_all","$proxy_for","$proxies_of","$any_instance_recorder_for","$fetch","$first_non_rspec_line","$add_stub","$to_proc","$add_message_expectation","$instance_method","$===","$call","$bind","$method"]),function(n){var a=r(n,"RSpec");a._proto,a._scope,function(n){var a=r(n,"Mocks"),i=(a._proto,a._scope);!function(n){var r=n._scope;return n._proto,n.$attr_accessor("space"),n._proto.$setup=function(n){var o,a,i,s,l,c,u,_=this;return(o=(a=function(e){return e._scope,e._proto,e}(n.$singleton_class())).$class_exec,o._p=(i=function(){var n,t,o,a=i._s||this;return a.$include(null==(n=(null==(t=(null==(o=r.RSpec)?e.cm("RSpec"):o)._scope).Mocks?t.cm("Mocks"):t.Mocks)._scope).ExampleMethods?n.cm("ExampleMethods"):n.ExampleMethods)},i._s=_,i),o).call(a),o=_,(s=o.$space())!==!1&&s!==t?s:o["$space="]((null==(l=(null==(c=(null==(u=r.RSpec)?e.cm("RSpec"):u)._scope).Mocks?c.cm("Mocks"):c.Mocks)._scope).Space?l.cm("Space"):l.Space).$new())},n._proto.$verify=function(){var e=this;return e.$space().$verify_all()},n._proto.$teardown=function(){var e=this;return e.$space().$reset_all()},n._proto.$proxy_for=function(e){var n=this;return n.$space().$proxy_for(e)},n._proto.$proxies_of=function(e){var n=this;return n.$space().$proxies_of(e)},n._proto.$any_instance_recorder_for=function(e){var n=this;return n.$space().$any_instance_recorder_for(e)},n._proto.$allow_message=TMP_2=function(n,a,i){var s,l,c,u,_,$,p=this,d=TMP_2._p,f=d||t,m=t;return null==i&&(i=o([],{})),TMP_2._p=null,m=(s=(l=i).$fetch,s._p=(c=function(){var n;return c._s||this,(null==(n=r.CallerFilter)?e.cm("CallerFilter"):n).$first_non_rspec_line()},c._s=p,c),s).call(l,"expected_from"),(s=(u=(null==(_=(null==($=e.Object._scope.RSpec)?e.cm("RSpec"):$)._scope).Mocks?_.cm("Mocks"):_.Mocks).$proxy_for(n)).$add_stub,s._p=f.$to_proc(),s).call(u,m,a,i)},n._proto.$expect_message=TMP_4=function(n,a,i){var s,l,c,u,_,$,p=this,d=TMP_4._p,f=d||t,m=t;return null==i&&(i=o([],{})),TMP_4._p=null,m=(s=(l=i).$fetch,s._p=(c=function(){var n;return c._s||this,(null==(n=r.CallerFilter)?e.cm("CallerFilter"):n).$first_non_rspec_line()},c._s=p,c),s).call(l,"expected_from"),(s=(u=(null==(_=(null==($=e.Object._scope.RSpec)?e.cm("RSpec"):$)._scope).Mocks?_.cm("Mocks"):_.Mocks).$proxy_for(n)).$add_message_expectation,s._p=f.$to_proc(),s).call(u,m,a,i)},e.cdecl(r,"KERNEL_METHOD_METHOD",(null==($a=e.Object._scope.Kernel)?e.cm("Kernel"):$a).$instance_method("method")),n._proto.$method_handle_for=function(n,o){var a,i;return(a=(null==(i=e.Object._scope.Kernel)?e.cm("Kernel"):i)["$==="](n))===t||a._isBoolean&&1!=a?n.$method(o):(null==(a=r.KERNEL_METHOD_METHOD)?e.cm("KERNEL_METHOD_METHOD"):a).$bind(n).$call(o)},t}(a.$singleton_class()),e.cdecl(i,"IGNORED_BACKTRACE_LINE","this backtrace line is ignored")}(a)}(n)}(Opal),function(e){var n=e.top,t=(e.nil,e.breaker,e.slice,e.module);return e.add_stubs(["$configuration","$setup","$verify","$teardown"]),function(n){var r=t(n,"RSpec");r._proto,r._scope,function(n){var r=t(n,"Core");r._proto,r._scope,function(n){var r=t(n,"MockFrameworkAdapter"),o=r._proto,a=r._scope;e.defs(r,"$framework_name",function(){return"rspec"}),e.defs(r,"$configuration",function(){var n,t;return(null==(n=(null==(t=a.RSpec)?e.cm("RSpec"):t)._scope).Mocks?n.cm("Mocks"):n.Mocks).$configuration()}),o.$setup_mocks_for_rspec=function(){var n,t,r=this;return(null==(n=(null==(t=a.RSpec)?e.cm("RSpec"):t)._scope).Mocks?n.cm("Mocks"):n.Mocks).$setup(r)},o.$verify_mocks_for_rspec=function(){var n,t;return(null==(n=(null==(t=a.RSpec)?e.cm("RSpec"):t)._scope).Mocks?n.cm("Mocks"):n.Mocks).$verify()},o.$teardown_mocks_for_rspec=function(){var n,t;return(null==(n=(null==(t=a.RSpec)?e.cm("RSpec"):t)._scope).Mocks?n.cm("Mocks"):n.Mocks).$teardown()},e.donate(r,["$setup_mocks_for_rspec","$verify_mocks_for_rspec","$teardown_mocks_for_rspec"])}(r)}(r)}(n)}(Opal),function(e){return e.top,e.nil,e.breaker,e.slice,e.add_stubs([]),!0}(Opal),function(e){var n,t,r,o=(e.top,e),a=e.nil,i=e.breaker,s=(e.slice,e.module),l=e.klass,c=e.gvars;return e.add_stubs(["$flatten","$map","$module_function","$!","$raise","$+","$new","$dup","$to_s","$gsub","$tr","$downcase","$=~","$[]","$empty?","$description","$upcase","$lstrip","$const_defined?","$next","$__id__","$original_method"]),function(n){var t,r=s(n,"FlatMap"),o=r._proto;r._scope,o.$flat_map=t=function(n){var r,o,s,l=this,c=t._p,u=c||a;return t._p=null,(r=(o=n).$map,r._p=(s=function(n){var t;return s._s||this,null==n&&(n=a),t=e.$yield1(u,n),t===i?t:t},s._s=l,s),r).call(o).$flatten()},r.$module_function("flat_map"),e.donate(r,["$flat_map"])}(null==(n=(null==(t=o.RSpec)?e.cm("RSpec"):t)._scope).Core?n.cm("Core"):n.Core),function(n,$super){function t(){}var r=t=l(n,$super,"CallerFilter",t);return r._proto,r._scope,e.defs(r,"$first_non_rspec_line",function(){return""}),a}(null==(n=o.RSpec)?e.cm("RSpec"):n,null),function(n){var t=s(n,"Expectations"),r=(t._proto,t._scope);e.defs(t,"$fail_with",function(n,t,o){var i,s,l,c=this;return null==t&&(t=a),null==o&&(o=a),(i=n["$!"]())===a||i._isBoolean&&1!=i||c.$raise(null==(i=r.ArgumentError)?e.cm("ArgumentError"):i,"Failure message is nil. Does your matcher define the "["$+"]("appropriate failure_message_for_* method to return a string?")),c.$raise((null==(i=(null==(s=(null==(l=r.RSpec)?e.cm("RSpec"):l)._scope).Expectations?s.cm("Expectations"):s.Expectations)._scope).ExpectationNotMetError?i.cm("ExpectationNotMetError"):i.ExpectationNotMetError).$new(n))})}(null==(n=o.RSpec)?e.cm("RSpec"):n),function(n){var t=s(n,"Pretty"),r=t._proto;t._scope,r.$underscore=function(e){var n=a;return n=e.$to_s().$dup(),n=n.$gsub(/([A-Z]+)([A-Z][a-z])/,"$1_$2"),n=n.$gsub(/([a-z\d])([A-Z])/,"$1_$2"),n=n.$tr("-","_"),n=n.$downcase()},e.donate(t,["$underscore"])}(null==(n=(null==(t=o.RSpec)?e.cm("RSpec"):t)._scope).Matchers?n.cm("Matchers"):n.Matchers),function(e,$super){function n(){}var t=n=l(e,$super,"BePredicate",n),r=t._proto;return t._scope,r.$prefix_and_expected=function(e){return e.$to_s()["$=~"](/^(be_(an?_)?)(.*)/),[c["~"]["$[]"](1),c["~"]["$[]"](3)]},a}(null==(n=(null==(t=(null==(r=o.RSpec)?e.cm("RSpec"):r)._scope).Matchers?t.cm("Matchers"):t.Matchers)._scope).BuiltIn?n.cm("BuiltIn"):n.BuiltIn,null),function(n){var t=s(n,"ExampleGroups");t._proto,t._scope,e.defs(t,"$base_name_for",function(e){var n,t,r,o=this,i=a;return(n=e.$description()["$empty?"]())===a||n._isBoolean&&1!=n?(i=" "["$+"](e.$description()),i=(n=(t=i).$gsub,n._p=(r=function(e){return r._s||this,null==e&&(e=a),e["$[]"](1).$upcase()},r._s=o,r),n).call(t,/[^0-9a-zA-Z]+([0-9a-zA-Z])/),i=i.$lstrip(),i=i.$gsub(/\W/,""),i=i.$gsub(/^([^A-Z]|$)/,"Nested$1")):"Anonymous"}),e.defs(t,"$disambiguate",function(e,n){var t,r;if((t=n["$const_defined?"](e))===a||t._isBoolean&&1!=t)return e;for(e=e["$+"]("_2");(r=n["$const_defined?"](e))!==a&&(!r._isBoolean||1==r);)e=e.$next();return e})}(null==(n=o.RSpec)?e.cm("RSpec"):n),function(e,$super){function n(){}var t=n=l(e,$super,"Space",n),r=t._proto;return t._scope,r.$id_for=function(e){return e.$__id__()},a}(null==(n=(null==(t=o.RSpec)?e.cm("RSpec"):t)._scope).Mocks?n.cm("Mocks"):n.Mocks,null),function(e,$super){function n(){}var t=n=l(e,$super,"MethodDouble",n),r=t._proto;return t._scope,r.original_method=r.method_stasher=a,r["$save_original_method!"]=function(){var e,n=this;return(e=n.original_method)!==!1&&e!==a?e:n.original_method=n.method_stasher.$original_method()},a}(null==(n=(null==(t=o.RSpec)?e.cm("RSpec"):t)._scope).Mocks?n.cm("Mocks"):n.Mocks,null)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return e.add_stubs(["$empty?","$failed_examples","$puts","$each_with_index","$dump_failure","$short_padding","$next","$full_description","$dump_failure_info","$[]","$execution_result","$to_s","$name","$class","$red","$long_padding","$each","$split","$message","$==","$green","$finish_with_code"]),function(n){var a=r(n,"Opal");a._proto,a._scope,function(n){var a,i,s,l,c=r(n,"RSpec");c._proto,c._scope,function(e,$super){function n(){}var r=n=o(e,$super,"TextFormatter",n),a=r._proto;return r._scope,a.$dump_failures=function(){var e,n,r,o=this;return(e=o.$failed_examples()["$empty?"]())===t||e._isBoolean&&1!=e?(o.$puts("\nFailures:"),(e=(n=o.$failed_examples()).$each_with_index,e._p=(r=function(e,n){var o=r._s||this;return null==e&&(e=t),null==n&&(n=t),o.$puts("\n"),o.$dump_failure(e,n)},r._s=o,r),e).call(n)):o.$puts("\nFinished")},a.$dump_failure=function(e,n){var t=this;return t.$puts(""+t.$short_padding()+n.$next()+") "+e.$full_description()),t.$dump_failure_info(e)},a.$dump_failure_info=function(e){var n,r,o,a=this,i=t,s=t;return i=e.$execution_result()["$[]"]("exception"),s=i.$class().$name().$to_s(),a.$red(""+a.$long_padding()+s+":"),(n=(r=i.$message().$to_s().$split("\n")).$each,n._p=(o=function(e){var n=o._s||this;return null==e&&(e=t),n.$red(""+n.$long_padding()+"  "+e)},o._s=a,o),n).call(r)},a.$dump_summary=function(e,n,r,o){var a=this,i=t;return a.duration=e,a.example_count=n,a.failure_count=r,a.pending_count=o,i="\n"+n+" examples, "+r+" failures (time taken: "+e+")",r["$=="](0)?(a.$green(i),a.$finish_with_code(0)):(a.$red(i),a.$finish_with_code(1))},a.$finish_with_code=function(e){"undefined"!=typeof phantom?phantom.exit(e):Opal.global.OPAL_SPEC_CODE=e},a.$green=function(e){return console.log("[32m"+e+"[0m")},a.$red=function(e){return console.log("[31m"+e+"[0m")},a.$short_padding=function(){return"  "},a.$long_padding=function(){return"     "},t}(c,null==(a=(null==(i=(null==(s=(null==(l=e.Object._scope.RSpec)?e.cm("RSpec"):l)._scope).Core?s.cm("Core"):s.Core)._scope).Formatters?i.cm("Formatters"):i.Formatters)._scope).BaseFormatter?a.cm("BaseFormatter"):a.BaseFormatter)}(a)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.klass),o=e.hash2;return e.add_stubs(["$[]","$[]=","$keys","$attr_reader","$instance_exec","$to_proc","$new","$<<","$join"]),function(n,$super){function a(){}var i,s=a=r(n,$super,"Template",a),l=s._proto,c=s._scope;return l.name=l.body=t,s._cache=o([],{}),e.defs(s,"$[]",function(e){var n=this;return null==n._cache&&(n._cache=t),n._cache["$[]"](e)}),e.defs(s,"$[]=",function(e,n){var r=this;return null==r._cache&&(r._cache=t),r._cache["$[]="](e,n)}),e.defs(s,"$paths",function(){var e=this;return null==e._cache&&(e._cache=t),e._cache.$keys()}),s.$attr_reader("body"),l.$initialize=i=function(n){var r,o=this,a=i._p,s=a||t;return i._p=null,r=[n,s],o.name=r[0],o.body=r[1],(null==(r=c.Template)?e.cm("Template"):r)["$[]="](n,o)},l.$inspect=function(){var e=this;return"#<Template: '"+e.name+"'>"},l.$render=function(n){var t,r,o,a=this;return null==n&&(n=a),(t=(r=n).$instance_exec,t._p=a.body.$to_proc(),t).call(r,(null==(o=c.OutputBuffer)?e.cm("OutputBuffer"):o).$new())},function(e,$super){function n(){}var o=n=r(e,$super,"OutputBuffer",n),a=o._proto;return o._scope,a.buffer=t,a.$initialize=function(){var e=this;return e.buffer=[]},a.$append=function(e){var n=this;return n.buffer["$<<"](e)},a["$append="]=function(e){var n=this;return n.buffer["$<<"](e)},a.$join=function(){var e=this;return e.buffer.$join()},t}(s,null)}(n,null)}(Opal),function(e){var n=e.top,t=(e.nil,e.breaker,e.slice,e.klass),r=e.module;return e.add_stubs(["$module_function"]),function(n,$super){function o(){}var a=o=t(n,$super,"ERB",o);return a._proto,a._scope,function(n){var t=r(n,"Util"),o=t._proto;t._scope;var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i=/[&<>"']/g;o.$html_escape=function(e){return(""+e).replace(i,function(e){return a[e]})},e.defn(t,"$h",o.$html_escape),t.$module_function("h"),t.$module_function("html_escape"),e.donate(t,["$html_escape","$h"])}(a)}(n,null)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass,i=e.hash2;return e.add_stubs(["$include","$new","$<<","$id","$+","$append_to_head","$size","$parent_groups","$description","$style","$*","$-","$class_name=","$sprintf","$[]","$execution_result","$to_s","$name","$class","$short_padding","$each","$long_padding","$split","$message","$h","$html=","$add_scripts","$attr_reader","$===","$__send__","$gsub","$native"]),function(n){var s=o(n,"Opal");s._proto,s._scope,function(n){var s,l,c,u,_=o(n,"RSpec");_._proto,_._scope,function(n,$super){function o(){}var s,l,c,u,_,$,p,d,f,m,h,v=o=a(n,$super,"BrowserFormatter",o),g=v._proto,b=v._scope;return g.rspec_group=g.rspec_dl=g.rspec_dt=g.rspec_results=g.example_group_failed=t,v.$include(null==(s=(null==(l=b.ERB)?e.cm("ERB"):l)._scope).Util?s.cm("Util"):s.Util),e.cdecl(b,"CSS_STYLES",null==(s=(null==(l=(null==(c=(null==(u=(null==(_=e.Object._scope.RSpec)?e.cm("RSpec"):_)._scope).Core?u.cm("Core"):u.Core)._scope).Formatters?c.cm("Formatters"):c.Formatters)._scope).HtmlPrinter?l.cm("HtmlPrinter"):l.HtmlPrinter)._scope).GLOBAL_STYLES?s.cm("GLOBAL_STYLES"):s.GLOBAL_STYLES),g.$start=$=function(){var n,o=r.call(arguments,0),a=this,s=$._p,l=t,c=t,u=t;return $._p=null,e.find_super_dispatcher(a,"start",$,s).apply(a,o),l=(null==(n=b.Element)?e.cm("Element"):n).$new(document.body),l["$<<"]((null==(n=b.Element)?e.cm("Element"):n).$new("div",i(["html"],{html:null==(n=b.REPORT_TEMPLATE)?e.cm("REPORT_TEMPLATE"):n}))),a.rspec_results=(null==(n=b.Element)?e.cm("Element"):n).$id("rspec-results"),c=(null==(n=b.CSS_STYLES)?e.cm("CSS_STYLES"):n)["$+"]("\n body { padding: 0; margin: 0 }"),u=(null==(n=b.Element)?e.cm("Element"):n).$new("style",i(["type","css_text"],{type:"text/css",css_text:c})),u.$append_to_head()},g.$example_group_started=p=function(n){var o,a=r.call(arguments,0),s=this,l=p._p,c=t;return p._p=null,e.find_super_dispatcher(s,"example_group_started",p,l).apply(s,a),s.example_group_failed=!1,c=n.$parent_groups().$size(),s.rspec_group=(null==(o=b.Element)?e.cm("Element"):o).$new("div",i(["class_name"],{class_name:"example_group passed"})),s.rspec_dl=(null==(o=b.Element)?e.cm("Element"):o).$new("dl"),s.rspec_dt=(null==(o=b.Element)?e.cm("Element"):o).$new("dt",i(["class_name","text"],{class_name:"passed",text:n.$description()})),s.rspec_group["$<<"](s.rspec_dl),s.rspec_dl["$<<"](s.rspec_dt),s.rspec_dl.$style("margin-left",""+c["$-"](2)["$*"](15)+"px"),s.rspec_results["$<<"](s.rspec_group)},g.$example_group_finished=d=function(){var n,o=r.call(arguments,0),a=this,i=d._p;return d._p=null,e.find_super_dispatcher(a,"example_group_finished",d,i).apply(a,o),(n=a.example_group_failed)===t||n._isBoolean&&1!=n?t:(a.rspec_group["$class_name="]("example_group failed"),a.rspec_dt["$class_name="]("failed"),(null==(n=b.Element)?e.cm("Element"):n).$id("rspec-header")["$class_name="]("failed"))},g.$example_failed=f=function(n){var o,a,s,l=r.call(arguments,0),c=this,u=f._p,_=t,$=t,p=t,d=t;return f._p=null,e.find_super_dispatcher(c,"example_failed",f,u).apply(c,l),_=c.$sprintf("%0.5f",n.$execution_result()["$[]"]("run_time")),$=n.$execution_result()["$[]"]("exception"),p=$.$class().$name().$to_s(),d=""+c.$short_padding()+p+":\n",(o=(a=$.$message().$to_s().$split("\n")).$each,o._p=(s=function(e){var n=s._s||this;return null==e&&(e=t),d=d["$+"](""+n.$long_padding()+"  "+e+"\n")},s._s=c,s),o).call(a),c.example_group_failed=!0,c.rspec_dl["$<<"]((null==(o=b.Element)?e.cm("Element"):o).$new("dd",i(["class_name","html"],{class_name:"example failed",html:'          <span class="failed_spec_name">'+c.$h(n.$description())+'</span>\n          <span class="duration">'+_+'s</span>\n          <div class="failure">\n            <div class="message"><pre>'+c.$h(d)+"</pre></div>\n          </div>\n"})))},g.$example_passed=m=function(n){var o,a=r.call(arguments,0),s=this,l=m._p,c=t;return m._p=null,e.find_super_dispatcher(s,"example_passed",m,l).apply(s,a),c=s.$sprintf("%0.5f",n.$execution_result()["$[]"]("run_time")),s.rspec_dl["$<<"]((null==(o=b.Element)?e.cm("Element"):o).$new("dd",i(["class_name","html"],{class_name:"example passed",html:'          <span class="passed_spec_name">'+s.$h(n.$description())+'</span>\n          <span class="duration">'+c+"s</span>\n"})))},g.$dump_summary=h=function(n,o,a){var i,s=r.call(arguments,0),l=this,c=h._p,u=t;return h._p=null,e.find_super_dispatcher(l,"dump_summary",h,c).apply(l,s),u=""+o+" examples, "+a+" failures",(null==(i=b.Element)?e.cm("Element"):i).$id("totals")["$html="](u),n="Finished in <strong>"+l.$sprintf("%.5f",n)+" seconds</strong>",(null==(i=b.Element)?e.cm("Element"):i).$id("duration")["$html="](n),l.$add_scripts()},g.$add_scripts=function(){var n,r,o,a,i,s=t;return s=null==(n=(null==(r=(null==(o=(null==(a=(null==(i=e.Object._scope.RSpec)?e.cm("RSpec"):i)._scope).Core?a.cm("Core"):a.Core)._scope).Formatters?o.cm("Formatters"):o.Formatters)._scope).HtmlPrinter?r.cm("HtmlPrinter"):r.HtmlPrinter)._scope).GLOBAL_SCRIPTS?n.cm("GLOBAL_SCRIPTS"):n.GLOBAL_SCRIPTS,window.eval(s)},g.$short_padding=function(){return"  "},g.$long_padding=function(){return"     "},function(n,$super){function r(){}var o=r=a(n,$super,"Element",r),s=o._proto,l=o._scope;return s["native"]=t,o.$attr_reader("native"),e.defs(o,"$id",function(e){var n=this;return n.$new(document.getElementById(e))}),s.$initialize=function(n,r){var o,a,s,c=this;return null==r&&(r=i([],{})),c["native"]=(o=(null==(a=l.String)?e.cm("String"):a)["$==="](n))===t||o._isBoolean&&1!=o?n:document.createElement(n),(o=(a=r).$each,o._p=(s=function(e,n){var r=s._s||this;return null==e&&(e=t),null==n&&(n=t),r.$__send__(""+e+"=",n)},s._s=c,s),o).call(a)},s["$class_name="]=function(e){var n=this;return n["native"].className=e},s["$html="]=function(e){var n=this;return n["native"].innerHTML=e},s["$text="]=function(e){var n=this;return n["$html="](e.$gsub(/</,"&lt").$gsub(/>/,"&gt"))},s["$type="]=function(e){var n=this;return n["native"].type=e},s.$append=function(e){var n=this;return n["native"].appendChild(e.$native())},e.defn(o,"$<<",s.$append),s["$css_text="]=function(e){var n=this;n["native"].styleSheet?n["native"].styleSheet.cssText=e:n["native"].appendChild(document.createTextNode(e))},s.$style=function(e,n){var t=this;return t["native"].style[e]=n},s.$append_to_head=function(){var e=this;return document.getElementsByTagName("head")[0].appendChild(e["native"])},t}(v,null),e.cdecl(b,"REPORT_TEMPLATE",'<div class="rspec-report">\n\n  <div id="rspec-header">\n    <div id="label">\n      <h1>RSpec Code Examples</h1>\n    </div>\n\n    <div id="display-filters">\n      <input id="passed_checkbox"  name="passed_checkbox"  type="checkbox" checked="checked" onchange="apply_filters()" value="1" /> <label for="passed_checkbox">Passed</label>\n      <input id="failed_checkbox"  name="failed_checkbox"  type="checkbox" checked="checked" onchange="apply_filters()" value="2" /> <label for="failed_checkbox">Failed</label>\n      <input id="pending_checkbox" name="pending_checkbox" type="checkbox" checked="checked" onchange="apply_filters()" value="3" /> <label for="pending_checkbox">Pending</label>\n    </div>\n\n    <div id="summary">\n      <p id="totals">&#160;</p>\n      <p id="duration">&#160;</p>\n    </div>\n  </div>\n\n  <div id="rspec-results" class="results">\n  </div>\n</div>\n')}(_,null==(s=(null==(l=(null==(c=(null==(u=e.Object._scope.RSpec)?e.cm("RSpec"):u)._scope).Core?c.cm("Core"):c.Core)._scope).Formatters?l.cm("Formatters"):l.Formatters)._scope).BaseFormatter?s.cm("BaseFormatter"):s.BaseFormatter)}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass,a=e.hash2,i=e.gvars;return e.add_stubs(["$phantom?","$browser?","$run","$new","$world","$configuration","$error_stream=","$output_stream","$output_stream=","$start","$run_examples","$run_async_examples","$finish","$all?","$map","$example_groups","$reporter","$example_count","$run_hook"]),function(n){var s=r(n,"Opal");s._proto,s._scope,function(n){var s=r(n,"RSpec");s._proto,s._scope,function(n,$super){function r(){}var s,l=r=o(n,$super,"Runner",r),c=l._proto,u=l._scope;return c.configuration=c.world=c.reporter=t,function(n){var r=n._scope;return n._proto,n._proto["$browser?"]=function(){return"undefined"!=typeof document},n._proto["$phantom?"]=function(){return"undefined"!=typeof phantom||"undefined"!=typeof OPAL_SPEC_PHANTOM},n._proto.$default_formatter=function(){var n,o=this;return(n=o["$phantom?"]())===t||n._isBoolean&&1!=n?null==(n=r.BrowserFormatter)?e.cm("BrowserFormatter"):n:null==(n=r.TextFormatter)?e.cm("TextFormatter"):n},n._proto.$autorun=function(){var n,o=this;return(n=o["$browser?"]())===t||n._isBoolean&&1!=n?(null==(n=r.Runner)?e.cm("Runner"):n).$new().$run():setTimeout(function(){(null==(n=r.Runner)?e.cm("Runner"):n).$new().$run()},0)},t}(l.$singleton_class()),c.$initialize=function(n){var t,r=this;return null==n&&(n=a([],{})),r.options=n,r.world=(null==(t=e.Object._scope.RSpec)?e.cm("RSpec"):t).$world(),r.configuration=(null==(t=e.Object._scope.RSpec)?e.cm("RSpec"):t).$configuration()},c.$run=function(e,n){var r,o,a,s=this;return null==e&&(e=i.stdout),null==n&&(n=i.stdout),s.configuration["$error_stream="](e),r=s.configuration,(o=r.$output_stream())!==!1&&o!==t?o:r["$output_stream="](n),s.$start(),s.$run_examples(),(r=(o=s).$run_async_examples,r._p=(a=function(){var e=a._s||this;return e.$finish()},a._s=s,a),r).call(o)},c.$run_examples=function(){var e,n,r,o=this;return(e=(n=o.world.$example_groups()).$map,e._p=(r=function(e){var n=r._s||this;return null==n.reporter&&(n.reporter=t),null==e&&(e=t),e.$run(n.reporter)},r._s=o,r),e).call(n)["$all?"]()},c.$run_async_examples=s=function(){var n,r=this,o=s._p,a=o||t;return s._p=null,(null==(n=u.AsyncRunner)?e.cm("AsyncRunner"):n).$new(r,r.reporter,a).$run()},c.$start=function(){var e=this;return e.reporter=e.configuration.$reporter(),e.reporter.$start(e.world.$example_count()),e.configuration.$run_hook("before","suite")},c.$finish=function(){var e=this;return e.configuration.$run_hook("after","suite"),e.reporter.$finish()},t}(s,null)}(s)}(n)}(Opal),function(e){var n=e.top,t=e.nil,r=(e.breaker,e.slice),o=e.module,a=e.klass;return e.add_stubs(["$build_hash_from","$register","$continue_async","$current_example","$clone","$examples","$run_next_example","$empty?","$finish","$run_example","$pop","$example_group","$example_group_started","$new","$run","$example_finished","$example_group_finished","$call","$<<","$current_example=","$start","$run_before_each","$instance_exec","$to_proc","$===","$set_exception","$async_example_finished","$run_after_each","$each","$instance_variable_set","$instance_variables","$assign_generated_description"]),function(n){var i=o(n,"Opal");i._proto,i._scope,function(n){var i,s,l,c=o(n,"RSpec");c._proto,c._scope,function(n){var a,i=o(n,"AsyncDefinitions"),s=i._proto,l=i._scope;s.$async=a=function(n,o){var i,s,c,u=this,_=a._p,$=_||t,p=t;return o=r.call(arguments,1),a._p=null,p=(null==(i=(null==(s=(null==(c=e.Object._scope.RSpec)?e.cm("RSpec"):c)._scope).Core?s.cm("Core"):s.Core)._scope).Metadata?i.cm("Metadata"):i.Metadata).$build_hash_from(o),(null==(i=(null==(s=(null==(c=l.Opal)?e.cm("Opal"):c)._scope).RSpec?s.cm("RSpec"):s.RSpec)._scope).AsyncExample?i.cm("AsyncExample"):i.AsyncExample).$register(u,n,p,$)},e.donate(i,["$async"])}(c),function(n){var r,a,i=o(n,"AsyncHelpers"),s=i._proto;i._scope,s.$run_async=r=function(){var n,o=r._p,a=o||t;return r._p=null,(null==(n=e.Object._scope.RSpec)?e.cm("RSpec"):n).$current_example().$continue_async(a)},s.$set_timeout=a=function(e){var n=this,r=a._p,o=r||t;return a._p=null,setTimeout(o,e),n},e.donate(i,["$run_async","$set_timeout"])}(c),function(n,$super){function r(){}var o=r=a(n,$super,"AsyncRunner",r),i=o._proto,s=o._scope;return i.examples=i.reporter=i.finish_block=t,i.$initialize=function(e,n,t){var r=this;return r.runner=e,r.reporter=n,r.finish_block=t},i.$run=function(){var n,t=this;return t.examples=(null==(n=s.AsyncExample)?e.cm("AsyncExample"):n).$examples().$clone(),t.$run_next_example()},i.$run_next_example=function(){var e,n=this;return(e=n.examples["$empty?"]())===t||e._isBoolean&&1!=e?n.$run_example(n.examples.$pop()):n.$finish()},i.$run_example=function(e){var n,r,o,a=this,i=t,s=t;return i=e.$example_group(),a.reporter.$example_group_started(i),s=i.$new(),(n=(r=e).$run,n._p=(o=function(){var n=o._s||this;return n.$example_finished(e)},o._s=a,o),n).call(r,s,a.reporter)},i.$example_finished=function(e){var n=this;return n.reporter.$example_group_finished(e.$example_group()),n.$run_next_example()},i.$finish=function(){var e=this;return e.finish_block.$call()},t}(c,null),function(n,$super){function o(){}var i,s=o=a(n,$super,"AsyncExample",o),l=s._proto,c=s._scope;return l.example_block=l.example_group_instance=l.reporter=l.after_run_block=t,e.defs(s,"$register",function(e){var n,t=this;return e=r.call(arguments,0),t.$examples()["$<<"]((n=t).$new.apply(n,[].concat(e)))}),e.defs(s,"$examples",function(){var e,n=this;return null==n.examples&&(n.examples=t),(e=n.examples)!==!1&&e!==t?e:n.examples=[]}),l.$run=i=function(n,r){var o,a,s=this,l=i._p,u=l||t,_=t,$=t;i._p=null,s.example_group_instance=n,s.reporter=r,s.after_run_block=u,_=!0,(null==(o=e.Object._scope.RSpec)?e.cm("RSpec"):o)["$current_example="](s),s.$start(r);try{s.$run_before_each(),(o=(a=s.example_group_instance).$instance_exec,o._p=s.example_block.$to_proc(),o).call(a,s)}catch(p){if(!(null==(o=c.Exception)?e.cm("Exception"):o)["$==="](p))throw p;$=p,s.$set_exception($),_=!1}return _!==!1&&_!==t?t:s.$async_example_finished()},l.$continue_async=function(n){var r,o=this,a=t;try{n.$call()}catch(i){if(!(null==(r=c.Exception)?e.cm("Exception"):r)["$==="](i))throw i;a=i,o.$set_exception(a)}return o.$async_example_finished()},l.$async_example_finished=function(){var n,r,o,a=this,i=t;try{try{a.$run_after_each()}catch(s){if(!(null==(n=c.Exception)?e.cm("Exception"):n)["$==="](s))throw s;i=s,a.$set_exception(i)}}finally{(n=(r=a.example_group_instance.$instance_variables()).$each,n._p=(o=function(e){var n=o._s||this;return null==n.example_group_instance&&(n.example_group_instance=t),null==e&&(e=t),n.example_group_instance.$instance_variable_set(e,t)},o._s=a,o),n).call(r),a.example_group_instance=t;try{a.$assign_generated_description()}catch(s){if(!(null==(n=c.Exception)?e.cm("Exception"):n)["$==="](s))throw s;i=s,a.$set_exception(i,"while assigning the example description")}}return a.$finish(a.reporter),(null==(n=e.Object._scope.RSpec)?e.cm("RSpec"):n)["$current_example="](t),a.after_run_block.$call()},t}(c,null==(i=(null==(s=(null==(l=e.Object._scope.RSpec)?e.cm("RSpec"):l)._scope).Core?s.cm("Core"):s.Core)._scope).Example?i.cm("Example"):i.Example)}(i)}(n)}(Opal),function(e){var n,t,r,o,a=e.top,i=e,s=e.nil;return e.breaker,e.slice,e.add_stubs(["$configure","$formatter=","$default_formatter","$include","$extend","$expect_with","$syntax="]),(n=(t=null==(o=i.RSpec)?e.cm("RSpec"):o).$configure,n._p=(r=function(n){var t,o,a,l,c=r._s||this;return null==n&&(n=s),n["$formatter="]((null==(t=(null==(o=(null==(a=i.Opal)?e.cm("Opal"):a)._scope).RSpec?o.cm("RSpec"):o.RSpec)._scope).Runner?t.cm("Runner"):t.Runner).$default_formatter()),n.$include(null==(t=(null==(o=(null==(a=i.Opal)?e.cm("Opal"):a)._scope).RSpec?o.cm("RSpec"):o.RSpec)._scope).AsyncHelpers?t.cm("AsyncHelpers"):t.AsyncHelpers),n.$extend(null==(t=(null==(o=(null==(a=i.Opal)?e.cm("Opal"):a)._scope).RSpec?o.cm("RSpec"):o.RSpec)._scope).AsyncDefinitions?t.cm("AsyncDefinitions"):t.AsyncDefinitions),(t=(o=n).$expect_with,t._p=(l=function(e){return l._s||this,null==e&&(e=s),e["$syntax="](["should","expect"])},l._s=c,l),t).call(o,"rspec")},r._s=a,r),n).call(t)}(Opal),function(e){return e.top,e.nil,e.breaker,e.slice,e.add_stubs([]),!0}(Opal),function(e){return e.top,e.nil,e.breaker,e.slice,e.add_stubs([]),!0}(Opal);